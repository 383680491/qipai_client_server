{"version":3,"sources":["RadioGroupMgr.js"],"names":["cc","Class","extends","Component","properties","_groups","init","add","radioButton","isStorage","groupId","buttons","push","gameType","vv","userMgr","data","JSON","parse","sys","localStorage","getItem","Pay","i","length","checked","payMode","wanfa","j","wanfaMode","del","storage","idx","indexOf","splice","sssPayModeIndex","ssswanfaModeIndex","sspPayModeIndex","sspwanfaModeIndex","sssPay","ssswanfa","sspPay","sspwanfa","Data","setItem","stringify","check","serverType","sspNetMgr","voiceConversion","btn"],"mappings":"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","file":"RadioGroupMgr.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\scripts\\components","sourcesContent":["cc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        // foo: {\r\n        //    default: null,\r\n        //    url: cc.Texture2D,  // optional, default is typeof default\r\n        //    serializable: true, // optional, default is true\r\n        //    visible: true,      // optional, default is true\r\n        //    displayName: 'Foo', // optional\r\n        //    readonly: false,    // optional, default is false\r\n        // },\r\n        // ...\r\n        _groups:null\r\n    },\r\n\r\n    // use this for initialization\r\n    init: function () {\r\n        this._groups = {};\r\n    },\r\n    \r\n    add:function(radioButton){\r\n        this.isStorage = true;\r\n\r\n        var groupId = radioButton.groupId; \r\n        var buttons = this._groups[groupId];\r\n        if(buttons == null){\r\n            buttons = [];\r\n            this._groups[groupId] = buttons; \r\n        }\r\n        buttons.push(radioButton);\r\n\r\n        var gameType = cc.vv.userMgr.gameType;//�Ѵ洢�������ó���\r\n        var data = null;\r\n        if('SSS_SERVER_TYPE' === gameType){\r\n            data = JSON.parse(cc.sys.localStorage.getItem('SSSgroups'));\r\n        }\r\n        else if('SSP_SERVER_TYPE' === gameType){\r\n            data = JSON.parse(cc.sys.localStorage.getItem('SSPgroups'));\r\n        }\r\n        if(data){\r\n            if(groupId === 4){  \r\n                var Pay = this._groups[4];\r\n                for(var i = 0;i < Pay.length;i++){\r\n                    Pay[i].checked = false;\r\n                    if(data.payMode === i){\r\n                        Pay[i].checked = true;\r\n                    }\r\n                }\r\n            }\r\n            else if(groupId === 5){\r\n                var wanfa = this._groups[5];\r\n                for(var j = 0;j < wanfa.length;j++){\r\n                    wanfa[j].checked = false;\r\n                    if(data.wanfaMode === j){\r\n                        wanfa[j].checked = true;\r\n                    }\r\n                }\r\n            }\r\n            else if(groupId === 6){  \r\n                var Pay = this._groups[6];\r\n                for(var i = 0;i < Pay.length;i++){\r\n                    Pay[i].checked = false;\r\n                    if(data.payMode === i){\r\n                        Pay[i].checked = true;\r\n                    }\r\n                }\r\n            }\r\n            else if(groupId === 7){\r\n                var wanfa = this._groups[7];\r\n                for(var j = 0;j < wanfa.length;j++){\r\n                    wanfa[j].checked = false;\r\n                    if(data.wanfaMode === j){\r\n                        wanfa[j].checked = true;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        \r\n    },\r\n    \r\n    del:function(radioButton){\r\n        var groupId = radioButton.groupId;\r\n        var buttons = this._groups[groupId];\r\n\r\n        if(this.isStorage){\r\n            this.storage();\r\n        }\r\n\r\n        if(buttons == null){\r\n            return; \r\n        }\r\n        var idx = buttons.indexOf(radioButton);\r\n        if(idx != -1){\r\n            buttons.splice(idx,1);            \r\n        }\r\n        if(buttons.length == 0){\r\n            delete this._groups[groupId]   \r\n        }\r\n        // cc.sys.localStorage.setItem(\"H5_wxrefreshToken\",refresh_token);\r\n        // var sign = cc.sys.localStorage.getItem(\"wx_sign\");\r\n    },\r\n\r\n    storage:function(){  //�洢ģʽ\r\n        this.isStorage = false;\r\n        var sssPayModeIndex = null;//֧����ʽ\r\n        var ssswanfaModeIndex = null;//�淨��ʽ\r\n        var sspPayModeIndex = null;//֧����ʽ\r\n        var sspwanfaModeIndex = null;//�淨��ʽ\r\n        var sssPay = this._groups[4];//ʮ��ˮ\r\n        var ssswanfa = this._groups[5];//ʮ��ˮ\r\n        var sspPay = this._groups[6];//��ɫ��\r\n        var sspwanfa = this._groups[7];//��ɫ��\r\n\r\n        var gameType = cc.vv.userMgr.gameType;\r\n        if('SSS_SERVER_TYPE' === gameType){\r\n            if(!sssPay || !ssswanfa){\r\n                return;\r\n            }\r\n            for(var i = 0 ; i < sssPay.length;i++){\r\n                if(sssPay[i].checked === true){\r\n                    sssPayModeIndex = i;\r\n                }\r\n            }\r\n            for(var j = 0 ; j < ssswanfa.length;j++){\r\n                if(ssswanfa[j].checked === true){\r\n                    ssswanfaModeIndex = j;\r\n                }\r\n            }\r\n            if(sssPayModeIndex >= 0 && ssswanfaModeIndex >= 0){\r\n                var Data = {};\r\n                Data.payMode = sssPayModeIndex;\r\n                Data.wanfaMode = ssswanfaModeIndex;\r\n\r\n                cc.sys.localStorage.setItem('SSSgroups', JSON.stringify(Data));\r\n            }\r\n        }\r\n        if('SSP_SERVER_TYPE' === gameType){\r\n            if(!sspPay || !sspwanfa){\r\n                return;\r\n            }\r\n            for(var i = 0 ; i < sspPay.length;i++){\r\n                if(sspPay[i].checked === true){\r\n                    sspPayModeIndex = i;\r\n                }\r\n            }\r\n            for(var j = 0 ; j < sspwanfa.length;j++){\r\n                if(sspwanfa[j].checked === true){\r\n                    sspwanfaModeIndex = j;\r\n                }\r\n            }\r\n            if(sspPayModeIndex >= 0 && sspwanfaModeIndex >= 0){\r\n                var Data = {};\r\n                Data.payMode = sspPayModeIndex;\r\n                Data.wanfaMode = sspwanfaModeIndex;\r\n\r\n                cc.sys.localStorage.setItem('SSPgroups', JSON.stringify(Data));\r\n            }\r\n        }\r\n    },\r\n    \r\n    check:function(radioButton){\r\n        var groupId = radioButton.groupId;\r\n        var buttons = this._groups[groupId];\r\n        if(buttons == null){\r\n            return; \r\n        }\r\n        var gameType = cc.vv.userMgr.serverType;\r\n        if('SSP_SERVER_TYPE' === gameType){\r\n            if(radioButton == buttons[0]){\r\n                cc.vv.sspNetMgr.voiceConversion = 0;\r\n            }\r\n            else{\r\n                cc.vv.sspNetMgr.voiceConversion = 1;\r\n            }\r\n            \r\n        }\r\n        for(var i = 0; i < buttons.length; ++i){\r\n            var btn = buttons[i];\r\n            if(btn == radioButton){\r\n                btn.check(true);\r\n            }else{\r\n                btn.check(false);\r\n            }\r\n        }        \r\n    }\r\n\r\n    // called every frame, uncomment this function to activate update callback\r\n    // update: function (dt) {\r\n\r\n    // },\r\n});\r\n"]}