{"version":3,"sources":["Alert.js"],"names":["cc","Class","extends","Component","properties","PromptAtlas","default","type","SpriteAtlas","_alert","_btnOK","_btnCancel","_title","_content","_onok","_cancel","onLoad","vv","find","getComponent","Label","utils","addClickEvent","node","active","alert","onBtnClicked","event","target","name","show","title","content","onok","needcancel","spriteFrame","getPromptImage","titleSprite","Sprite","string","x","showEx","onCancel","closeShowEx","onDestory","getSpriteFrame"],"mappings":"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","file":"Alert.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\scripts\\components","sourcesContent":["cc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        // foo: {\r\n        //    default: null,      // The default value will be used only when the component attaching\r\n        //                           to a node for the first time\r\n        //    url: cc.Texture2D,  // optional, default is typeof default\r\n        //    serializable: true, // optional, default is true\r\n        //    visible: true,      // optional, default is true\r\n        //    displayName: 'Foo', // optional\r\n        //    readonly: false,    // optional, default is false\r\n        // },\r\n        // ...\r\n        PromptAtlas:{\r\n            default:null,\r\n            type:cc.SpriteAtlas\r\n        },\r\n        _alert:null,\r\n        _btnOK:null,\r\n        _btnCancel:null,\r\n        _title:null,\r\n        _content:null,\r\n        _onok:null,\r\n        _cancel:null,\r\n    },\r\n\r\n    onLoad: function () {\r\n        if(cc.vv == null){\r\n            return;\r\n        }\r\n        this._alert = cc.find(\"Canvas/alert\");\r\n        this._title = cc.find(\"Canvas/alert/title\");\r\n        this._content = cc.find(\"Canvas/alert/content\").getComponent(cc.Label);\r\n        \r\n        this._btnOK = cc.find(\"Canvas/alert/btn_ok\");\r\n        this._btnCancel = cc.find(\"Canvas/alert/btn_cancel\");\r\n        \r\n        cc.vv.utils.addClickEvent(this._btnOK,this.node,\"Alert\",\"onBtnClicked\");\r\n        cc.vv.utils.addClickEvent(this._btnCancel,this.node,\"Alert\",\"onBtnClicked\");\r\n\r\n        this._alert.active = false;\r\n        cc.vv.alert = this;\r\n    },\r\n    \r\n    onBtnClicked:function(event){\r\n        if(event.target.name == \"btn_ok\"){\r\n            if(this._onok){\r\n                this._onok();\r\n            }\r\n        }\r\n        else if(event.target.name == \"btn_cancel\"){\r\n            if(this._cancel){\r\n                this._cancel();\r\n            }\r\n        }\r\n        this._alert.active = false;\r\n        this._onok = null;\r\n        this._cancel = null;\r\n    },\r\n    \r\n    show:function(title,content,onok,needcancel){\r\n        this._alert.active = true;\r\n        this._onok = onok;\r\n\r\n        var node = this.node;\r\n\r\n        var spriteFrame = this.getPromptImage(title);\r\n        var titleSprite = this._title.getComponent(cc.Sprite);\r\n        titleSprite.spriteFrame = spriteFrame;\r\n\r\n        this._content.string = content;\r\n        if(needcancel){\r\n            this._btnCancel.active = true;\r\n            this._btnOK.x = -150;\r\n            this._btnCancel.x = 150;\r\n        }\r\n        else{\r\n            this._btnCancel.active = false;\r\n            this._btnOK.x = 0;\r\n        }\r\n    },\r\n\r\n    showEx:function(title,content,onok,onCancel){\r\n        this._alert.active = true;\r\n        this._onok = onok;\r\n        this._cancel = onCancel;\r\n        this._title.string = title;\r\n        this._content.string = content;\r\n\r\n        var spriteFrame = this.getPromptImage(title);\r\n        var titleSprite = this._title.getComponent(cc.Sprite);\r\n        titleSprite.spriteFrame = spriteFrame;\r\n\r\n        this._btnCancel.active = true;\r\n        this._btnOK.x = -150;\r\n        this._btnCancel.x = 150;\r\n    },\r\n    \r\n    closeShowEx:function(){\r\n        this._alert.active = false;\r\n    },\r\n\r\n    onDestory:function(){\r\n        if(cc.vv){\r\n            cc.vv.alert = null;    \r\n        }\r\n    },\r\n\r\n    getPromptImage: function(title){\r\n        switch(title){\r\n            case \"提示\":\r\n                var spriteFrame = this.PromptAtlas.getSpriteFrame(\"icon_prompt\");\r\n                return spriteFrame;\r\n            case \"解散房间\":\r\n                var spriteFrame = this.PromptAtlas.getSpriteFrame(\"icon_dissolveroom\");\r\n                return spriteFrame;\r\n            case \"返回大厅\":\r\n                var spriteFrame = this.PromptAtlas.getSpriteFrame(\"icon_prompt\");\r\n                return spriteFrame;\r\n            case \"霸王庄提示\":\r\n                var spriteFrame = this.PromptAtlas.getSpriteFrame(\"icon_BWZprompt\");\r\n                return spriteFrame;\r\n            case \"注意\":\r\n                var spriteFrame = this.PromptAtlas.getSpriteFrame(\"icon_prompt\");\r\n                return spriteFrame;\r\n            default:\r\n                break;\r\n        }\r\n    },\r\n\r\n    // called every frame, uncomment this function to activate update callback\r\n    // update: function (dt) {\r\n\r\n    // },\r\n});\r\n"]}