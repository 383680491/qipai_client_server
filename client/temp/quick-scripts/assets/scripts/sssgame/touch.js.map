{"version":3,"sources":["touch.js"],"names":["numSprites","cc","Class","extends","Component","properties","shezhiPai","type","Node","default","myPai","_timeChild","_gewei","_shiwei","_tempHoldData","numAtlas","SpriteAtlas","onLoad","addY","norY","initSheZhi","initMyPai","arrUpPai","TDIndex","ZDIndex","WDIndex","arrUpPaiIndex","Compare","require","node","getChildByName","_curTurn","vv","sssNetMgr","turn","bUpPai","push","initHandler","setCountdown","data","time","gewei","shiwei","t","Math","ceil","floor","spriteS","getComponent","Sprite","spriteG","spriteFrameS","getSpriteFrame","getNumSpriteByNum","spriteFrameG","spriteFrame","reset","setAllDown","arrMyPai","arrMyPaiPos","posX","i","name","paiNode","scale","y","x","getPosition","addTouch","arrTDPai","arrZDPai","arrWDPai","arrSheZhiPai","tdNode","zdNode","wdNode","tempPaiNode","active","wanfa","btnBaipai","pai","on","EventType","TOUCH_START","onTouchStart","TOUCH_MOVE","onTouchMove","TOUCH_END","onTouchEnd","tdPaiNode","tag","onSheZhiTouchStart","onSheZhiTouchMove","onSheZhiTouchEnd","TOUCH_CANCEL","onSheZhiTouchCancel","zdPaiNode","wdPaiNode","event","console","log","target","paiCom","paiData","getData","location","getLocation","length","pos","parent","convertToNodeSpaceAR","paiPos","position","rect","width","height","contains","aimCom","aimData","value","setNullInfo","setInfo","sortPaiData","tempData","isBB","setArrMyPai","btnCancel","find","btnOk","refreshMyPai","arrpai","arrPaiData","m","PaiCom","PaiData","myPaiCom","sortPai","getMyPaiData","automaticPai","arrUpPaiData","getUpPaiData","setTypeCom","Type","preBtnTag","wdPaiCom","wdPaiData","zdPaiCom","zdPaiData","tdPaiCom","tdPaiData","btnIsView","audioMgr","playSFX","startPos","bTouchPai","endPos","len","szPai","szPaiPos","getPositionY","setPositionY","quickSwing","tdPai","zdPai","wdPai","sort","a","b","cancelWD","cancelZD","cancelTD","setUp","arrTemp","upPaiType","upPaiValue","j","MyPaiCom","MyPaiData","splice","bDel","temp","gap","getType","sanPaiIndex","getIsSetInfo"],"mappings":"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","file":"touch.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\scripts\\sssgame","sourcesContent":["var numSprites = [];\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        // foo: {\r\n        //    default: null,      // The default value will be used only when the component attaching\r\n        //                           to a node for the first time\r\n        //    url: cc.Texture2D,  // optional, default is typeof default\r\n        //    serializable: true, // optional, default is true\r\n        //    visible: true,      // optional, default is true\r\n        //    displayName: 'Foo', // optional\r\n        //    readonly: false,    // optional, default is false\r\n        // },\r\n        // ...\r\n        shezhiPai:{\r\n            type:cc.Node,\r\n            default:null\r\n        },\r\n        myPai:{\r\n            type:cc.Node,\r\n            default:null\r\n        },\r\n        _timeChild:null,\r\n        _gewei:null,\r\n        _shiwei:null,\r\n        _tempHoldData:null,\r\n        numAtlas:{\r\n            default:null,\r\n            type:cc.SpriteAtlas\r\n        },\r\n        // getType:{\r\n        //     type:cc.Node, \r\n        //     default:null\r\n        // },\r\n    },\r\n\r\n    // use this for initialization\r\n    onLoad: function () {\r\n        this.addY = -60;\r\n        this.norY = -110;\r\n\r\n        this.initSheZhi();\r\n        this.initMyPai();\r\n\r\n        this.arrUpPai = [];\r\n        this.TDIndex = 0;\r\n        this.ZDIndex = 0;\r\n        this.WDIndex = 0;\r\n        this.arrUpPaiIndex = [];\r\n        this.Compare = require(\"Compare\");\r\n        this._timeChild = this.node.getChildByName('time');\r\n        this._shiwei = this._timeChild.getChildByName(\"shiwei\");\r\n        this._gewei = this._timeChild.getChildByName(\"gewei\");\r\n        this._curTurn = cc.vv.sssNetMgr.turn;\r\n        this.bUpPai = true;      \r\n        \r\n        numSprites.push(\"mjks-0\");\r\n        numSprites.push(\"mjks-1\");\r\n        numSprites.push(\"mjks-2\");\r\n        numSprites.push(\"mjks-3\");\r\n        numSprites.push(\"mjks-4\");\r\n        numSprites.push(\"mjks-5\");\r\n        numSprites.push(\"mjks-6\");\r\n        numSprites.push(\"mjks-7\");\r\n        numSprites.push(\"mjks-8\");\r\n        numSprites.push(\"mjks-9\");\r\n    },\r\n\r\n    initHandler:function(){\r\n        \r\n    },\r\n\r\n    //设置倒计时\r\n    setCountdown:function(data){\r\n        var time = data;\r\n        var gewei = null;\r\n        var shiwei = null;\r\n        var t = Math.ceil(time);\r\n        if (t >= 10) {\r\n            shiwei = Math.floor(t / 10);\r\n            gewei = t % 10;\r\n        }\r\n        else{\r\n            shiwei = 0;\r\n            gewei = t % 10;\r\n        }\r\n\r\n        if(this._shiwei && this._gewei){\r\n            var spriteS = this._shiwei.getComponent(cc.Sprite);\r\n            var spriteG = this._gewei.getComponent(cc.Sprite);\r\n            var spriteFrameS = this.numAtlas.getSpriteFrame(this.getNumSpriteByNum(shiwei));\r\n            var spriteFrameG = this.numAtlas.getSpriteFrame(this.getNumSpriteByNum(gewei));\r\n            spriteS.spriteFrame = spriteFrameS;\r\n            spriteG.spriteFrame = spriteFrameG;\r\n        }\r\n    },\r\n\r\n    reset:function(){\r\n        this.arrUpPai = [];\r\n        this.TDIndex = 0;\r\n        this.ZDIndex = 0;\r\n        this.WDIndex = 0;\r\n        this.arrUpPaiIndex = [];\r\n        this.setAllDown();\r\n    },\r\n    initMyPai:function(){\r\n        this.arrMyPai = [];\r\n        this.arrMyPaiPos = [];\r\n        var posX = -750;\r\n        for(var i = 1; i <= 13; i++){\r\n            var name = 'pai'+i;\r\n            var paiNode = this.myPai.getChildByName(name);\r\n            paiNode.scale = 0.65;\r\n            paiNode.y = -110;\r\n            paiNode.x = posX + 100*i;\r\n            this.arrMyPaiPos.push(paiNode.getPosition());\r\n            this.arrMyPai.push(paiNode);\r\n        }\r\n        this.addTouch();\r\n\r\n    },\r\n    initSheZhi:function(){\r\n        this.arrTDPai = [];\r\n        this.arrZDPai = [];\r\n        this.arrWDPai = [];\r\n        this.arrSheZhiPai = [];\r\n        var tdNode = this.shezhiPai.getChildByName('toudaoNode');\r\n        var zdNode = this.shezhiPai.getChildByName('zhongdaoNode');\r\n        var wdNode = this.shezhiPai.getChildByName('weidaoNode');\r\n        this.tempPaiNode = this.shezhiPai.getChildByName('tempPai');\r\n        this.tempPaiNode.active = false;\r\n        if (cc.vv.sssNetMgr.wanfa === 2) {\r\n            var btnBaipai = this.shezhiPai.getChildByName('btn_Baipai');\r\n            btnBaipai.active = false;\r\n        }\r\n        for(var i = 1; i <= 3; i++){\r\n            var name = 'paiNode'+i;\r\n            var paiNode = tdNode.getChildByName(name);\r\n            var pai = paiNode.getChildByName('pai');\r\n            this.arrTDPai.push(pai);\r\n            this.arrSheZhiPai.push(paiNode);\r\n        }\r\n        for(var i = 1; i <= 5; i++){\r\n            var name = 'paiNode'+i;\r\n            var paiNode = zdNode.getChildByName(name);\r\n            var pai = paiNode.getChildByName('pai');\r\n            this.arrZDPai.push(pai);\r\n            this.arrSheZhiPai.push(paiNode);\r\n        }\r\n        for(var i = 1; i <= 5; i++){\r\n            var name = 'paiNode'+i;\r\n            var paiNode = wdNode.getChildByName(name);\r\n            var pai = paiNode.getChildByName('pai');\r\n            this.arrWDPai.push(pai);\r\n            this.arrSheZhiPai.push(paiNode);\r\n        }\r\n    },\r\n    addTouch:function(){\r\n        this.myPai.on(cc.Node.EventType.TOUCH_START, this.onTouchStart, this);\r\n        this.myPai.on(cc.Node.EventType.TOUCH_MOVE, this.onTouchMove, this);\r\n        this.myPai.on(cc.Node.EventType.TOUCH_END, this.onTouchEnd, this);\r\n\r\n        var tdNode = this.shezhiPai.getChildByName('toudaoNode');\r\n        for(let i = 1;i <= 3;i++){\r\n            var tdPaiNode = tdNode.getChildByName('paiNode'+i);\r\n            tdPaiNode.tag = 0;\r\n            tdPaiNode.on(cc.Node.EventType.TOUCH_START, this.onSheZhiTouchStart, this);\r\n            tdPaiNode.on(cc.Node.EventType.TOUCH_MOVE, this.onSheZhiTouchMove, this);\r\n            tdPaiNode.on(cc.Node.EventType.TOUCH_END, this.onSheZhiTouchEnd, this);\r\n            tdPaiNode.on(cc.Node.EventType.TOUCH_CANCEL, this.onSheZhiTouchCancel, this);\r\n        }\r\n\r\n        var zdNode = this.shezhiPai.getChildByName('zhongdaoNode');\r\n        for(let i = 1;i <= 5;i++){\r\n            var zdPaiNode = zdNode.getChildByName('paiNode'+i);\r\n            zdPaiNode.tag = 1;\r\n            zdPaiNode.on(cc.Node.EventType.TOUCH_START, this.onSheZhiTouchStart, this);\r\n            zdPaiNode.on(cc.Node.EventType.TOUCH_MOVE, this.onSheZhiTouchMove, this);\r\n            zdPaiNode.on(cc.Node.EventType.TOUCH_END, this.onSheZhiTouchEnd, this);\r\n            zdPaiNode.on(cc.Node.EventType.TOUCH_CANCEL, this.onSheZhiTouchCancel, this);\r\n        }\r\n\r\n        var wdNode = this.shezhiPai.getChildByName('weidaoNode');\r\n        for(let i = 1;i <= 5;i++){\r\n            var wdPaiNode = wdNode.getChildByName('paiNode'+i);\r\n            wdPaiNode.tag = 2;\r\n            wdPaiNode.on(cc.Node.EventType.TOUCH_START, this.onSheZhiTouchStart, this);\r\n            wdPaiNode.on(cc.Node.EventType.TOUCH_MOVE, this.onSheZhiTouchMove, this);\r\n            wdPaiNode.on(cc.Node.EventType.TOUCH_END, this.onSheZhiTouchEnd, this);\r\n            wdPaiNode.on(cc.Node.EventType.TOUCH_CANCEL, this.onSheZhiTouchCancel, this);\r\n        }\r\n    },\r\n\r\n    onSheZhiTouchCancel:function(event){\r\n        console.log('onSheZhiTouchCancel');\r\n        var target = event.target;\r\n        var paiCom = target.getChildByName('pai').getComponent('pai');\r\n        var paiData = paiCom.getData();\r\n        var location = event.getLocation();\r\n        this.tempPaiNode.active = false;\r\n        \r\n        for(let i = 0;i < this.arrSheZhiPai.length;i++){\r\n            let paiNode = this.arrSheZhiPai[i];\r\n            var pos = paiNode.parent.convertToNodeSpaceAR(location);\r\n            let paiPos = paiNode.position;\r\n            let rect = new cc.rect(paiPos.x - paiNode.width/2, paiPos.y - paiNode.height/2, paiNode.width, paiNode.height);\r\n            if (rect.contains(pos)) {\r\n                console.log('rect.contains(pos) arrTDPai');\r\n                let aimCom = paiNode.getChildByName('pai').getComponent('pai');   \r\n                let aimData = aimCom.getData();\r\n                if(aimData.value === 1){    //代表牌是空的\r\n                    paiCom.setNullInfo();\r\n                    aimCom.setInfo(paiData);\r\n\r\n                    if(target.parent.name == 'toudaoNode'){\r\n                        this.TDIndex--;\r\n                    }\r\n                    else if(target.parent.name == 'zhongdaoNode'){\r\n                        this.ZDIndex--;\r\n                    }\r\n                    else if(target.parent.name == 'weidaoNode'){\r\n                        this.WDIndex--;\r\n                    }\r\n                    if(i < 3){\r\n                        this.TDIndex++;\r\n                    }\r\n                    else if(i < 8){\r\n                        this.ZDIndex++;\r\n                    }else if(i < 13){\r\n                        this.WDIndex++;\r\n                    }\r\n                    //重新排序\r\n                    if(this.arrTDPai.length === 3){\r\n                        this.sortPaiData(this.arrTDPai);\r\n                    }\r\n                    if(this.arrZDPai.length === 5){\r\n                        this.sortPaiData(this.arrZDPai);\r\n                    }\r\n                    if(this.arrWDPai.length === 5){\r\n                        this.sortPaiData(this.arrWDPai);\r\n                    }\r\n                }\r\n                else{\r\n                    let tempData = {};\r\n                    tempData.type = paiData.type;\r\n                    tempData.value = paiData.value;\r\n                    tempData.isBB = paiData.isBB;\r\n                    paiCom.setInfo(aimData);\r\n                    aimCom.setInfo(tempData);\r\n\r\n                    //重新排序\r\n                    if(this.arrTDPai.length === 3){\r\n                        this.sortPaiData(this.arrTDPai);\r\n                    }\r\n                    if(this.arrZDPai.length === 5){\r\n                        this.sortPaiData(this.arrZDPai);\r\n                    }\r\n                    if(this.arrWDPai.length === 5){\r\n                        this.sortPaiData(this.arrWDPai);\r\n                    }\r\n                }\r\n                return;\r\n            }\r\n        }\r\n        // //牌放回手上\r\n        \r\n        if(paiData.value !== 1){\r\n            if(paiData.isBB){\r\n                this.setArrMyPai(paiData,false,true);\r\n            }\r\n            else{\r\n                this.setArrMyPai(paiData,false);\r\n            }\r\n            if(target.parent.name == 'toudaoNode'){\r\n                this.TDIndex--;\r\n            }\r\n            else if(target.parent.name == 'zhongdaoNode'){\r\n                this.ZDIndex--;\r\n            }\r\n            else if(target.parent.name == 'weidaoNode'){\r\n                this.WDIndex--;\r\n            }\r\n            var btnCancel = cc.find(\"Canvas/prepare/shezhipai/btn_Cancel\");\r\n            var btnOk = cc.find(\"Canvas/prepare/shezhipai/btn_Ok\");\r\n            btnCancel.active = false;\r\n            btnOk.active = false;\r\n            \r\n            paiCom.setNullInfo();\r\n            this.refreshMyPai();\r\n        }\r\n    },\r\n\r\n\r\n\r\n    sortPaiData:function(arrpai){  //取牌数据\r\n        var arrPaiData = [];\r\n        for(let m = 0;m < arrpai.length;m++){\r\n            let Node = arrpai[m];\r\n            let PaiCom = Node.getComponent('pai');\r\n            let PaiData = PaiCom.getData();\r\n            let tempData = {};\r\n            tempData.value = PaiData.value;\r\n            tempData.type = PaiData.type;\r\n            tempData.isBB = PaiData.isBB;\r\n            arrPaiData.push(tempData);\r\n        }\r\n        var myPaiCom = this.myPai.getComponent(\"myPai\");\r\n        myPaiCom.sortPai(arrPaiData);\r\n\r\n        //刷新自己手牌\r\n        for(var i = 0;i < arrPaiData.length; i++){\r\n            arrpai[i].getComponent(\"pai\").setInfo(arrPaiData[i]);\r\n        }\r\n    },\r\n\r\n    onSheZhiTouchEnd:function(event){\r\n        console.log('onSheZhiTouchEnd');\r\n        this.tempPaiNode.active = false;\r\n        var btnCancel = cc.find(\"Canvas/prepare/shezhipai/btn_Cancel\");\r\n        var btnOk = cc.find(\"Canvas/prepare/shezhipai/btn_Ok\");\r\n        var myPaiCom = this.myPai.getComponent(\"myPai\");\r\n        var arrPaiData = myPaiCom.getMyPaiData();\r\n        if(arrPaiData.length === 0){\r\n            btnCancel.active = true;\r\n            btnOk.active = true;\r\n        }\r\n        var target = event.target;\r\n        var paiCom = target.getChildByName('pai').getComponent('pai');\r\n        var paiData = paiCom.getData();\r\n        if(this.bUpPai){\r\n            this.automaticPai();\r\n        }\r\n        // //牌放回手上\r\n        if(paiData.value !== 1 && !this.bUpPai){\r\n            if(paiData.isBB){\r\n                this.setArrMyPai(paiData,false,true);\r\n            }\r\n            else{\r\n                this.setArrMyPai(paiData,false);\r\n            }\r\n            if(target.parent.name == 'toudaoNode'){\r\n                this.TDIndex--;\r\n            }\r\n            else if(target.parent.name == 'zhongdaoNode'){\r\n                this.ZDIndex--;\r\n            }\r\n            else if(target.parent.name == 'weidaoNode'){\r\n                this.WDIndex--;\r\n            }\r\n            var btnCancel = cc.find(\"Canvas/prepare/shezhipai/btn_Cancel\");\r\n            var btnOk = cc.find(\"Canvas/prepare/shezhipai/btn_Ok\");\r\n            btnCancel.active = false;\r\n            btnOk.active = false;\r\n            \r\n            paiCom.setNullInfo();\r\n            this.refreshMyPai();\r\n        }\r\n        this.bUpPai = false;\r\n    },\r\n\r\n    onSheZhiTouchMove:function(event){\r\n        var target = event.target;\r\n        let location = event.getLocation();\r\n        let pos = this.shezhiPai.convertToNodeSpaceAR(location);\r\n        this.tempPaiNode.position  = pos;\r\n    },\r\n\r\n    onSheZhiTouchStart:function(event){\r\n        var target = event.target;\r\n        var arrUpPaiData = this.getUpPaiData();\r\n        if(arrUpPaiData.length < 1){    //牌的移动,百变先不做\r\n            var target = event.target;\r\n            var paiCom = target.getChildByName('pai').getComponent('pai');\r\n            var paiData = paiCom.getData();\r\n            if(paiData){\r\n                let location = event.getLocation();\r\n                let pos = this.shezhiPai.convertToNodeSpaceAR(location);\r\n                let paiCom = this.tempPaiNode.getComponent('pai');\r\n                paiCom.setInfo(paiData);\r\n                this.tempPaiNode.active = true;\r\n                this.tempPaiNode.position  = pos;\r\n            }\r\n        }\r\n        if(target.tag === 2){\r\n            console.log(\"touch weidaoNode\");\r\n            if(this.WDIndex > 4){\r\n                return;\r\n            }\r\n            var setTypeCom = this.node.getChildByName(\"setType\").getComponent(\"setType\");\r\n            var Type = setTypeCom.preBtnTag;\r\n            if(Type !== 0 && cc.vv.sssNetMgr.wanfa === 2){ \r\n                //取点击的类型\r\n                var myPaiCom = this.myPai.getComponent(\"myPai\");\r\n                var arrPaiData = myPaiCom.getMyPaiData();\r\n                setTypeCom.preBtnTag = 0;\r\n            }\r\n            for(var i = 0; i < arrUpPaiData.length; i++){\r\n                if(this.WDIndex > 4){\r\n                    break;\r\n                }\r\n                \r\n                for(let m = 0;m<this.arrWDPai.length;m++){\r\n                    let Node = this.arrWDPai[m];\r\n                    let wdPaiCom = Node.getComponent('pai');\r\n                    let wdPaiData = wdPaiCom.getData();\r\n                    if(wdPaiData.value <= 1){\r\n                        var paiNode = this.arrWDPai[m];\r\n                        break;\r\n                    }\r\n                }\r\n                if(!paiNode){\r\n                    return;\r\n                }\r\n                var myPaiCom = this.myPai.getComponent(\"myPai\");\r\n                var arrPaiData = myPaiCom.getMyPaiData();\r\n                var paiCom = paiNode.getComponent(\"pai\");\r\n                paiCom.setInfo(arrUpPaiData[i]);\r\n                this.setArrMyPai(arrUpPaiData[i],true);\r\n                this.WDIndex++;\r\n                this.bUpPai = true;\r\n            }\r\n        }\r\n        else if(target.tag === 1){\r\n            console.log(\"touch zhongdaoNode\");\r\n            if(this.ZDIndex > 4){\r\n                return;\r\n            }\r\n            var setTypeCom = this.node.getChildByName(\"setType\").getComponent(\"setType\");\r\n            var Type = setTypeCom.preBtnTag;\r\n            if(Type !== 0 && cc.vv.sssNetMgr.wanfa === 2){ \r\n                //取点击的类型\r\n                var myPaiCom = this.myPai.getComponent(\"myPai\");\r\n                var arrPaiData = myPaiCom.getMyPaiData();\r\n                setTypeCom.preBtnTag = 0;\r\n            }\r\n            for(var i = 0; i < arrUpPaiData.length; i++){\r\n                if(this.ZDIndex > 4){\r\n                    break;\r\n                }\r\n\r\n                for(let m = 0;m<this.arrZDPai.length;m++){\r\n                    let Node = this.arrZDPai[m];\r\n                    let zdPaiCom = Node.getComponent('pai');\r\n                    let zdPaiData = zdPaiCom.getData();\r\n                    if(zdPaiData.value <= 1){\r\n                        var paiNode = this.arrZDPai[m];\r\n                        break;\r\n                    }\r\n                }\r\n                if(!paiNode){\r\n                    return;\r\n                }\r\n                var paiCom = paiNode.getComponent(\"pai\");\r\n                paiCom.setInfo(arrUpPaiData[i]);\r\n                this.setArrMyPai(arrUpPaiData[i],true);\r\n                this.ZDIndex++;\r\n                this.bUpPai = true;\r\n            }\r\n        }\r\n        else if(target.tag === 0){\r\n            console.log(\"touch toudaoNode\");\r\n            if(this.TDIndex > 2){\r\n                return;\r\n            }\r\n            var setTypeCom = this.node.getChildByName(\"setType\").getComponent(\"setType\");\r\n            var Type = setTypeCom.preBtnTag;\r\n            if(Type !== 0 && cc.vv.sssNetMgr.wanfa === 2){ \r\n                //取点击的类型\r\n                var myPaiCom = this.myPai.getComponent(\"myPai\");\r\n                var arrPaiData = myPaiCom.getMyPaiData();\r\n                setTypeCom.preBtnTag = 0;\r\n            }\r\n            for(var i = 0; i < arrUpPaiData.length; i++){\r\n                if(this.TDIndex > 2){\r\n                    break;\r\n                }\r\n                \r\n                for(let m = 0;m<this.arrTDPai.length;m++){\r\n                    let Node = this.arrTDPai[m];\r\n                    let tdPaiCom = Node.getComponent('pai');\r\n                    let tdPaiData = tdPaiCom.getData();\r\n                    if(tdPaiData.value <= 1){\r\n                        var paiNode = this.arrTDPai[m];\r\n                        break;\r\n                    }\r\n                }\r\n                if(!paiNode){\r\n                    return;\r\n                }\r\n                var paiCom = paiNode.getComponent(\"pai\");\r\n                paiCom.setInfo(arrUpPaiData[i]);\r\n                this.setArrMyPai(arrUpPaiData[i],true);\r\n                this.TDIndex++;\r\n                this.bUpPai = true;\r\n            }\r\n        }\r\n        this.refreshMyPai();\r\n\r\n        var btnIsView = false;\r\n        var btnCancel = this.shezhiPai.getChildByName(\"btn_Cancel\");\r\n        var btnOk = this.shezhiPai.getChildByName(\"btn_Ok\");\r\n        for(var i = 1; i < 14; i++){\r\n            var name = 'pai'+i;\r\n            var paiNode = this.myPai.getChildByName(name);\r\n            if(paiNode.active){\r\n                break;\r\n            }else{\r\n                btnIsView = true;\r\n                break;\r\n            }\r\n        }\r\n        btnCancel.active = btnIsView;\r\n        btnOk.active = btnIsView;\r\n        cc.vv.audioMgr.playSFX(\"sssMusic/fangpai.mp3\");\r\n    },\r\n\r\n    onTouchStart:function(event){\r\n        var setTypeCom = this.node.getChildByName(\"setType\").getComponent(\"setType\");\r\n        setTypeCom.preBtnTag = 0;\r\n        var location = event.getLocation();\r\n        this.startPos = location;\r\n        if(this.startPos.y > 150){\r\n            this.bTouchPai = false;\r\n            this.setAllDown();\r\n        }\r\n        else{\r\n            this.bTouchPai = true;\r\n        }\r\n    },\r\n    onTouchMove:function(event){\r\n        var target = event.target;\r\n    },\r\n    onTouchEnd:function(event){\r\n        var target = event.target;\r\n        var location = event.getLocation();\r\n        this.endPos = location;\r\n        var len = this.arrMyPai.length;\r\n\r\n        //单独处理滑动的第一张牌和最后一张\r\n        for(var i = 0; i < len; i++){\r\n            var szPai = this.arrMyPai[i];\r\n            var szPaiPos = szPai.getPosition();\r\n            var startPos = this.myPai.convertToNodeSpaceAR(this.startPos);\r\n            var endPos = this.myPai.convertToNodeSpaceAR(this.endPos);\r\n            var rect = new cc.rect(szPaiPos.x, szPaiPos.y, szPai.width*0.65, szPai.height*0.65);\r\n            if (rect.contains(startPos) || rect.contains(endPos)) {\r\n                if (this.arrMyPai[i].getPositionY() <= this.norY){\r\n                    this.arrMyPai[i].setPositionY(this.addY);\r\n                    cc.vv.audioMgr.playSFX(\"sssMusic/fangpai.mp3\");\r\n                }\r\n                else{\r\n                    this.arrMyPai[i].setPositionY(this.norY);\r\n                    cc.vv.audioMgr.playSFX(\"sssMusic/fangpai.mp3\");\r\n                }\r\n                break;\r\n            }\r\n        }\r\n\r\n        for (var i = 0; i < len; i++) {\r\n            var szPai = this.arrMyPai[i];\r\n            var startPos = this.myPai.convertToNodeSpaceAR(this.startPos);\r\n            var endPos = this.myPai.convertToNodeSpaceAR(this.endPos);\r\n            if ((this.arrMyPaiPos[i].x > startPos.x && this.arrMyPaiPos[i].x < endPos.x)\r\n                ||(this.arrMyPaiPos[i].x < startPos.x && this.arrMyPaiPos[i].x > endPos.x)) {\r\n                if (this.arrMyPai[i].getPositionY() <= this.norY) {\r\n                    this.arrMyPai[i].setPositionY(this.addY);\r\n                    cc.vv.audioMgr.playSFX(\"sssMusic/fangpai.mp3\");\r\n                }\r\n                else{\r\n                    this.arrMyPai[i].setPositionY(this.norY);\r\n                    cc.vv.audioMgr.playSFX(\"sssMusic/fangpai.mp3\");\r\n                }\r\n            }\r\n        }\r\n    },\r\n\r\n    quickSwing:function(data){\r\n        this._tempHoldData = data;\r\n        var tdPai = data[0];\r\n        var zdPai = data[1];\r\n        var wdPai = data[2];\r\n        wdPai.sort(function(a,b){return (b.value-a.value);})\r\n        zdPai.sort(function(a,b){return (b.value-a.value);})\r\n        tdPai.sort(function(a,b){return (b.value-a.value);})\r\n        this.cancelWD();\r\n        this.cancelZD();\r\n        this.cancelTD();\r\n        for(var i = 0; i < wdPai.length; i++){\r\n            if(this.WDIndex > 4){\r\n                break;\r\n            }\r\n            var myPaiCom = this.myPai.getComponent(\"myPai\");\r\n            var arrPaiData = myPaiCom.getMyPaiData();\r\n            var paiNode = this.arrWDPai[this.WDIndex];\r\n            var paiCom = paiNode.getComponent(\"pai\");\r\n            paiCom.setInfo(wdPai[i]);\r\n            this.setArrMyPai(wdPai[i],true);\r\n            this.WDIndex++;\r\n        }\r\n        for(var i = 0; i < zdPai.length; i++){\r\n            if(this.ZDIndex > 4){\r\n                break;\r\n            }\r\n            var paiNode = this.arrZDPai[this.ZDIndex];\r\n            var paiCom = paiNode.getComponent(\"pai\");\r\n            paiCom.setInfo(zdPai[i]);\r\n            this.setArrMyPai(zdPai[i],true);\r\n            this.ZDIndex++;\r\n        }\r\n        for(var i = 0; i < tdPai.length; i++){\r\n            if(this.TDIndex > 2){\r\n                break;\r\n            }\r\n            var paiNode = this.arrTDPai[this.TDIndex];\r\n            var paiCom = paiNode.getComponent(\"pai\");\r\n            paiCom.setInfo(tdPai[i]);\r\n            this.setArrMyPai(tdPai[i],true);\r\n            this.TDIndex++;\r\n        }\r\n        \r\n        this.refreshMyPai();\r\n\r\n        var btnIsView = false;\r\n        var btnCancel = this.shezhiPai.getChildByName(\"btn_Cancel\");\r\n        var btnOk = this.shezhiPai.getChildByName(\"btn_Ok\");\r\n        for(var i = 1; i < 14; i++){\r\n            var name = 'pai'+i;\r\n            var paiNode = this.myPai.getChildByName(name);\r\n            if(paiNode.active){\r\n                break;\r\n            }else{\r\n                btnIsView = true;\r\n                break;\r\n            }\r\n        }\r\n        btnCancel.active = btnIsView;\r\n        btnOk.active = btnIsView;\r\n        this.bUpPai = false;\r\n    },\r\n\r\n    setAllDown:function(){\r\n        if(this.arrMyPai){\r\n            for(var i = 0;i < this.arrMyPai.length;i++){\r\n                this.arrMyPai[i].setPositionY(this.norY);\r\n            }\r\n        }\r\n    },\r\n\r\n    setUp:function(arrUpPai){\r\n        this.setAllDown();\r\n        var arrTemp = [];\r\n        for(var i = 0;i < this.arrMyPai.length; i++){\r\n            arrTemp.push(this.arrMyPai[i]);\r\n        }\r\n        for(var i = 0;i < arrUpPai.length; i++){\r\n            var upPaiType = arrUpPai[i].type;\r\n            var upPaiValue = arrUpPai[i].value;\r\n            for(var j = 0;j < arrTemp.length;j++){\r\n                var MyPaiCom = arrTemp[j].getComponent(\"pai\");\r\n                var MyPaiData = MyPaiCom.getData();\r\n                if(MyPaiData.type === upPaiType && MyPaiData.value === upPaiValue){\r\n                    arrTemp[j].setPositionY(this.addY);\r\n                    arrTemp.splice(j,1);\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n    },\r\n\r\n    getUpPaiData:function(){\r\n        this.arrUpPai = [];\r\n        this.arrUpPaiIndex = [];\r\n        for(var i = 0;i < this.arrMyPai.length;i++){\r\n            var MyPaiCom = this.arrMyPai[i].getComponent(\"pai\");\r\n            var MyPaiData = MyPaiCom.getData();\r\n            if(this.arrMyPai[i].y === this.addY && this.arrMyPai[i].active == true){\r\n                this.arrUpPai.push(MyPaiData);\r\n                this.arrUpPaiIndex.push(i);\r\n            }\r\n        }\r\n        return this.arrUpPai;\r\n    },\r\n\r\n    //自己手牌的删除和增加\r\n    setArrMyPai:function(pai,bDel){\r\n        if(pai.value === 1){\r\n            console.log('setArrMyPai pai.value === 1');\r\n            return;\r\n        }\r\n        var myPaiCom = this.myPai.getComponent(\"myPai\");\r\n        var arrPaiData = myPaiCom.getMyPaiData();\r\n        if(bDel){\r\n            for(var i = 0;i < arrPaiData.length;i++){\r\n                var MyPaiData = arrPaiData[i];\r\n                if(MyPaiData.type === pai.type && MyPaiData.value === pai.value){\r\n                    arrPaiData.splice(i,1);\r\n                    return;\r\n                }\r\n            }\r\n            console.log(\"not find can splice\");\r\n            console.log(\"pai:  \"+ pai);\r\n        }\r\n        else{\r\n            console.log(\"push:\"+pai.value);\r\n            var temp = {};\r\n            temp.type = pai.type;\r\n            temp.value = pai.value;\r\n            arrPaiData.push(temp);\r\n        }\r\n    },\r\n\r\n    //刷新自己手牌、排序、刷新提示按钮、显示百变牌\r\n    refreshMyPai:function(){\r\n        console.log(\"refreshMyPai\");\r\n        var myPaiCom = this.myPai.getComponent(\"myPai\");\r\n        var arrPaiData = myPaiCom.getMyPaiData();\r\n        var gap = 13 - arrPaiData.length;\r\n        //排序\r\n        myPaiCom.sortPai(arrPaiData);\r\n        //刷新自己手牌\r\n        for(var i = 0;i < arrPaiData.length; i++){\r\n            this.arrMyPai[i].getComponent(\"pai\").setInfo(arrPaiData[i]);\r\n            this.arrMyPai[i].active = true;\r\n        }\r\n        for(var i = 0;i < gap;i++){\r\n            this.arrMyPai[i + arrPaiData.length].getComponent(\"pai\").setNullInfo();\r\n            this.arrMyPai[i + arrPaiData.length].active = false;\r\n        }\r\n        this.setAllDown();\r\n\r\n        //刷新提示类型\r\n        var setTypeCom = this.node.getChildByName(\"setType\").getComponent(\"setType\");\r\n        setTypeCom.getType();\r\n        console.log(\"refreshMyPai over\");\r\n    },\r\n\r\n    automaticPai:function(){\r\n        var myPaiCom = this.myPai.getComponent(\"myPai\");\r\n        var arrPaiData = myPaiCom.getMyPaiData();\r\n        if(arrPaiData.length <= 5 && arrPaiData.length > 0){\r\n            var sanPaiIndex = 0;\r\n\r\n            for(var i = 0; i < this.arrWDPai.length; i++){\r\n                if(this.WDIndex > 4){\r\n                    break;\r\n                }\r\n                var paiNode = this.arrWDPai[i];\r\n                var paiCom = paiNode.getComponent(\"pai\");\r\n                var paiData = paiCom.getData();\r\n                if(paiData.value <= 1){     //代表牌为空\r\n                    paiData.value = arrPaiData[sanPaiIndex].value;\r\n                    paiData.type = arrPaiData[sanPaiIndex].type;\r\n                    paiData.isBB = arrPaiData[sanPaiIndex].isBB;\r\n                    paiCom.setInfo(paiData);\r\n                    this.WDIndex++;\r\n                    sanPaiIndex++;\r\n                }\r\n            }\r\n            for(var i = 0; i < this.arrZDPai.length; i++){\r\n                if(this.ZDIndex > 4){\r\n                    break;\r\n                }\r\n                var paiNode = this.arrZDPai[i];\r\n                var paiCom = paiNode.getComponent(\"pai\");\r\n                var paiData = paiCom.getData();\r\n                if(paiData.value <= 1){     //代表牌为空\r\n                    paiData.value = arrPaiData[sanPaiIndex].value;\r\n                    paiData.type = arrPaiData[sanPaiIndex].type;\r\n                    paiData.isBB = arrPaiData[sanPaiIndex].isBB;\r\n                    paiCom.setInfo(paiData);\r\n                    this.ZDIndex++;\r\n                    sanPaiIndex++;\r\n                }\r\n            }\r\n            for(var i = 0; i < this.arrTDPai.length; i++){\r\n                if(this.TDIndex > 2){\r\n                    break;\r\n                }\r\n                var paiNode = this.arrTDPai[i];\r\n                var paiCom = paiNode.getComponent(\"pai\");\r\n                var paiData = paiCom.getData();\r\n                if(paiData.value <= 1){     //代表牌为空\r\n                    paiData.value = arrPaiData[sanPaiIndex].value;\r\n                    paiData.type = arrPaiData[sanPaiIndex].type;\r\n                    paiData.isBB = arrPaiData[sanPaiIndex].isBB;\r\n                    paiCom.setInfo(paiData);\r\n                    this.TDIndex++;\r\n                    sanPaiIndex++;\r\n                }\r\n            }\r\n            for(var i = 0;i < 5; i++){\r\n                if(arrPaiData[0]){\r\n                    this.setArrMyPai(arrPaiData[0],true);\r\n                }\r\n            }\r\n            //重新排序\r\n            if(this.arrTDPai.length === 3){\r\n                this.sortPaiData(this.arrTDPai);\r\n            }\r\n            if(this.arrZDPai.length === 5){\r\n                this.sortPaiData(this.arrZDPai);\r\n            }\r\n            if(this.arrWDPai.length === 5){\r\n                this.sortPaiData(this.arrWDPai);\r\n            }\r\n            this.refreshMyPai();\r\n            var btnCancel = cc.find(\"Canvas/prepare/shezhipai/btn_Cancel\");\r\n            var btnOk = cc.find(\"Canvas/prepare/shezhipai/btn_Ok\");\r\n            var myPaiCom = this.myPai.getComponent(\"myPai\");\r\n            var arrPaiData = myPaiCom.getMyPaiData();\r\n            if(arrPaiData.length === 0){\r\n                btnCancel.active = true;\r\n                btnOk.active = true;\r\n            }\r\n        }\r\n    },\r\n\r\n    //取消尾道牌\r\n    cancelWD:function(){\r\n        console.log(\"cancelWD\");\r\n        for(var i = 4; i >= 0;i--){\r\n            var paiNode = this.arrWDPai[i];\r\n            var paiCom = paiNode.getComponent(\"pai\");\r\n            if(!paiCom.getIsSetInfo()){\r\n                continue;\r\n            }\r\n            var data = paiCom.getData();\r\n            if(data.isBB){\r\n                this.setArrMyPai(data,false,true);\r\n            }\r\n            else{\r\n                this.setArrMyPai(data,false);\r\n            }\r\n            paiCom.setNullInfo();\r\n        }\r\n        this.WDIndex = 0;\r\n        this.refreshMyPai();\r\n    },\r\n\r\n    //取消中道牌\r\n    cancelZD:function(){\r\n        console.log(\"cancelZD\");\r\n        for(var i = 4; i >= 0;i--){\r\n            var paiNode = this.arrZDPai[i];\r\n            var paiCom = paiNode.getComponent(\"pai\");\r\n            if(!paiCom.getIsSetInfo()){\r\n                continue;\r\n            }\r\n            var data = paiCom.getData();\r\n            if(data.isBB){\r\n                this.setArrMyPai(data,false,true);\r\n            }\r\n            else{\r\n                this.setArrMyPai(data,false);\r\n            }\r\n            paiCom.setNullInfo();\r\n        }\r\n        this.ZDIndex = 0;\r\n        this.refreshMyPai();\r\n    },\r\n\r\n    //取消头道牌\r\n    cancelTD:function(){\r\n        console.log(\"cancelTD\");\r\n        for(var i = 2; i >= 0;i--){\r\n            var paiNode = this.arrTDPai[i];\r\n            var paiCom = paiNode.getComponent(\"pai\");\r\n            if(!paiCom.getIsSetInfo()){\r\n                continue;\r\n            }\r\n            var data = paiCom.getData();\r\n            if(data.isBB){\r\n                this.setArrMyPai(data,false,true);\r\n            }\r\n            else{\r\n                this.setArrMyPai(data,false);\r\n            }\r\n            paiCom.setNullInfo();\r\n        }\r\n        this.TDIndex = 0;\r\n        this.refreshMyPai();\r\n    },\r\n\r\n    getNumSpriteByNum:function(data){\r\n        for (var i = 0; i < 10; i++) {\r\n            if (data === i) {\r\n                return numSprites[i];\r\n            }\r\n        }\r\n    },\r\n});\r\n"]}