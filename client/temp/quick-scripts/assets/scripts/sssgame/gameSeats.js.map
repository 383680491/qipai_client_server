{"version":3,"sources":["gameSeats.js"],"names":["PaiType","require","cc","Class","extends","Component","properties","_daQiangLen","TDseq","ZDseq","WDseq","shootSeq","onLoad","seatComs","i","node","children","length","name","seatNode","getChildByName","seatCom","getComponent","push","Compare","refreshSeats","seatData","vv","sssNetMgr","seats","userid","index","getLocalIndex","seatindex","setInfo","setReady","ready","setPlayerReady","data","resetReady","emptyChatBubble","_chatBubble","active","_emoji","resetALLSeat","indexClear","resetGameSeats","resetGameSeat","setResultData","arrSeq","compareResult","tdRes","copyTdArr","concat","arrSort","zdRes","wdRes","showCompareResult","shootResult","showShootResult","TSPResult","showTSPResult","setAllScore","target","userId","score","seatIndex","getSeatIndexByID","delayTime","callFunc","userInfo","showOver","window","sssGame","mySeq","sequence","runAction","setAllScoreResult","len","setTotalScore","allScore","holds","type","paibei","showTSP","showSpecialResult","shootInfo","key","doShootId","beShootArr","beShootId","seatIndex0","index0","seatIndex1","index1","setShoot","showShoot","shootScore","swatUserId","animation","Animation","showSwat","quanleida","play","audioMgr","playSFX","userID","arrPai","getPaiType","paiType","getRealType","comIndex","setTD","showTD","setZD","showZD","setWD","showWD","arrRes","arrTar","bPush","j","result","comparePai","splice","dunIndex","ST","WT","THS","HL","TZ","arrType","myPaiCom","sortPai","getType","arrPai1","arrPai2","type1","type2","compareSameType","setPaibei","playerData","setScore"],"mappings":"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","file":"gameSeats.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\scripts\\sssgame","sourcesContent":["var PaiType = require(\"define\").PaiType;\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        // foo: {\r\n        //    default: null,      // The default value will be used only when the component attaching\r\n        //                           to a node for the first time\r\n        //    url: cc.Texture2D,  // optional, default is typeof default\r\n        //    serializable: true, // optional, default is true\r\n        //    visible: true,      // optional, default is true\r\n        //    displayName: 'Foo', // optional\r\n        //    readonly: false,    // optional, default is false\r\n        // },\r\n        // ...\r\n        _daQiangLen:null,\r\n        TDseq:null,\r\n        ZDseq:null,\r\n        WDseq:null,\r\n        shootSeq:null,\r\n    },\r\n\r\n    // use this for initialization\r\n    onLoad: function () {\r\n        this.seatComs = [];\r\n        for(var i = 0; i < this.node.children.length; i++){\r\n            var name = 'seat'+i;\r\n            var seatNode = this.node.getChildByName(name);\r\n            var seatCom = seatNode.getComponent('gameSeat');\r\n            this.seatComs.push(seatCom);     \r\n        }\r\n         this.Compare = require(\"Compare\");  \r\n    },\r\n\r\n    refreshSeats:function(){\r\n        var seatData = cc.vv.sssNetMgr.seats;\r\n        for (var i = 0; i < seatData.length; i++) {\r\n            if(seatData[i].userid <= 0){\r\n                continue;\r\n            }\r\n            var index = cc.vv.sssNetMgr.getLocalIndex(seatData[i].seatindex);\r\n            this.seatComs[index].setInfo(seatData[i]);\r\n            this.seatComs[index].setReady(seatData[i].ready);\r\n        }\r\n    },\r\n\r\n    setPlayerReady:function(data) {\r\n        var userid = data;\r\n        var seatData = cc.vv.sssNetMgr.seats;\r\n        for (var i = 0; i < seatData.length; i++) {\r\n            if(seatData[i].userid === userid){\r\n                var index = cc.vv.sssNetMgr.getLocalIndex(seatData[i].seatindex);\r\n                this.seatComs[index].setReady(seatData[i].ready);\r\n            }\r\n        }\r\n    },\r\n\r\n    resetReady:function() {\r\n        var seatData = cc.vv.sssNetMgr.seats;\r\n        for (var i = 0; i < seatData.length; i++) {\r\n            if(seatData[i].userid <= 0){\r\n                continue;\r\n            }\r\n            this.seatComs[i].setReady(false);\r\n        }\r\n    },\r\n\r\n    emptyChatBubble:function() {//清空聊天\r\n        var seatData = cc.vv.sssNetMgr.seats;\r\n        for (var i = 0; i < this.seatComs.length; i++) {\r\n            this.seatComs[i]._chatBubble.active = false; \r\n            this.seatComs[i]._emoji.active = false;\r\n        }\r\n    },\r\n    \r\n    resetALLSeat:function(){\r\n        var seatData = cc.vv.sssNetMgr.seats;\r\n        for (var i = 0; i < seatData.length; i++) {\r\n            if(seatData[i].userid <= 0){\r\n                var indexClear = cc.vv.sssNetMgr.getLocalIndex(seatData[i].seatindex);\r\n                this.seatComs[indexClear].setInfo(seatData[i]);\r\n                this.seatComs[index].setReady(false);\r\n                continue;\r\n            }\r\n            var index = cc.vv.sssNetMgr.getLocalIndex(seatData[i].seatindex);\r\n            this.seatComs[index].setInfo(seatData[i]);\r\n            this.seatComs[index].setReady(seatData[i].ready);\r\n        }\r\n    },\r\n    \r\n    resetGameSeats:function(){\r\n        if(this.seatComs){\r\n            for (let i = 0; i < this.seatComs.length; i++) {\r\n                this.seatComs[i].resetGameSeat();\r\n            }\r\n        }\r\n        \r\n    },\r\n\r\n    //普通玩法结果显示\r\n    setResultData:function(data){\r\n        var arrSeq = [];\r\n        //每个人同时比牌\r\n        var compareResult = data.compareResult;\r\n        var tdRes = [];\r\n        var copyTdArr = compareResult.tdRes.concat();\r\n        if(compareResult.tdRes.length > 0){\r\n            this.arrSort(copyTdArr, tdRes);\r\n        }\r\n        var zdRes = [];\r\n        var copyTdArr = compareResult.zdRes.concat();\r\n        if(compareResult.zdRes.length > 0){\r\n            this.arrSort(copyTdArr, zdRes);\r\n        }\r\n        var wdRes = [];\r\n        var copyTdArr = compareResult.wdRes.concat();\r\n        if(compareResult.wdRes.length > 0){\r\n            this.arrSort(copyTdArr, wdRes);\r\n        }\r\n\r\n        this.showCompareResult(arrSeq,tdRes,zdRes,wdRes);\r\n\r\n        //比牌结束显示打枪\r\n        var shootResult = data.shootResult;\r\n        this.showShootResult(arrSeq,shootResult);\r\n\r\n        //显示特殊牌\r\n        var TSPResult = data.TSPResult;\r\n        this.showTSPResult(arrSeq,TSPResult);\r\n\r\n        //分数显示\r\n        var setAllScore = function(target, data){\r\n            for(let i = 0;i < data.length;i++){\r\n                var userId = data[i].userId;\r\n                var score = data[i].score;\r\n                var seatIndex = cc.vv.sssNetMgr.getSeatIndexByID(userId);\r\n                var index = cc.vv.sssNetMgr.getLocalIndex(seatIndex);\r\n                if(!target.getComponent('gameSeats').seatComs[index]){\r\n                    return;\r\n                }\r\n                target.getComponent('gameSeats').seatComs[index].setAllScore(score);\r\n            }\r\n        }\r\n        arrSeq.push(cc.delayTime(1));\r\n        arrSeq.push(cc.callFunc(setAllScore, this.node, data.userInfo));\r\n\r\n        //显示本局结算\r\n        var showOver = function(target, data){\r\n             window.sssGame.showOver();\r\n        }\r\n        arrSeq.push(cc.delayTime(1));\r\n        arrSeq.push(cc.callFunc(showOver, this.node, data));\r\n        var mySeq = cc.sequence(arrSeq);\r\n        this.node.runAction(mySeq);\r\n    },\r\n\r\n    setAllScoreResult:function(data) {\r\n        var len = data.length;\r\n        for (let i = 0; i < len; i++) {\r\n            var userId = data[i].userId;\r\n            var seatIndex = cc.vv.sssNetMgr.getSeatIndexByID(userId);\r\n            var index = cc.vv.sssNetMgr.getLocalIndex(seatIndex);\r\n            if(!this.seatComs[index]){\r\n                return;\r\n            }\r\n            this.seatComs[index].setTotalScore(data[i].allScore);\r\n        }\r\n    },\r\n\r\n    showTSPResult:function(arrSeq,TSPResult){\r\n        if(!TSPResult || TSPResult.length < 1){\r\n            return;\r\n        }\r\n        for(let i = 0;i < TSPResult.length;i++){\r\n            var holds = TSPResult[i].holds;\r\n            var userId = TSPResult[i].userId;\r\n            var type = TSPResult[i].type;\r\n\r\n            var seatIndex = cc.vv.sssNetMgr.getSeatIndexByID(userId);\r\n            var index = cc.vv.sssNetMgr.getLocalIndex(seatIndex);\r\n\r\n            var data = {};\r\n            data.holds = holds;\r\n            data.type = type;\r\n            data.index = index;\r\n\r\n            //显示牌背\r\n            this.seatComs[index].paibei(13);\r\n\r\n            var showTSP = function(target, data){\r\n                if(!target.getComponent('gameSeats').seatComs[data.index]){\r\n                    return;\r\n                }\r\n                target.getComponent('gameSeats').seatComs[data.index].showSpecialResult(data.holds,data.type);\r\n            }\r\n            arrSeq.push(cc.delayTime(1));\r\n            arrSeq.push(cc.callFunc(showTSP, this.node, data));\r\n            arrSeq.push(cc.delayTime(2));\r\n        }\r\n    },\r\n\r\n    showShootResult:function(arrSeq,shootResult){\r\n        if(!shootResult.shootInfo || shootResult.shootInfo.length < 1){\r\n            return;\r\n        }\r\n        var shootInfo = shootResult.shootInfo;\r\n        for(var key in shootInfo){\r\n            var doShootId = key;\r\n            var beShootArr = shootInfo[key];\r\n            for(var i = 0;i<beShootArr.length;i++){               \r\n                var beShootId = beShootArr[i];\r\n                var seatIndex0 = cc.vv.sssNetMgr.getSeatIndexByID(doShootId);\r\n                var index0 = cc.vv.sssNetMgr.getLocalIndex(seatIndex0);\r\n                var seatIndex1 = cc.vv.sssNetMgr.getSeatIndexByID(beShootId);\r\n                var index1 = cc.vv.sssNetMgr.getLocalIndex(seatIndex1);\r\n\r\n                var data = {};\r\n                data.index0 = index0;\r\n                data.index1 = index1;\r\n                var setShoot = function(target, data){\r\n                    if(!target.getComponent('gameSeats').seatComs[data.index1]){\r\n                        return;\r\n                    }\r\n                    if(!target.getComponent('gameSeats').seatComs[data.index0]){\r\n                        return;\r\n                    }\r\n                    target.getComponent('gameSeats').seatComs[data.index1].showShoot(false,data.index0,data.index1);\r\n                    target.getComponent('gameSeats').seatComs[data.index0].showShoot(true,data.index0,data.index1);\r\n                }\r\n                arrSeq.push(cc.delayTime(1));\r\n                arrSeq.push(cc.callFunc(setShoot, this.node, data));\r\n            }\r\n        }\r\n\r\n        //打枪后分数显示\r\n        var setAllScore = function(target, data){\r\n            for(let i = 0;i < data.length;i++){\r\n                var userId = data[i].userId;\r\n                var score = data[i].score;\r\n                var seatIndex = cc.vv.sssNetMgr.getSeatIndexByID(userId);\r\n                var index = cc.vv.sssNetMgr.getLocalIndex(seatIndex);\r\n                if(!target.getComponent('gameSeats').seatComs[index]){\r\n                    return;\r\n                }\r\n                target.getComponent('gameSeats').seatComs[index].setAllScore(score);\r\n            }\r\n        }\r\n        arrSeq.push(cc.delayTime(1));\r\n        arrSeq.push(cc.callFunc(setAllScore, this.node, shootResult.shootScore));\r\n        \r\n\r\n        //全垒打\r\n        if(shootResult.swatUserId > 0){\r\n            var animation = window.sssGame.Animation;\r\n            var showSwat = function(target, data){\r\n                window.sssGame.Animation.quanleida.active = true;\r\n                window.sssGame.Animation.quanleida.getComponent(cc.Animation).play('quanleida');\r\n                cc.vv.audioMgr.playSFX(\"sssMusic/quanleda.mp3\");\r\n            }\r\n            \r\n            arrSeq.push(cc.delayTime(1));\r\n            arrSeq.push(cc.callFunc(showSwat, this.node, data));\r\n            \r\n        }\r\n    },\r\n\r\n    showCompareResult:function(arrSeq,tdRes,zdRes,wdRes){\r\n        if(tdRes.length < 1 || zdRes.length < 1 || wdRes.length < 1){\r\n            return;\r\n        }\r\n        for(let i = 0;i < tdRes.length ; i++){\r\n            var data = {};\r\n            arrSeq.push(cc.delayTime(1));\r\n            if(tdRes[i]){\r\n                var userID = tdRes[i].userId;\r\n                var score = tdRes[i].score;\r\n                var arrPai = tdRes[i].arrPai;\r\n                var type = this.getPaiType(arrPai);\r\n                var paiType = this.getRealType(type,0);\r\n                var seatIndex = cc.vv.sssNetMgr.getSeatIndexByID(userID);\r\n                var index = cc.vv.sssNetMgr.getLocalIndex(seatIndex);\r\n            }\r\n\r\n            //显示牌背\r\n            this.seatComs[index].paibei();\r\n\r\n            data.comIndex = index;\r\n            data.arrPai = arrPai;\r\n            data.score = score;\r\n            data.paiType = paiType;\r\n\r\n            var setTD =function(target, data){\r\n                if(!target.getComponent('gameSeats').seatComs[data.comIndex]){\r\n                    return;\r\n                }\r\n                target.getComponent('gameSeats').seatComs[data.comIndex].showTD(data.arrPai,data.score,data.paiType);\r\n            }\r\n            arrSeq.push(cc.callFunc(setTD, this.node, data));\r\n        }\r\n        for(let i = 0;i < zdRes.length ; i++){\r\n            var data = {};\r\n            arrSeq.push(cc.delayTime(1));\r\n            if(zdRes[i]){\r\n                var userID = zdRes[i].userId;\r\n                var score = zdRes[i].score;\r\n                var arrPai = zdRes[i].arrPai;\r\n                var type = this.getPaiType(arrPai);\r\n                var paiType = this.getRealType(type,1);\r\n                var seatIndex = cc.vv.sssNetMgr.getSeatIndexByID(userID);\r\n                var index = cc.vv.sssNetMgr.getLocalIndex(seatIndex);\r\n            }\r\n\r\n            data.comIndex = index;\r\n            data.arrPai = arrPai;\r\n            data.score = score;\r\n            data.paiType = paiType;\r\n\r\n            var setZD =function(target, data){\r\n                if(!target.getComponent('gameSeats').seatComs[data.comIndex]){\r\n                    return;\r\n                }\r\n                target.getComponent('gameSeats').seatComs[data.comIndex].showZD(data.arrPai,data.score,data.paiType);\r\n            }\r\n            arrSeq.push(cc.callFunc(setZD, this.node, data));\r\n        }\r\n        for(let i = 0;i < wdRes.length ; i++){\r\n            var data = {};\r\n            arrSeq.push(cc.delayTime(1));\r\n            if(wdRes[i]){\r\n                var userID = wdRes[i].userId;\r\n                var score = wdRes[i].score;\r\n                var arrPai = wdRes[i].arrPai;\r\n                var type = this.getPaiType(arrPai);\r\n                var paiType = this.getRealType(type,2);\r\n                var seatIndex = cc.vv.sssNetMgr.getSeatIndexByID(userID);\r\n                var index = cc.vv.sssNetMgr.getLocalIndex(seatIndex);\r\n            }\r\n\r\n            data.comIndex = index;\r\n            data.arrPai = arrPai;\r\n            data.score = score;\r\n            data.paiType = paiType;\r\n\r\n            var setWD =function(target, data){\r\n                if(!target.getComponent('gameSeats').seatComs[data.comIndex]){\r\n                    return;\r\n                }\r\n                target.getComponent('gameSeats').seatComs[data.comIndex].showWD(data.arrPai,data.score,data.paiType);\r\n            }\r\n            arrSeq.push(cc.callFunc(setWD, this.node, data));\r\n        }\r\n    },\r\n\r\n    //对牌型牌值进行排序\r\n    arrSort:function(arrRes ,arrTar){\r\n        var len = arrRes.length;\r\n        if(len < 2){\r\n            arrTar.push(arrRes[0]);\r\n            return;\r\n        }\r\n        var bPush = false;\r\n        for(let i = 0; i < len; i++){\r\n            bPush = false;\r\n            for(let j = 0; j < len; j++){\r\n                if(i !== j){\r\n                    var result = this.comparePai(arrRes[i].arrPai, arrRes[j].arrPai);\r\n                    if(1 === result){\r\n                        bPush = true;\r\n                    }\r\n                }\r\n            }\r\n            if(!bPush){\r\n                arrTar.push(arrRes[i]);\r\n                arrRes.splice(i, 1);\r\n                this.arrSort(arrRes, arrTar);\r\n                break;\r\n            }\r\n        }\r\n    },\r\n\r\n    \r\n    getRealType:function(paiType,dunIndex){\r\n        switch(dunIndex){\r\n            case 0: //头道\r\n                if(paiType === PaiType.ST){\r\n                    paiType = 14;\r\n                }\r\n                break;\r\n            case 1: //中道\r\n                if(paiType ===  PaiType.WT){\r\n                    paiType = 12;\r\n                }\r\n                else if(paiType ===  PaiType.THS){\r\n                    paiType = 13;\r\n                }\r\n                else if(paiType ===  PaiType.HL){\r\n                    paiType = 15;\r\n                }\r\n                else if(paiType ===  PaiType.TZ){\r\n                    paiType = 16;\r\n                }\r\n                break;\r\n            case 2: //尾道\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n        return paiType;\r\n    },\r\n\r\n    //获取牌的类型\r\n    getPaiType:function(arrPai)\r\n    {\r\n        var arrType = [];\r\n        window.sssGame.myPaiCom.sortPai(arrPai);\r\n        arrType = window.sssGame.Compare.getType(arrPai);\r\n        return arrType[0];\r\n    },\r\n    //以牌值和牌型对比大小\r\n    comparePai:function(arrPai1, arrPai2){\r\n        var type1 = this.getPaiType(arrPai1);\r\n        var type2 = this.getPaiType(arrPai2);\r\n        if (type1 > type2) {\r\n            return 1;\r\n        }\r\n        else if (type1 === type2) {\r\n            return this.Compare.compareSameType(arrPai1, arrPai2, type1);\r\n        }\r\n        else{\r\n            return -1;\r\n        }\r\n    },\r\n\r\n    //显示牌背\r\n    setPaibei:function(data){\r\n        var playerData = data.allScore;\r\n        for(let i = 0; i<playerData.length;i++){\r\n            var seatIndex = cc.vv.sssNetMgr.getSeatIndexByID(playerData[i].userId);\r\n            var index = cc.vv.sssNetMgr.getLocalIndex(seatIndex);\r\n            var len = playerData[i].arrPai.length;\r\n            this.seatComs[index].paibei(len);\r\n        }\r\n    },\r\n\r\n    setScore:function(data){\r\n        //特殊牌显示完之后的分数显示\r\n        var allScore = data.allScore;\r\n\r\n        for(var key in allScore){\r\n            var score = allScore[key].score;\r\n            var userId = allScore[key].userId;\r\n            var seatIndex = cc.vv.sssNetMgr.getSeatIndexByID(userId);\r\n            var index = cc.vv.sssNetMgr.getLocalIndex(seatIndex);\r\n            this.seatComs[index].setAllScore(score);\r\n        }\r\n    },\r\n\r\n    // called every frame, uncomment this function to activate update callback\r\n    // update: function (dt) {\r\n\r\n    // },\r\n});\r\n"]}