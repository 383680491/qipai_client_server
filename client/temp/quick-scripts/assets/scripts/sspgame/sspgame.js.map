{"version":3,"sources":["sspgame.js"],"names":["cc","Class","extends","Component","properties","gameRoot","default","type","Node","prepareRoot","SSPgameAtlas","SpriteAtlas","SSPTeXiaoAtlas","AnimationNode","_mySSPArr","_selectedSSP","_playEFX","paiData","onLoad","console","log","window","sspGame","addComponent","initView","initEventHandlers","active","gameSeatsCom","onGameBeign","chiTargetPai","vv","audioMgr","playBGM","utils","addEscEvent","node","sspNetMgr","voiceConversion","gameChild","getChildByName","getComponent","start","Animation","_sspcount","Label","string","numOfSSP","_gamecount","numOfGames","maxNumOfGames","myselfChild","myholds","_chupaidrag","_tishi","find","hidden_tishi","_tuoguan","hidden_tuoguan","realwidth","director","getVisibleSize","width","i","children","length","sprite","Sprite","push","spriteFrame","initDragStuffs","scaleX","scaleY","opts","_options","_setting","_btnMianban","newNode","_btnHelp","_btnBack","addBtnHandler","dataEventHandler","self","on","data","expression","onGameHolds","applyJoin","detail","pai","showAction","tishi","chupaiTishi","hideChupai","showMopai","seatData","seatIndex","sex","userMgr","voice","value","playSFX","seatindex","initSSP","chupaiNum","initOtherSSP","showChupai","hideOptions","mopai","localIndex","getLocalIndexByIndex","showIndex","getShowIndexByIndex","playAnimation","showChi","mySch","scheduleOnce","CheckCanChi","chiData","hideChi","gangtype","roomId","alert","show","wc","loadScene","notice","yaoqing","btnReady","seats","huIndex","huType","userid","userData","animation","getSpriteFrame","playEFX","name","eff","setPosition","play","playName","animate","EventType","TOUCH_START","event","canTouch","turn","interactable","Button","opacity","x","getLocationX","y","getLocationY","height","bind","TOUCH_MOVE","Math","abs","getDeltaX","getDeltaY","TOUCH_END","shoot","sspId","TOUCH_CANCEL","onSSPClicked","isHuanSanZhang","emit","target","sspNet","send","onBtnSettingsClicked","popupMgr","showSettings","btn","addClickEvent","component","handler","eventHandler","EventHandler","clickEvents","onBtnClicked","control","sys","os","OS_IOS","wanfa","onBtnExpression","_userId","userinfoShow","receiveId","userinfo","sendId","sendIdindex","receiveIdindex","LiWu","LiWu0","startPoint","setBiaoqingPosition","endPoint","Row","Col","time","actionBy","moveTo","p","runAction","zhadan","aud","dangao","dianzan","feiwen","songhua","fanqie","index","onOptionClicked","Mopai","tempIndex","arrowIndex","userId","onBtnHideWebShare","ClickBtnChiEvent","Data","arr","bShow","onBtnCloseWanfa","onBtnUserinfo"],"mappings":";;;;;;AAAAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,kBAAS;AACLC,qBAAQ,IADH;AAELC,kBAAKP,GAAGQ;AAFH,SADD;;AAMRC,qBAAY;AACRH,qBAAQ,IADA;AAERC,kBAAKP,GAAGQ;AAFA,SANJ;AAURE,sBAAa;AACTJ,qBAAQ,IADC;AAETC,kBAAKP,GAAGW;AAFC,SAVL;AAcRC,wBAAe;AACXN,qBAAQ,IADG;AAEXC,kBAAKP,GAAGW;AAFG,SAdP;AAkBRE,uBAAc;AACVP,qBAAQ,IADE;AAEVC,kBAAKP,GAAGQ;AAFE,SAlBN;AAsBRM,mBAAU,EAtBF;AAuBRC,sBAAa,IAvBL;AAwBRC,kBAAS,IAxBD;AAyBRC,iBAAQ;AAzBA,KAHP;;AA+BLC,YAAQ,kBAAY;AAChBC,gBAAQC,GAAR,CAAY,sBAAZ;AACAC,eAAOC,OAAP,GAAiB,IAAjB;;AAEA,aAAKC,YAAL,CAAkB,SAAlB;AACA,aAAKA,YAAL,CAAkB,MAAlB;AACA,aAAKA,YAAL,CAAkB,UAAlB;AACA,aAAKA,YAAL,CAAkB,eAAlB;AACA,aAAKA,YAAL,CAAkB,WAAlB;AACA,aAAKA,YAAL,CAAkB,OAAlB;AACA,aAAKA,YAAL,CAAkB,cAAlB;AACA,aAAKA,YAAL,CAAkB,UAAlB;AACA,aAAKA,YAAL,CAAkB,cAAlB;AACA,aAAKA,YAAL,CAAkB,aAAlB;AACA,aAAKA,YAAL,CAAkB,eAAlB;;AAEA,aAAKC,QAAL;AACA,aAAKC,iBAAL;;AAEA,aAAKpB,QAAL,CAAcqB,MAAd,GAAuB,KAAvB;AACA,aAAKjB,WAAL,CAAiBiB,MAAjB,GAA0B,IAA1B;;AAEA,aAAKC,YAAL,CAAkBC,WAAlB,CAA8B,KAAKd,SAAnC;;AAEA;AACA,aAAKe,YAAL;AACA7B,WAAG8B,EAAH,CAAMC,QAAN,CAAeC,OAAf,CAAuB,aAAvB;AACAhC,WAAG8B,EAAH,CAAMG,KAAN,CAAYC,WAAZ,CAAwB,KAAKC,IAA7B;AACAnC,WAAG8B,EAAH,CAAMM,SAAN,CAAgBC,eAAhB,GAAkC,CAAlC;AACH,KA5DI;;AA8DLb,cAAS,oBAAU;AACf;AACA,aAAKW,IAAL,CAAUT,MAAV,GAAmB,IAAnB;AACA,YAAIY,YAAY,KAAKH,IAAL,CAAUI,cAAV,CAAyB,MAAzB,CAAhB;;AAEA,aAAKZ,YAAL,GAAoBW,UAAUE,YAAV,CAAuB,cAAvB,CAApB;AACA,aAAKb,YAAL,CAAkBc,KAAlB;AACA,aAAKC,SAAL,GAAiB,KAAK7B,aAAL,CAAmB2B,YAAnB,CAAgC,cAAhC,CAAjB;;AAEA,aAAKG,SAAL,GAAiBL,UAAUC,cAAV,CAAyB,UAAzB,EAAqCC,YAArC,CAAkDxC,GAAG4C,KAArD,CAAjB;AACA,aAAKD,SAAL,CAAeE,MAAf,GAAwB7C,GAAG8B,EAAH,CAAMM,SAAN,CAAgBU,QAAxC;AACA,aAAKC,UAAL,GAAkBT,UAAUC,cAAV,CAAyB,WAAzB,EAAsCC,YAAtC,CAAmDxC,GAAG4C,KAAtD,CAAlB;AACA,aAAKG,UAAL,CAAgBF,MAAhB,GAAyB,KAAK7C,GAAG8B,EAAH,CAAMM,SAAN,CAAgBY,UAArB,GAAkC,GAAlC,GAAwChD,GAAG8B,EAAH,CAAMM,SAAN,CAAgBa,aAAjF;;AAEA,YAAIC,cAAcZ,UAAUC,cAAV,CAAyB,QAAzB,CAAlB;AACA,YAAIY,UAAUD,YAAYX,cAAZ,CAA2B,OAA3B,CAAd;;AAEA,aAAKa,WAAL,GAAmBd,UAAUC,cAAV,CAAyB,YAAzB,CAAnB;AACA,aAAKa,WAAL,CAAiB1B,MAAjB,GAA0B,KAA1B;AACA,aAAKV,QAAL,GAAgB,KAAKmB,IAAL,CAAUI,cAAV,CAAyB,WAAzB,CAAhB;AACA,aAAKc,MAAL,GAAcrD,GAAGsD,IAAH,CAAQ,0BAAR,CAAd;AACA,aAAKC,YAAL;AACA,aAAKC,QAAL,GAAgBxD,GAAGsD,IAAH,CAAQ,4BAAR,CAAhB;AACA,aAAKG,cAAL;;AAEA,YAAIC,YAAY1D,GAAG2D,QAAH,CAAYC,cAAZ,GAA6BC,KAA7C;AACA,aAAI,IAAIC,IAAI,CAAZ,EAAeA,IAAIX,QAAQY,QAAR,CAAiBC,MAApC,EAA4C,EAAEF,CAA9C,EAAgD;AAC5C,gBAAIG,SAASd,QAAQY,QAAR,CAAiBD,CAAjB,EAAoBtB,YAApB,CAAiCxC,GAAGkE,MAApC,CAAb;AACA,iBAAKpD,SAAL,CAAeqD,IAAf,CAAoBF,MAApB;AACAA,mBAAOG,WAAP,GAAqB,IAArB;AACA,iBAAKC,cAAL,CAAoBJ,OAAO9B,IAA3B;AACH;AACDgB,gBAAQmB,MAAR,IAAkBZ,YAAU,IAA5B;AACAP,gBAAQoB,MAAR,IAAkBb,YAAU,IAA5B;;AAEA,YAAIc,OAAOlC,UAAUC,cAAV,CAAyB,KAAzB,CAAX;AACA,aAAKkC,QAAL,GAAgBD,IAAhB;;AAEA,aAAKE,QAAL,GAAgB,KAAKvC,IAAL,CAAUI,cAAV,CAAyB,SAAzB,CAAhB;AACA,aAAKoC,WAAL,GAAmB,KAAKD,QAAL,CAAcnC,cAAd,CAA6B,aAA7B,CAAnB;AACA,YAAIqC,UAAU,KAAKF,QAAL,CAAcnC,cAAd,CAA6B,UAA7B,CAAd;AACA,aAAKsC,QAAL,GAAgBD,QAAQrC,cAAR,CAAuB,gBAAvB,CAAhB;AACA,aAAKuC,QAAL,GAAgBF,QAAQrC,cAAR,CAAuB,SAAvB,CAAhB;AACA,aAAKwC,aAAL,CAAmB,KAAKJ,WAAxB;AACA,aAAKI,aAAL,CAAmB,KAAKD,QAAxB;AACA,aAAKC,aAAL,CAAmB,KAAKF,QAAxB;AACA,aAAK,IAAIf,IAAI,CAAb,EAAgBA,IAAI,KAAKY,QAAL,CAAcX,QAAd,CAAuBC,MAA3C,EAAmDF,GAAnD,EAAwD;AACpD,gBAAIA,KAAK,CAAT,EAAY;AACR,qBAAKY,QAAL,CAAcX,QAAd,CAAuBD,CAAvB,EAA0BpC,MAA1B,GAAmC,KAAnC;AACH;AACJ;AACJ,KAjHI;;AAmHLD,uBAAkB,6BAAU;AACxBzB,WAAG8B,EAAH,CAAMM,SAAN,CAAgB4C,gBAAhB,GAAmC,KAAK7C,IAAxC;;AAEA;AACA,YAAI8C,OAAO,IAAX;;AAEA,aAAK9C,IAAL,CAAU+C,EAAV,CAAa,iBAAb,EAAgC,UAAUC,IAAV,EAAgB;AAAI;AAChDF,iBAAKG,UAAL,CAAgBD,IAAhB;AACH,SAFD;AAGA,aAAKhD,IAAL,CAAU+C,EAAV,CAAa,YAAb,EAA0B,UAASC,IAAT,EAAc;AACpCF,iBAAKtD,YAAL,CAAkB0D,WAAlB,CAA8BJ,KAAKnE,SAAnC,EAA6CmE,KAAKvC,SAAlD;AACH,SAFD;AAGA,aAAKP,IAAL,CAAU+C,EAAV,CAAa,WAAb,EAAyB,UAASC,IAAT,EAAc;AACnCF,iBAAKtC,SAAL,CAAeE,MAAf,GAAwB7C,GAAG8B,EAAH,CAAMM,SAAN,CAAgBU,QAAxC;AACH,SAFD;AAGA,aAAKX,IAAL,CAAU+C,EAAV,CAAa,UAAb,EAAwB,UAASC,IAAT,EAAc;AAClCF,iBAAKlC,UAAL,CAAgBF,MAAhB,GAAyB,KAAK7C,GAAG8B,EAAH,CAAMM,SAAN,CAAgBY,UAArB,GAAkC,GAAlC,GAAwChD,GAAG8B,EAAH,CAAMM,SAAN,CAAgBa,aAAjF;AACH,SAFD;AAGA,aAAKd,IAAL,CAAU+C,EAAV,CAAa,YAAb,EAA0B,UAASC,IAAT,EAAc;AACpCF,iBAAKtD,YAAL,CAAkBC,WAAlB,CAA8BqD,KAAKnE,SAAnC;AACH,SAFD;AAGA,aAAKqB,IAAL,CAAU+C,EAAV,CAAa,mBAAb,EAAiC,UAASC,IAAT,EAAc;AAC3CF,iBAAKK,SAAL,CAAeH,KAAKI,MAApB;AACH,SAFD;AAGA,aAAKpD,IAAL,CAAU+C,EAAV,CAAa,aAAb,EAA2B,UAASC,IAAT,EAAc;AACrC,gBAAIA,OAAOA,KAAKI,MAAhB;AACApE,oBAAQC,GAAR,CAAY,aAAZ;AACA6D,iBAAKhE,OAAL,GAAekE,KAAKK,GAApB;AACAP,iBAAKtD,YAAL,CAAkB8D,UAAlB,CAA6BN,IAA7B;AACH,SALD;AAMA,aAAKhD,IAAL,CAAU+C,EAAV,CAAa,cAAb,EAA4B,YAAU;AAClC/D,oBAAQC,GAAR,CAAY,cAAZ;AACA6D,iBAAKS,KAAL;AACH,SAHD;AAIA,aAAKvD,IAAL,CAAU+C,EAAV,CAAa,qBAAb,EAAmC,YAAU;AACzC/D,oBAAQC,GAAR,CAAY,qBAAZ;AACA6D,iBAAKU,WAAL,GAFyC,CAEtB;AACtB,SAHD;AAIA,aAAKxD,IAAL,CAAU+C,EAAV,CAAa,YAAb,EAA0B,UAASC,IAAT,EAAc;AACpCF,iBAAKtD,YAAL,CAAkBiE,UAAlB;AACA,gBAAIT,OAAOA,KAAKI,MAAhB;AACAN,iBAAKtD,YAAL,CAAkBkE,SAAlB,CAA4BV,IAA5B;AAEH,SALD;AAMA,aAAKhD,IAAL,CAAU+C,EAAV,CAAa,oBAAb,EAAkC,UAASC,IAAT,EAAc;AAC5CF,iBAAK1B,YAAL;AACA,gBAAIuC,WAAWX,KAAKI,MAAL,CAAYO,QAA3B;AACA,gBAAIC,YAAYZ,KAAKI,MAAL,CAAYQ,SAA5B;AACA,gBAAIP,MAAML,KAAKI,MAAL,CAAYC,GAAtB;;AAEA,gBAAIQ,MAAM,KAAV;AACA,gBAAGhG,GAAG8B,EAAH,CAAMmE,OAAN,CAAcD,GAAd,IAAqB,CAAxB,EAA0B;AAAE;AACxBA,sBAAM,KAAN;AACH,aAFD,MAGK,IAAGhG,GAAG8B,EAAH,CAAMmE,OAAN,CAAcD,GAAd,IAAqB,CAAxB,EAA0B;AAAE;AAC7BA,sBAAM,IAAN;AACH;AACD,gBAAI3D,kBAAkB,KAAtB;AACA,gBAAGrC,GAAG8B,EAAH,CAAMM,SAAN,CAAgBC,eAAhB,IAAmC,CAAtC,EAAwC;AAAE;AACtCA,kCAAkB,KAAlB;AACH,aAFD,MAGK,IAAGrC,GAAG8B,EAAH,CAAMM,SAAN,CAAgBC,eAAhB,IAAmC,CAAtC,EAAwC;AAAE;AAC3CA,kCAAkB,KAAlB;AACH;AACD,gBAAI6D,QAAQV,IAAIW,KAAhB;;AAEA,gBAAGX,IAAIjF,IAAJ,KAAa,CAAb,IAAkBiF,IAAIjF,IAAJ,KAAa,CAAlC,EAAoC;AAAC;AACjC,oBAAGiF,IAAIW,KAAJ,KAAc,CAAjB,EAAmB;AACfD,4BAAQ,QAAR;AACH,iBAFD,MAGK,IAAGV,IAAIW,KAAJ,KAAc,CAAjB,EAAmB;AACpBD,4BAAQ,MAAR;AACH;AACJ;AACD,gBAAGV,IAAIjF,IAAJ,KAAa,CAAb,IAAkBiF,IAAIjF,IAAJ,KAAa,CAAlC,EAAoC;AAAC;AACjC,oBAAGiF,IAAIW,KAAJ,KAAc,CAAjB,EAAmB;AACfD,4BAAQ,QAAR;AACH,iBAFD,MAGK,IAAGV,IAAIW,KAAJ,KAAc,CAAjB,EAAmB;AACpBD,4BAAQ,KAAR;AACH;AACJ;AACDlG,eAAG8B,EAAH,CAAMC,QAAN,CAAeqE,OAAf,CAAuB,cAAY/D,eAAZ,GAA4B,GAA5B,GAAgC2D,GAAhC,GAAoC,GAApC,GAAwCE,KAAxC,GAA8C,MAArE;;AAEA;AACA,gBAAGJ,SAASO,SAAT,IAAsBrG,GAAG8B,EAAH,CAAMM,SAAN,CAAgB2D,SAAzC,EAAmD;AAC/Cd,qBAAKtD,YAAL,CAAkB2E,OAAlB,CAA0BrB,KAAKnE,SAA/B;AACH,aAFD,MAGI;AACAgF,yBAASS,SAAT;AACAtB,qBAAKtD,YAAL,CAAkB6E,YAAlB,CAA+BV,QAA/B;AACH;;AAEDb,iBAAKtD,YAAL,CAAkB8E,UAAlB;AACH,SAlDD;AAmDA,aAAKtE,IAAL,CAAU+C,EAAV,CAAa,YAAb,EAA0B,UAASC,IAAT,EAAc;AACpCF,iBAAKtD,YAAL,CAAkB+E,WAAlB;AACA,gBAAIvB,OAAOA,KAAKI,MAAhB;AACAN,iBAAK0B,KAAL,CAAWxB,IAAX;AACAnF,eAAG8B,EAAH,CAAMC,QAAN,CAAeqE,OAAf,CAAuB,UAAvB;AACH,SALD;AAMA,aAAKjE,IAAL,CAAU+C,EAAV,CAAa,gBAAb,EAA8B,UAASC,IAAT,EAAc;AACxCF,iBAAKtD,YAAL,CAAkB+E,WAAlB,GAAgC;AACnC,SAFD;AAGA,aAAKvE,IAAL,CAAU+C,EAAV,CAAa,aAAb,EAA2B,UAASC,IAAT,EAAc;AACrCF,iBAAKtD,YAAL,CAAkBiE,UAAlB;;AAEA,gBAAIE,WAAWX,KAAKI,MAApB;AACA,gBAAGO,SAASO,SAAT,IAAsBrG,GAAG8B,EAAH,CAAMM,SAAN,CAAgB2D,SAAzC,EAAmD;AAC/Cd,qBAAKtD,YAAL,CAAkB2E,OAAlB,CAA0BrB,KAAKnE,SAA/B;AACH,aAFD,MAGI;AACAmE,qBAAKtD,YAAL,CAAkB6E,YAAlB,CAA+BV,QAA/B;AACH;AACD,gBAAIc,aAAa5G,GAAG8B,EAAH,CAAMM,SAAN,CAAgByE,oBAAhB,CAAqCf,SAASO,SAA9C,CAAjB;AACA,gBAAIS,YAAY9G,GAAG8B,EAAH,CAAMM,SAAN,CAAgB2E,mBAAhB,CAAoCH,UAApC,CAAhB;AACA3B,iBAAK+B,aAAL,CAAmB,MAAnB,EAA0BF,SAA1B,EAAoC,MAApC;AACA9G,eAAG8B,EAAH,CAAMC,QAAN,CAAeqE,OAAf,CAAuB,aAAvB;AACAnB,iBAAKtD,YAAL,CAAkB+E,WAAlB;AACH,SAfD;;AAiBA,aAAKvE,IAAL,CAAU+C,EAAV,CAAa,iBAAb,EAAgC,UAAUC,IAAV,EAAgB;AAC5CF,iBAAKgC,OAAL,CAAa,KAAb;AACA,gBAAI9B,OAAOA,KAAKI,MAAhB;AACA,gBAAGJ,KAAK5E,IAAL,IAAa,KAAhB,EAAsB;AAClB0E,qBAAKtD,YAAL,CAAkBiE,UAAlB;AACH,aAFD,MAGI;AACA,oBAAIsB,QAAO,SAAPA,KAAO,GAAU;AACjBjC,yBAAKtD,YAAL,CAAkBiE,UAAlB;AACH,iBAFD;AAGAX,qBAAKkC,YAAL,CAAkBD,KAAlB,EAAwB,GAAxB;AACH;AACD,gBAAIpB,WAAWX,KAAKW,QAApB;AACA,gBAAIA,SAASO,SAAT,IAAsBrG,GAAG8B,EAAH,CAAMM,SAAN,CAAgB2D,SAA1C,EAAqD;AACjDd,qBAAKtD,YAAL,CAAkB2E,OAAlB,CAA0BrB,KAAKnE,SAA/B;AACH,aAFD,MAGK;AACDmE,qBAAKtD,YAAL,CAAkB6E,YAAlB,CAA+BV,QAA/B;AACH;AACD,gBAAIc,aAAa5G,GAAG8B,EAAH,CAAMM,SAAN,CAAgByE,oBAAhB,CAAqCf,SAASO,SAA9C,CAAjB;AACA,gBAAIS,YAAY9G,GAAG8B,EAAH,CAAMM,SAAN,CAAgB2E,mBAAhB,CAAoCH,UAApC,CAAhB;;AAEA,gBAAIZ,MAAM,KAAV;AACA,gBAAGhG,GAAG8B,EAAH,CAAMmE,OAAN,CAAcD,GAAd,IAAqB,CAAxB,EAA0B;AAAE;AACxBA,sBAAM,KAAN;AACH,aAFD,MAGK,IAAGhG,GAAG8B,EAAH,CAAMmE,OAAN,CAAcD,GAAd,IAAqB,CAAxB,EAA0B;AAAE;AAC7BA,sBAAM,IAAN;AACH;AACD,gBAAI3D,kBAAkB,KAAtB;AACA,gBAAGrC,GAAG8B,EAAH,CAAMM,SAAN,CAAgBC,eAAhB,IAAmC,CAAtC,EAAwC;AAAE;AACtCA,kCAAkB,KAAlB;AACH,aAFD,MAGK,IAAGrC,GAAG8B,EAAH,CAAMM,SAAN,CAAgBC,eAAhB,IAAmC,CAAtC,EAAwC;AAAE;AAC3CA,kCAAkB,KAAlB;AACH;;AAED,gBAAG8C,KAAK5E,IAAL,KAAc,KAAjB,EAAuB;AACnB0E,qBAAK+B,aAAL,CAAmB,KAAnB,EAAyBF,SAAzB,EAAmC,KAAnC;AACA9G,mBAAG8B,EAAH,CAAMC,QAAN,CAAeqE,OAAf,CAAuB,cAAY/D,eAAZ,GAA4B,GAA5B,GAAgC2D,GAAhC,GAAoC,UAA3D;AACH,aAHD,MAIK,IAAGb,KAAK5E,IAAL,KAAc,MAAjB,EAAwB;AACzB0E,qBAAK+B,aAAL,CAAmB,MAAnB,EAA0BF,SAA1B,EAAoC,MAApC;AACA9G,mBAAG8B,EAAH,CAAMC,QAAN,CAAeqE,OAAf,CAAuB,cAAY/D,eAAZ,GAA4B,GAA5B,GAAgC2D,GAAhC,GAAoC,WAA3D;AACH,aAHI,MAIA,IAAGb,KAAK5E,IAAL,KAAc,MAAjB,EAAwB;AACzB0E,qBAAK+B,aAAL,CAAmB,SAAnB,EAA6BF,SAA7B,EAAuC,SAAvC;AACA9G,mBAAG8B,EAAH,CAAMC,QAAN,CAAeqE,OAAf,CAAuB,cAAY/D,eAAZ,GAA4B,GAA5B,GAAgC2D,GAAhC,GAAoC,WAA3D;AACH;;AAEDf,iBAAKtD,YAAL,CAAkB+E,WAAlB;AACAzB,iBAAK1B,YAAL;AACH,SApDD;AAqDA,aAAKpB,IAAL,CAAU+C,EAAV,CAAa,WAAb,EAAyB,UAASC,IAAT,EAAc;AACnCF,iBAAK5E,QAAL,CAAcqB,MAAd,GAAuB,IAAvB;AACAuD,iBAAKxE,WAAL,CAAiBiB,MAAjB,GAA0B,KAA1B;AACAuD,iBAAKxB,cAAL;AACAwB,iBAAKtD,YAAL,CAAkBC,WAAlB,CAA8BqD,KAAKnE,SAAnC;AACH,SALD;AAMA,aAAKqB,IAAL,CAAU+C,EAAV,CAAa,wBAAb,EAAuC,UAAUC,IAAV,EAAgB;AACnD,gBAAIA,OAAOA,KAAKI,MAAhB;AACA,gBAAIO,WAAWX,KAAKW,QAApB;AACA,gBAAIA,SAASO,SAAT,IAAsBrG,GAAG8B,EAAH,CAAMM,SAAN,CAAgB2D,SAA1C,EAAqD;AACjDd,qBAAKtD,YAAL,CAAkB2E,OAAlB,CAA0BrB,KAAKnE,SAA/B;AACH,aAFD,MAGK;AACDmE,qBAAKtD,YAAL,CAAkB6E,YAAlB,CAA+BV,QAA/B;AACH;AACD,gBAAIc,aAAa5G,GAAG8B,EAAH,CAAMM,SAAN,CAAgByE,oBAAhB,CAAqCf,SAASO,SAA9C,CAAjB;AACA,gBAAIS,YAAY9G,GAAG8B,EAAH,CAAMM,SAAN,CAAgB2E,mBAAhB,CAAoCH,UAApC,CAAhB;;AAEA3B,iBAAK+B,aAAL,CAAmB,SAAnB,EAA6BF,SAA7B,EAAuC,SAAvC;AACA9G,eAAG8B,EAAH,CAAMC,QAAN,CAAeqE,OAAf,CAAuB,aAAvB;AAEH,SAfD;AAgBA,aAAKjE,IAAL,CAAU+C,EAAV,CAAa,YAAb,EAA2B,UAAUC,IAAV,EAAgB;AACvC,gBAAIA,OAAOA,KAAKI,MAAhB;AACA;AACAN,iBAAKtD,YAAL,CAAkByF,WAAlB,CAA8BjC,IAA9B;AACAF,iBAAKoC,OAAL,GAAelC,IAAf;AACAF,iBAAKgC,OAAL,CAAa,IAAb;AACH,SAND;AAOA,aAAK9E,IAAL,CAAU+C,EAAV,CAAa,mBAAb,EAAkC,UAAUC,IAAV,EAAgB;AAC9CF,iBAAKzB,QAAL,CAAc9B,MAAd,GAAuB,IAAvB;AACH,SAFD;AAGA,aAAKS,IAAL,CAAU+C,EAAV,CAAa,YAAb,EAA2B,UAAUC,IAAV,EAAgB;AACvC,gBAAIA,OAAOA,KAAKI,MAAhB;AACA,gBAAIqB,aAAa5G,GAAG8B,EAAH,CAAMM,SAAN,CAAgByE,oBAAhB,CAAqC1B,IAArC,CAAjB;AACA,gBAAI2B,YAAY9G,GAAG8B,EAAH,CAAMM,SAAN,CAAgB2E,mBAAhB,CAAoCH,UAApC,CAAhB;AACA,gBAAIM,QAAO,SAAPA,KAAO,GAAU;AACjBjC,qBAAK+B,aAAL,CAAmB,eAAnB,EAAmCF,SAAnC,EAA6C,YAA7C;AACH,aAFD;AAGA7B,iBAAKkC,YAAL,CAAkBD,KAAlB,EAAwB,GAAxB;AACH,SARD;AASA,aAAK/E,IAAL,CAAU+C,EAAV,CAAa,YAAb,EAA2B,UAAUC,IAAV,EAAgB;AACvC,gBAAIA,OAAOA,KAAKI,MAAhB;AACA,gBAAIqB,aAAa5G,GAAG8B,EAAH,CAAMM,SAAN,CAAgByE,oBAAhB,CAAqC1B,IAArC,CAAjB;AACA,gBAAI2B,YAAY9G,GAAG8B,EAAH,CAAMM,SAAN,CAAgB2E,mBAAhB,CAAoCH,UAApC,CAAhB;AACA,gBAAIM,QAAO,SAAPA,KAAO,GAAU;AACjBjC,qBAAK+B,aAAL,CAAmB,cAAnB,EAAkCF,SAAlC,EAA4C,YAA5C;AACH,aAFD;AAGA7B,iBAAKkC,YAAL,CAAkBD,KAAlB,EAAwB,GAAxB;AACH,SARD;AASA,aAAK/E,IAAL,CAAU+C,EAAV,CAAa,YAAb,EAA2B,UAAUC,IAAV,EAAgB;AACvC,gBAAIA,OAAOA,KAAKI,MAAhB;AACA,gBAAIqB,aAAa5G,GAAG8B,EAAH,CAAMM,SAAN,CAAgByE,oBAAhB,CAAqC1B,IAArC,CAAjB;AACA,gBAAI2B,YAAY9G,GAAG8B,EAAH,CAAMM,SAAN,CAAgB2E,mBAAhB,CAAoCH,UAApC,CAAhB;AACA,gBAAIM,QAAO,SAAPA,KAAO,GAAU;AACjBjC,qBAAK+B,aAAL,CAAmB,cAAnB,EAAkCF,SAAlC,EAA4C,YAA5C;AACH,aAFD;AAGA7B,iBAAKkC,YAAL,CAAkBD,KAAlB,EAAwB,GAAxB;AACH,SARD;AASA,aAAK/E,IAAL,CAAU+C,EAAV,CAAa,SAAb,EAAwB,UAAUC,IAAV,EAAgB;AACpCF,iBAAKtD,YAAL,CAAkB2F,OAAlB,GADoC,CACR;AAC/B,SAFD;AAGA,aAAKnF,IAAL,CAAU+C,EAAV,CAAa,aAAb,EAA2B,UAASC,IAAT,EAAc;AACrCF,iBAAKtD,YAAL,CAAkBiE,UAAlB;AACA,gBAAIT,OAAOA,KAAKI,MAAhB;AACA,gBAAIO,WAAWX,KAAKW,QAApB;AACA,gBAAIyB,WAAWpC,KAAKoC,QAApB;AACA,gBAAGzB,SAASO,SAAT,IAAsBrG,GAAG8B,EAAH,CAAMM,SAAN,CAAgB2D,SAAzC,EAAmD;AAC/Cd,qBAAKtD,YAAL,CAAkB2E,OAAlB,CAA0BrB,KAAKnE,SAA/B;AACH,aAFD,MAGI;AACAmE,qBAAKtD,YAAL,CAAkB6E,YAAlB,CAA+BV,QAA/B;AACH;AACJ,SAXD;;AAaA,aAAK3D,IAAL,CAAU+C,EAAV,CAAa,aAAb,EAA2B,UAASC,IAAT,EAAc;AACrCA,mBAAOA,KAAKI,MAAZ;AACH,SAFD;;AAIA,aAAKpD,IAAL,CAAU+C,EAAV,CAAa,aAAb,EAA2B,UAASC,IAAT,EAAc;AACrC,gBAAI+B,QAAO,SAAPA,KAAO,GAAU;AACjBjC,qBAAKtD,YAAL,CAAkBiE,UAAlB;AACH,aAFD;AAGAX,iBAAKkC,YAAL,CAAkBD,KAAlB,EAAwB,GAAxB;AACH,SALD;;AAOA,aAAK/E,IAAL,CAAU+C,EAAV,CAAa,aAAb,EAA2B,UAASC,IAAT,EAAc;AACrCnF,eAAG8B,EAAH,CAAMM,SAAN,CAAgBoF,MAAhB,GAAyB,IAAzB;AACAxH,eAAG8B,EAAH,CAAM2F,KAAN,CAAYC,IAAZ,CAAiB,MAAjB,EAAwB,YAAxB,EAAqC,YAAU;AAC3C1H,mBAAG8B,EAAH,CAAM6F,EAAN,CAASD,IAAT,CAAc,UAAd;AACA1H,mBAAG2D,QAAH,CAAYiE,SAAZ,CAAsB,MAAtB;AACH,aAHD,EAGE,KAHF;AAIH,SAND;;AAQA,aAAKzF,IAAL,CAAU+C,EAAV,CAAa,WAAb,EAAyB,UAASC,IAAT,EAAc;AACnC,gBAAI+B,QAAO,SAAPA,KAAO,GAAU;AACjBjC,qBAAK5E,QAAL,CAAcqB,MAAd,GAAuB,KAAvB;AACAuD,qBAAKxE,WAAL,CAAiBiB,MAAjB,GAA0B,IAA1B;AACA,oBAAImG,SAAS5C,KAAKxE,WAAL,CAAiB8B,cAAjB,CAAgC,QAAhC,CAAb;AACA,oBAAIuF,UAAU7C,KAAKxE,WAAL,CAAiB8B,cAAjB,CAAgC,SAAhC,CAAd;AACA,oBAAIwF,WAAW9C,KAAKxE,WAAL,CAAiB8B,cAAjB,CAAgC,UAAhC,CAAf;AACAsF,uBAAOnG,MAAP,GAAgB,KAAhB;AACAoG,wBAAQpG,MAAR,GAAiB,KAAjB;AACAqG,yBAASrG,MAAT,GAAkB,IAAlB;AACF,aATF;AAUAuD,iBAAKkC,YAAL,CAAkBD,KAAlB,EAAwB,CAAxB;AACH,SAZD;AAaA,aAAK/E,IAAL,CAAU+C,EAAV,CAAa,OAAb,EAAqB,UAASC,IAAT,EAAc;AAC/B,gBAAIA,OAAOA,KAAKI,MAAhB;AACA,gBAAIyC,QAAQhI,GAAG8B,EAAH,CAAMM,SAAN,CAAgB4F,KAA5B;AACA,gBAAIC,UAAU,IAAd;AACA,gBAAIC,SAAS,IAAb;AACA,iBAAI,IAAIpE,IAAI,CAAZ,EAAeA,IAAIkE,MAAMhE,MAAzB,EAAiC,EAAEF,CAAnC,EAAqC;AACjC,oBAAIkE,MAAMlE,CAAN,EAASqE,MAAT,KAAoB,CAAxB,EAA2B;AACvB;AACH;AACD,oBAAIC,WAAWjD,KAAKrB,CAAL,CAAf;AACA,oBAAGsE,YAAYA,SAAS7H,IAAxB,EAA6B;AACzB0H,8BAAUnE,CAAV;AACAoE,6BAASE,SAAS7H,IAAlB;AACH;AACJ;AACD,gBAAG,CAAC0H,OAAD,IAAYA,YAAY,CAA3B,EAA6B;AACzBA,0BAAU9C,KAAKkB,SAAf;AACH;AACD,gBAAIO,aAAa5G,GAAG8B,EAAH,CAAMM,SAAN,CAAgByE,oBAAhB,CAAqCoB,OAArC,CAAjB;AACA,gBAAInB,YAAY9G,GAAG8B,EAAH,CAAMM,SAAN,CAAgB2E,mBAAhB,CAAoCH,UAApC,CAAhB;AACA,gBAAIyB,YAAYpD,KAAK9C,IAAL,CAAUI,cAAV,CAAyB,WAAzB,CAAhB;;AAEA,gBAAIyD,MAAM,KAAV;AACA,gBAAGhG,GAAG8B,EAAH,CAAMmE,OAAN,CAAcD,GAAd,IAAqB,CAAxB,EAA0B;AAAE;AACxBA,sBAAM,KAAN;AACH,aAFD,MAGK,IAAGhG,GAAG8B,EAAH,CAAMmE,OAAN,CAAcD,GAAd,IAAqB,CAAxB,EAA0B;AAAE;AAC7BA,sBAAM,IAAN;AACH;AACD,gBAAI3D,kBAAkB,KAAtB;AACA,gBAAGrC,GAAG8B,EAAH,CAAMM,SAAN,CAAgBC,eAAhB,IAAmC,CAAtC,EAAwC;AAAE;AACtCA,kCAAkB,KAAlB;AACH,aAFD,MAGK,IAAGrC,GAAG8B,EAAH,CAAMM,SAAN,CAAgBC,eAAhB,IAAmC,CAAtC,EAAwC;AAAE;AAC3CA,kCAAkB,KAAlB;AACH;;AAED,gBAAG6F,WAAW,MAAd,EAAqB;AACjBjD,qBAAK+B,aAAL,CAAmB,MAAnB,EAA0BF,SAA1B,EAAoC,MAApC;AACA9G,mBAAG8B,EAAH,CAAMC,QAAN,CAAeqE,OAAf,CAAuB,cAAY/D,eAAZ,GAA4B,GAA5B,GAAgC2D,GAAhC,GAAoC,WAA3D;AACH,aAHD,MAIK,IAAGkC,WAAW,MAAd,EAAqB;AACtBjD,qBAAK+B,aAAL,CAAmB,MAAnB,EAA0BF,SAA1B,EAAoC,MAApC;AACA9G,mBAAG8B,EAAH,CAAMC,QAAN,CAAeqE,OAAf,CAAuB,cAAY/D,eAAZ,GAA4B,GAA5B,GAAgC2D,GAAhC,GAAoC,WAA3D;AACH,aAHI,MAIA,IAAGkC,WAAW,QAAd,EAAuB;AACxBjD,qBAAK+B,aAAL,CAAmB,QAAnB,EAA4BF,SAA5B,EAAsC,QAAtC;AACA9G,mBAAG8B,EAAH,CAAMC,QAAN,CAAeqE,OAAf,CAAuB,cAAY/D,eAAZ,GAA4B,GAA5B,GAAgC2D,GAAhC,GAAoC,aAA3D;AACH,aAHI,MAIA,IAAGkC,WAAW,SAAd,EAAwB;AACzBjD,qBAAK+B,aAAL,CAAmB,SAAnB,EAA6BF,SAA7B,EAAuC,SAAvC;AACA9G,mBAAG8B,EAAH,CAAMC,QAAN,CAAeqE,OAAf,CAAuB,cAAY/D,eAAZ,GAA4B,GAA5B,GAAgC2D,GAAhC,GAAoC,cAA3D;AACH,aAHI,MAIA,IAAGkC,WAAW,MAAd,EAAqB;AACtBlI,mBAAG8B,EAAH,CAAMC,QAAN,CAAeqE,OAAf,CAAuB,WAAvB;AACA;AACAnB,qBAAK+B,aAAL,CAAmB,IAAnB,EAAwBF,SAAxB,EAAkC,OAAlC;AACH;AACJ,SA1DD;AA2DH,KAvcI;AAwcLpB,WAAM,iBAAU;AACZ,aAAKrC,MAAL,CAAY3B,MAAZ,GAAqB,IAArB;AACA,aAAK2B,MAAL,CAAYb,YAAZ,CAAyBxC,GAAGkE,MAA5B,EAAoCE,WAApC,GAAkD,KAAK1D,YAAL,CAAkB4H,cAAlB,CAAiC,QAAjC,CAAlD,CAFY,CAEiF;AAChG,KA3cI;AA4cL/E,kBAAa,wBAAU;AACnB,aAAKF,MAAL,CAAY3B,MAAZ,GAAqB,KAArB;AACH,KA9cI;AA+cL+B,oBAAe,0BAAU;AACrB,aAAKD,QAAL,CAAc9B,MAAd,GAAuB,KAAvB;AACH,KAjdI;AAkdLiE,iBAAY,uBAAU;AAClB,aAAKtC,MAAL,CAAY3B,MAAZ,GAAqB,IAArB;AACA,aAAK2B,MAAL,CAAYb,YAAZ,CAAyBxC,GAAGkE,MAA5B,EAAoCE,WAApC,GAAkD,KAAK1D,YAAL,CAAkB4H,cAAlB,CAAiC,QAAjC,CAAlD,CAFkB,CAE2E;AAChG,KArdI;AAsdLC,aAAQ,iBAASC,IAAT,EAAczC,SAAd,EAAwB;AAC5B,aAAK/E,QAAL,CAAcU,MAAd,GAAuB,IAAvB;AACA,YAAI+G,MAAM,KAAKzH,QAAL,CAAcuB,cAAd,CAA6BiG,IAA7B,CAAV;AACA,YAAIzC,cAAc,CAAlB,EAAqB;AACjB0C,gBAAIC,WAAJ,CAAgB,CAAhB,EAAkB,CAAC,GAAnB;AACH,SAFD,MAGK,IAAI3C,cAAc,CAAlB,EAAqB;AACtB0C,gBAAIC,WAAJ,CAAgB,GAAhB,EAAoB,CAApB;AACH,SAFI,MAGA,IAAI3C,cAAc,CAAlB,EAAqB;AACtB0C,gBAAIC,WAAJ,CAAgB,CAAhB,EAAkB,GAAlB;AACH,SAFI,MAGA,IAAI3C,cAAc,CAAlB,EAAqB;AACtB0C,gBAAIC,WAAJ,CAAgB,CAAC,GAAjB,EAAqB,CAArB;AACH;AACDD,YAAI/G,MAAJ,GAAa,IAAb;AACA+G,YAAIjG,YAAJ,CAAiBxC,GAAG0C,SAApB,EAA+BiG,IAA/B;AACH,KAveI;AAweL3B,mBAAc,uBAASwB,IAAT,EAAczC,SAAd,EAAwB6C,QAAxB,EAAiC;AAC3C,YAAIP,YAAY,KAAKlG,IAAL,CAAUI,cAAV,CAAyB,WAAzB,CAAhB;AACA,YAAIsG,UAAUR,UAAU9F,cAAV,CAAyBiG,IAAzB,CAAd;AACA,YAAIzC,cAAc,CAAlB,EAAqB;AACjBsC,sBAAUK,WAAV,CAAsB,CAAtB,EAAwB,CAAC,GAAzB;AACH,SAFD,MAGK,IAAI3C,cAAc,CAAlB,EAAqB;AACtBsC,sBAAUK,WAAV,CAAsB,GAAtB,EAA0B,CAA1B;AACH,SAFI,MAGA,IAAI3C,cAAc,CAAlB,EAAqB;AACtBsC,sBAAUK,WAAV,CAAsB,CAAtB,EAAwB,GAAxB;AACH,SAFI,MAGA,IAAI3C,cAAc,CAAlB,EAAqB;AACtBsC,sBAAUK,WAAV,CAAsB,CAAC,GAAvB,EAA2B,CAA3B;AACH;AACDG,gBAAQnH,MAAR,GAAiB,IAAjB;AACAmH,gBAAQrG,YAAR,CAAqBxC,GAAG0C,SAAxB,EAAmCiG,IAAnC,CAAwCC,QAAxC;AACH,KAzfI;AA0fLvE,oBAAgB,wBAAUlC,IAAV,EAAgB;AAC5BA,aAAK+C,EAAL,CAAQlF,GAAGQ,IAAH,CAAQsI,SAAR,CAAkBC,WAA1B,EAAuC,UAAUC,KAAV,EAAiB;AACpD7H,oBAAQC,GAAR,CAAY,+BAAZ;AACA,gBAAI,CAACpB,GAAG8B,EAAH,CAAMM,SAAN,CAAgB6G,QAArB,EAA+B;AAC3B;AACH;AACD,gBAAIjJ,GAAG8B,EAAH,CAAMM,SAAN,CAAgB8G,IAAhB,IAAwBlJ,GAAG8B,EAAH,CAAMM,SAAN,CAAgB2D,SAA5C,EAAuD;AACnD;AACH;AACD5D,iBAAKgH,YAAL,GAAoBhH,KAAKK,YAAL,CAAkBxC,GAAGoJ,MAArB,EAA6BD,YAAjD;AACA,gBAAI,CAAChH,KAAKgH,YAAV,EAAwB;AACpB;AACH;AACDhH,iBAAKkH,OAAL,GAAe,GAAf;AACA,iBAAKjG,WAAL,CAAiB1B,MAAjB,GAA0B,KAA1B;AACA,iBAAK0B,WAAL,CAAiBZ,YAAjB,CAA8BxC,GAAGkE,MAAjC,EAAyCE,WAAzC,GAAuDjC,KAAKK,YAAL,CAAkBxC,GAAGkE,MAArB,EAA6BE,WAApF;AACA,iBAAKhB,WAAL,CAAiBkG,CAAjB,GAAqBN,MAAMO,YAAN,KAAuBvJ,GAAG2D,QAAH,CAAYC,cAAZ,GAA6BC,KAA7B,GAAqC,CAAjF;AACA,iBAAKT,WAAL,CAAiBoG,CAAjB,GAAqBR,MAAMS,YAAN,KAAuBzJ,GAAG2D,QAAH,CAAYC,cAAZ,GAA6B8F,MAA7B,GAAsC,CAAlF;AACH,SAjBsC,CAiBrCC,IAjBqC,CAiBhC,IAjBgC,CAAvC;;AAmBAxH,aAAK+C,EAAL,CAAQlF,GAAGQ,IAAH,CAAQsI,SAAR,CAAkBc,UAA1B,EAAsC,UAAUZ,KAAV,EAAiB;AACnD7H,oBAAQC,GAAR,CAAY,8BAAZ;AACA,gBAAIpB,GAAG8B,EAAH,CAAMM,SAAN,CAAgB8G,IAAhB,IAAwBlJ,GAAG8B,EAAH,CAAMM,SAAN,CAAgB2D,SAA5C,EAAuD;AACnD;AACH;AACD,gBAAI,CAAC5D,KAAKgH,YAAV,EAAwB;AACpB;AACH;AACD,gBAAIU,KAAKC,GAAL,CAASd,MAAMe,SAAN,EAAT,IAA8BF,KAAKC,GAAL,CAASd,MAAMgB,SAAN,EAAT,CAA9B,GAA4D,GAAhE,EAAqE;AACjE;AACH;AACD,iBAAK5G,WAAL,CAAiB1B,MAAjB,GAA0B,IAA1B;AACAS,iBAAKkH,OAAL,GAAe,GAAf;AACA,iBAAKjG,WAAL,CAAiBiG,OAAjB,GAA2B,GAA3B;AACA,iBAAKjG,WAAL,CAAiBkB,MAAjB,GAA0B,CAA1B;AACA,iBAAKlB,WAAL,CAAiBmB,MAAjB,GAA0B,CAA1B;AACA,iBAAKnB,WAAL,CAAiBkG,CAAjB,GAAqBN,MAAMO,YAAN,KAAuBvJ,GAAG2D,QAAH,CAAYC,cAAZ,GAA6BC,KAA7B,GAAqC,CAAjF;AACA,iBAAKT,WAAL,CAAiBoG,CAAjB,GAAqBR,MAAMS,YAAN,KAAuBzJ,GAAG2D,QAAH,CAAYC,cAAZ,GAA6B8F,MAA7B,GAAsC,CAAlF;AACAvH,iBAAKqH,CAAL,GAAS,CAAT;AACH,SAnBqC,CAmBpCG,IAnBoC,CAmB/B,IAnB+B,CAAtC;;AAqBAxH,aAAK+C,EAAL,CAAQlF,GAAGQ,IAAH,CAAQsI,SAAR,CAAkBmB,SAA1B,EAAqC,UAAUjB,KAAV,EAAiB;AAClD,gBAAIhJ,GAAG8B,EAAH,CAAMM,SAAN,CAAgB8G,IAAhB,IAAwBlJ,GAAG8B,EAAH,CAAMM,SAAN,CAAgB2D,SAA5C,EAAuD;AACnD;AACH;AACD,gBAAI,CAAC5D,KAAKgH,YAAV,EAAwB;AACpB;AACH;AACDhI,oBAAQC,GAAR,CAAY,6BAAZ;AACA,iBAAKgC,WAAL,CAAiB1B,MAAjB,GAA0B,KAA1B;AACAS,iBAAKkH,OAAL,GAAe,GAAf;AACA,gBAAIL,MAAMS,YAAN,MAAwB,GAA5B,EAAiC;AAC7B,qBAAKS,KAAL,CAAW/H,KAAKgI,KAAhB;AACH;AACJ,SAboC,CAanCR,IAbmC,CAa9B,IAb8B,CAArC;;AAeAxH,aAAK+C,EAAL,CAAQlF,GAAGQ,IAAH,CAAQsI,SAAR,CAAkBsB,YAA1B,EAAwC,UAAUpB,KAAV,EAAiB;AACrD,gBAAIhJ,GAAG8B,EAAH,CAAMM,SAAN,CAAgB8G,IAAhB,IAAwBlJ,GAAG8B,EAAH,CAAMM,SAAN,CAAgB2D,SAA5C,EAAuD;AACnD;AACH;AACD,gBAAI,CAAC5D,KAAKgH,YAAV,EAAwB;AACpB;AACH;AACDhI,oBAAQC,GAAR,CAAY,gCAAZ;AACA,iBAAKgC,WAAL,CAAiB1B,MAAjB,GAA0B,KAA1B;AACAS,iBAAKkH,OAAL,GAAe,GAAf;AACA,gBAAIL,MAAMS,YAAN,MAAwB,GAA5B,EAAiC;AAC7B,qBAAKS,KAAL,CAAW/H,KAAKgI,KAAhB;AACH,aAFD,MAEO,IAAInB,MAAMS,YAAN,MAAwB,GAA5B,EAAiC,CAEvC;AACJ,SAfuC,CAetCE,IAfsC,CAejC,IAfiC,CAAxC;AAgBH,KAlkBI;AAmkBLU,kBAAa,sBAASrB,KAAT,EAAe;AACxB,YAAGhJ,GAAG8B,EAAH,CAAMM,SAAN,CAAgBkI,cAAnB,EAAkC;AAC9B,iBAAKnI,IAAL,CAAUoI,IAAV,CAAe,YAAf,EAA4BvB,MAAMwB,MAAlC;AACA;AACH;;AAED;AACA,YAAGxK,GAAG8B,EAAH,CAAMM,SAAN,CAAgB8G,IAAhB,IAAwBlJ,GAAG8B,EAAH,CAAMM,SAAN,CAAgB2D,SAA3C,EAAqD;AACjD5E,oBAAQC,GAAR,CAAY,mBAAmBpB,GAAG8B,EAAH,CAAMM,SAAN,CAAgB8G,IAA/C;AACA;AACH;;AAED,aAAI,IAAIpF,IAAI,CAAZ,EAAeA,IAAI,KAAKhD,SAAL,CAAekD,MAAlC,EAA0C,EAAEF,CAA5C,EAA8C;AAC1C,gBAAGkF,MAAMwB,MAAN,IAAgB,KAAK1J,SAAL,CAAegD,CAAf,EAAkB3B,IAArC,EAA0C;AACtC;AACA,oBAAG6G,MAAMwB,MAAN,IAAgB,KAAKzJ,YAAxB,EAAqC;AACjC,yBAAKmJ,KAAL,CAAW,KAAKnJ,YAAL,CAAkBoJ,KAA7B;AACA,yBAAKpJ,YAAL,CAAkByI,CAAlB,GAAsB,CAAtB;AACA,yBAAKzI,YAAL,GAAoB,IAApB;AACA;AACH;AACD,oBAAG,KAAKA,YAAL,IAAqB,IAAxB,EAA6B;AACzB,yBAAKA,YAAL,CAAkByI,CAAlB,GAAsB,CAAtB;AACH;AACDR,sBAAMwB,MAAN,CAAahB,CAAb,GAAiB,EAAjB;AACA,qBAAKzI,YAAL,GAAoBiI,MAAMwB,MAA1B;AACA;AACH;AACJ;AACJ,KAhmBI;AAimBL;AACAN,WAAM,eAAS1E,GAAT,EAAa;AACf,YAAGA,OAAO,IAAV,EAAe;AACX;AACH;AACDxF,WAAG8B,EAAH,CAAM2I,MAAN,CAAaC,IAAb,CAAkB,QAAlB,EAA2BlF,GAA3B;AACH,KAvmBI;AAwmBLmF,0BAAqB,gCAAU;AAC3B3K,WAAG8B,EAAH,CAAM8I,QAAN,CAAeC,YAAf;AACH,KA1mBI;;AA4mBL;AACA9F,mBAAc,uBAAS+F,GAAT,EAAa;AACvB,aAAKC,aAAL,CAAmBD,GAAnB,EAAuB,KAAK3I,IAA5B,EAAiC,SAAjC,EAA2C,cAA3C;AACH,KA/mBI;AAgnBL4I,mBAAc,uBAAS5I,IAAT,EAAcqI,MAAd,EAAqBQ,SAArB,EAA+BC,OAA/B,EAAuC;AACjD,YAAIC,eAAe,IAAIlL,GAAGG,SAAH,CAAagL,YAAjB,EAAnB;AACAD,qBAAaV,MAAb,GAAsBA,MAAtB;AACAU,qBAAaF,SAAb,GAAyBA,SAAzB;AACAE,qBAAaD,OAAb,GAAuBA,OAAvB;;AAEA,YAAIG,cAAcjJ,KAAKK,YAAL,CAAkBxC,GAAGoJ,MAArB,EAA6BgC,WAA/C;AACAA,oBAAYjH,IAAZ,CAAiB+G,YAAjB;AACH,KAxnBI;AAynBLG,kBAAa,sBAASrC,KAAT,EAAe;AACxB,YAAI1G,YAAY,KAAKH,IAAL,CAAUI,cAAV,CAAyB,MAAzB,CAAhB;AACA,YAAGyG,MAAMwB,MAAN,CAAahC,IAAb,IAAqB,aAAxB,EAAsC;AAClC,iBAAK,IAAI1E,IAAI,CAAb,EAAgBA,IAAI,KAAKY,QAAL,CAAcX,QAAd,CAAuBC,MAA3C,EAAmDF,GAAnD,EAAwD;AACpD,oBAAIA,KAAK,CAAT,EAAY;AACR,yBAAKY,QAAL,CAAcX,QAAd,CAAuBD,CAAvB,EAA0BpC,MAA1B,GAAmC,CAAC,KAAKgD,QAAL,CAAcX,QAAd,CAAuBD,CAAvB,EAA0BpC,MAA9D;AACH;AACJ;AACJ,SAND,MAOK,IAAIsH,MAAMwB,MAAN,CAAahC,IAAb,IAAqB,UAAzB,EAAqC;AACtC,iBAAK,IAAI1E,IAAI,CAAb,EAAgBA,IAAI,KAAKY,QAAL,CAAcX,QAAd,CAAuBC,MAA3C,EAAmDF,GAAnD,EAAwD;AACpD,oBAAIA,KAAK,CAAT,EAAY;AACR,yBAAKY,QAAL,CAAcX,QAAd,CAAuBD,CAAvB,EAA0BpC,MAA1B,GAAmC,KAAnC;AACH;AACJ;AACJ,SANI,MAOA,IAAGsH,MAAMwB,MAAN,CAAahC,IAAb,IAAqB,aAAxB,EAAsC;AACvC,gBAAI3F,SAAS,kBAAb;AACA,gBAAG7C,GAAG8B,EAAH,CAAMmE,OAAN,CAAcqF,OAAd,CAAsBnF,KAAtB,IAA+B,CAA/B,IAAoCnG,GAAGuL,GAAH,CAAOC,EAAP,IAAaxL,GAAGuL,GAAH,CAAOE,MAA3D,EAAkE;AAAE;AAChE5I,yBAAS,SAAT;AACH;AACD7C,eAAG8B,EAAH,CAAM2F,KAAN,CAAYC,IAAZ,CAAiB,MAAjB,EAAwB7E,MAAxB,EAA+B,YAAU;AACrC7C,mBAAG8B,EAAH,CAAM2I,MAAN,CAAaC,IAAb,CAAkB,UAAlB;AACH,aAFD,EAEE,IAFF;AAGH,SARI,MASA,IAAI1B,MAAMwB,MAAN,CAAahC,IAAb,IAAqB,SAArB,IAAkC,CAAClG,UAAUZ,MAAjD,EAAyD;AAC1D1B,eAAG8B,EAAH,CAAM2F,KAAN,CAAYC,IAAZ,CAAiB,MAAjB,EAAwB,uBAAxB,EAAgD,YAAU;AACtD1H,mBAAG8B,EAAH,CAAM2I,MAAN,CAAaC,IAAb,CAAkB,YAAlB;AACA1K,mBAAG8B,EAAH,CAAM6F,EAAN,CAASD,IAAT,CAAc,UAAd;AACA1H,mBAAG2D,QAAH,CAAYiE,SAAZ,CAAsB,MAAtB;AACH,aAJD,EAIE,IAJF;AAKH,SANI,MAOA,IAAGoB,MAAMwB,MAAN,CAAahC,IAAb,IAAqB,cAAxB,EAAuC;AACxCxI,eAAG8B,EAAH,CAAM8I,QAAN,CAAeC,YAAf;AACH,SAFI,MAGA,IAAG7B,MAAMwB,MAAN,CAAahC,IAAb,IAAqB,gBAAxB,EAA0C;AAC3C,gBAAIkD,QAAQ,KAAKvJ,IAAL,CAAUI,cAAV,CAAyB,OAAzB,CAAZ;AACAmJ,kBAAMhK,MAAN,GAAe,IAAf;AACH,SAHI,MAIA,IAAGsH,MAAMwB,MAAN,CAAahC,IAAb,IAAqB,UAAxB,EAAmC;AACpCrH,oBAAQC,GAAR,CAAY,YAAZ;AACApB,eAAG8B,EAAH,CAAM2I,MAAN,CAAaC,IAAb,CAAkB,OAAlB;AACH,SAHI,MAIA,IAAI1B,MAAMwB,MAAN,CAAahC,IAAb,IAAqB,eAAzB,EAA0C;AAAC;AAC5C,iBAAK/E,cAAL;AACAzD,eAAG8B,EAAH,CAAM2I,MAAN,CAAaC,IAAb,CAAkB,cAAlB;AACH;AACJ,KAxqBI;AAyqBLiB,qBAAgB,yBAAS3C,KAAT,EAAe;AAAE;AAC7B,YAAI4C,UAAU5L,GAAG8B,EAAH,CAAM+J,YAAN,CAAmBD,OAAjC;AACA,YAAIzG,OAAM,EAAV;AACAA,aAAK2G,SAAL,GAAiBF,OAAjB;AACA,YAAG5C,MAAMwB,MAAN,CAAahC,IAAb,IAAqB,QAAxB,EAAiC;AAC7BrD,iBAAK5E,IAAL,GAAY,CAAZ;AACH,SAFD,MAGK,IAAGyI,MAAMwB,MAAN,CAAahC,IAAb,IAAqB,QAAxB,EAAiC;AAClCrD,iBAAK5E,IAAL,GAAY,CAAZ;AACH,SAFI,MAGA,IAAGyI,MAAMwB,MAAN,CAAahC,IAAb,IAAqB,SAAxB,EAAkC;AACnCrD,iBAAK5E,IAAL,GAAY,CAAZ;AACH,SAFI,MAGA,IAAGyI,MAAMwB,MAAN,CAAahC,IAAb,IAAqB,QAAxB,EAAiC;AAClCrD,iBAAK5E,IAAL,GAAY,CAAZ;AACH,SAFI,MAGA,IAAGyI,MAAMwB,MAAN,CAAahC,IAAb,IAAqB,SAAxB,EAAkC;AACnCrD,iBAAK5E,IAAL,GAAY,CAAZ;AACH,SAFI,MAGA,IAAGyI,MAAMwB,MAAN,CAAahC,IAAb,IAAqB,QAAxB,EAAiC;AAClCrD,iBAAK5E,IAAL,GAAY,CAAZ;AACH;AACD,YAAIwL,WAAW/L,GAAGsD,IAAH,CAAQ,iBAAR,CAAf;AACAyI,iBAASrK,MAAT,GAAkB,KAAlB;AACA1B,WAAG8B,EAAH,CAAM2I,MAAN,CAAaC,IAAb,CAAkB,YAAlB,EAA+BvF,IAA/B;AACH,KAlsBI;AAmsBLC,gBAAW,oBAASD,IAAT,EAAc;AAAK;AAC1B,YAAIF,OAAO,IAAX;AACA,YAAIE,OAAOA,KAAKI,MAAhB;;AAEA,aAAI,IAAIzB,IAAI,CAAZ,EAAeA,IAAI9D,GAAG8B,EAAH,CAAMM,SAAN,CAAgB4F,KAAhB,CAAsBhE,MAAzC,EAAiD,EAAEF,CAAnD,EAAqD;AACjD,gBAAG9D,GAAG8B,EAAH,CAAMM,SAAN,CAAgB4F,KAAhB,CAAsBlE,CAAtB,EAAyBqE,MAAzB,KAAoChD,KAAK6G,MAA5C,EAAmD;AAC/C,oBAAIC,cAAcjM,GAAG8B,EAAH,CAAMM,SAAN,CAAgByE,oBAAhB,CAAqC/C,CAArC,CAAlB,CAD+C,CACa;AAC5D,oBAAG,KAAKzD,QAAL,CAAcqB,MAAd,KAAyB,IAA5B,EAAiC;AAAG;AAChCuK,kCAAcjM,GAAG8B,EAAH,CAAMM,SAAN,CAAgB2E,mBAAhB,CAAoCkF,WAApC,CAAd;AACH;AACJ;AACD,gBAAGjM,GAAG8B,EAAH,CAAMM,SAAN,CAAgB4F,KAAhB,CAAsBlE,CAAtB,EAAyBqE,MAAzB,KAAoChD,KAAK2G,SAA5C,EAAsD;AAClD,oBAAII,iBAAiBlM,GAAG8B,EAAH,CAAMM,SAAN,CAAgByE,oBAAhB,CAAqC/C,CAArC,CAArB,CADkD,CACa;AAC/D,oBAAG,KAAKzD,QAAL,CAAcqB,MAAd,KAAyB,IAA5B,EAAiC;AAAG;AAChCwK,qCAAiBlM,GAAG8B,EAAH,CAAMM,SAAN,CAAgB2E,mBAAhB,CAAoCmF,cAApC,CAAjB;AACH;AACJ;AACJ;AACD,YAAI3L,OAAO4E,KAAK5E,IAAhB;;AAEA,YAAI4L,OAAOnM,GAAGsD,IAAH,CAAQ,gBAAc2I,WAAd,GAA0B,OAA1B,GAAkC1L,IAA1C,CAAX;AACA,YAAI6L,QAAQpM,GAAGsD,IAAH,CAAQ,kBAAR,CAAZ;AACA6I,aAAKzK,MAAL,GAAc,IAAd;;AAEA,YAAI2K,aAAa,KAAKC,mBAAL,CAAyBL,WAAzB,EAAqC1L,IAArC,CAAjB,CAxBqB,CAwBuC;AAC5D,YAAIgM,WAAW,KAAKD,mBAAL,CAAyBJ,cAAzB,EAAwC3L,IAAxC,CAAf,CAzBqB,CAyBwC;AAC7D4L,aAAKzD,WAAL,CAAiB2D,WAAWG,GAA5B,EAAgCH,WAAWI,GAA3C;AACA,YAAIC,OAAO,CAAX;AACA,YAAI,KAAKrM,QAAL,CAAcqB,MAAd,KAAyB,KAA7B,EAAoC;AAAG;AACnCgL,mBAAO,GAAP;AACH,SAFD,MAGK,IAAG,KAAKrM,QAAL,CAAcqB,MAAd,KAAyB,IAA5B,EAAiC;AAAG;AACrC,gBAAGuK,gBAAgB,CAAhB,IAAqBC,mBAAmB,CAA3C,EAA6C;AACzCQ,uBAAO,GAAP;AACH,aAFD,MAGK,IAAGT,gBAAgB,CAAhB,IAAqBC,mBAAmB,CAA3C,EAA6C;AAC9CQ,uBAAO,GAAP;AACH,aAFI,MAGD;AACAA,uBAAO,GAAP;AACH;AACJ;AACD,YAAIC,WAAW3M,GAAG4M,MAAH,CAAUF,IAAV,EAAgB1M,GAAG6M,CAAH,CAAKN,SAASC,GAAd,EAAkBD,SAASE,GAA3B,CAAhB,CAAf;AACAN,aAAKW,SAAL,CAAeH,QAAf;;AAEA,YAAIzF,QAAO,SAAPA,KAAO,GAAU;AACjBiF,iBAAKzK,MAAL,GAAc,KAAd;AACA,gBAAI2G,YAAY,KAAKlG,IAAL,CAAUI,cAAV,CAAyB,WAAzB,CAAhB;AACA,gBAAIyD,MAAM,GAAV;AACA,gBAAGhG,GAAG8B,EAAH,CAAMmE,OAAN,CAAcD,GAAd,IAAqB,CAAxB,EAA0B;AAAE;AACxBA,sBAAM,GAAN;AACH,aAFD,MAGK,IAAGhG,GAAG8B,EAAH,CAAMmE,OAAN,CAAcD,GAAd,IAAqB,CAAxB,EAA0B;AAAE;AAC7BA,sBAAM,GAAN;AACH;;AAGD,gBAAGzF,SAAS,CAAZ,EAAc;AACV,oBAAIwM,SAAS1E,UAAU9F,cAAV,CAAyB,WAAS0J,WAAlC,CAAb;AACAc,uBAAOrL,MAAP,GAAgB,IAAhB;AACAqL,uBAAOrE,WAAP,CAAmB6D,SAASC,GAA5B,EAAgCD,SAASE,GAAzC;AACAM,uBAAOvK,YAAP,CAAoBxC,GAAG0C,SAAvB,EAAkCiG,IAAlC,CAAuC,QAAvC;AACA3I,mBAAG8B,EAAH,CAAMC,QAAN,CAAeqE,OAAf,CAAuB,UAAQJ,GAAR,GAAY,aAAnC;;AAEA,oBAAIgH,MAAK,SAALA,GAAK,GAAU;AACfhN,uBAAG8B,EAAH,CAAMC,QAAN,CAAeqE,OAAf,CAAuB,iBAAvB;AACH,iBAFD;AAGAnB,qBAAKkC,YAAL,CAAkB6F,GAAlB,EAAsB,GAAtB;AACH,aAXD,MAYK,IAAGzM,SAAS,CAAZ,EAAc;AACf,oBAAI0M,SAAS5E,UAAU9F,cAAV,CAAyB,WAAS0J,WAAlC,CAAb;AACAgB,uBAAOvL,MAAP,GAAgB,IAAhB;AACAuL,uBAAOvE,WAAP,CAAmB6D,SAASC,GAA5B,EAAgCD,SAASE,GAAzC;AACAQ,uBAAOzK,YAAP,CAAoBxC,GAAG0C,SAAvB,EAAkCiG,IAAlC,CAAuC,QAAvC;AACA3I,mBAAG8B,EAAH,CAAMC,QAAN,CAAeqE,OAAf,CAAuB,UAAQJ,GAAR,GAAY,cAAnC;;AAEA,oBAAIgH,MAAK,SAALA,GAAK,GAAU;AACfhN,uBAAG8B,EAAH,CAAMC,QAAN,CAAeqE,OAAf,CAAuB,sBAAvB;AACH,iBAFD;AAGAnB,qBAAKkC,YAAL,CAAkB6F,GAAlB,EAAsB,GAAtB;AACH,aAXI,MAYA,IAAGzM,SAAS,CAAZ,EAAc;AACf,oBAAI2M,UAAU7E,UAAU9F,cAAV,CAAyB,YAAU0J,WAAnC,CAAd;AACAiB,wBAAQxL,MAAR,GAAiB,IAAjB;AACAwL,wBAAQxE,WAAR,CAAoB6D,SAASC,GAA7B,EAAiCD,SAASE,GAA1C;AACAS,wBAAQ1K,YAAR,CAAqBxC,GAAG0C,SAAxB,EAAmCiG,IAAnC,CAAwC,SAAxC;AACA3I,mBAAG8B,EAAH,CAAMC,QAAN,CAAeqE,OAAf,CAAuB,UAAQJ,GAAR,GAAY,cAAnC;;AAEA,oBAAIgH,MAAK,SAALA,GAAK,GAAU;AACfhN,uBAAG8B,EAAH,CAAMC,QAAN,CAAeqE,OAAf,CAAuB,sBAAvB;AACH,iBAFD;AAGAnB,qBAAKkC,YAAL,CAAkB6F,GAAlB,EAAsB,GAAtB;AACH,aAXI,MAYA,IAAGzM,SAAS,CAAZ,EAAc;AACf,oBAAI4M,SAAS9E,UAAU9F,cAAV,CAAyB,WAAS0J,WAAlC,CAAb;AACAkB,uBAAOzL,MAAP,GAAgB,IAAhB;AACAyL,uBAAOzE,WAAP,CAAmB6D,SAASC,GAA5B,EAAgCD,SAASE,GAAzC;AACAU,uBAAO3K,YAAP,CAAoBxC,GAAG0C,SAAvB,EAAkCiG,IAAlC,CAAuC,QAAvC;AACA3I,mBAAG8B,EAAH,CAAMC,QAAN,CAAeqE,OAAf,CAAuB,UAAQJ,GAAR,GAAY,WAAnC;;AAEA,oBAAIgH,MAAK,SAALA,GAAK,GAAU;AACfhN,uBAAG8B,EAAH,CAAMC,QAAN,CAAeqE,OAAf,CAAuB,sBAAvB;AACH,iBAFD;AAGAnB,qBAAKkC,YAAL,CAAkB6F,GAAlB,EAAsB,GAAtB;AACH,aAXI,MAYA,IAAGzM,SAAS,CAAZ,EAAc;AACf,oBAAI6M,UAAU/E,UAAU9F,cAAV,CAAyB,YAAU0J,WAAnC,CAAd;AACAmB,wBAAQ1L,MAAR,GAAiB,IAAjB;AACA0L,wBAAQ1E,WAAR,CAAoB6D,SAASC,GAA7B,EAAiCD,SAASE,GAA1C;AACAW,wBAAQ5K,YAAR,CAAqBxC,GAAG0C,SAAxB,EAAmCiG,IAAnC,CAAwC,SAAxC;AACA3I,mBAAG8B,EAAH,CAAMC,QAAN,CAAeqE,OAAf,CAAuB,UAAQJ,GAAR,GAAY,cAAnC;AACA,oBAAIgH,MAAK,SAALA,GAAK,GAAU;AACfhN,uBAAG8B,EAAH,CAAMC,QAAN,CAAeqE,OAAf,CAAuB,sBAAvB;AACH,iBAFD;AAGAnB,qBAAKkC,YAAL,CAAkB6F,GAAlB,EAAsB,GAAtB;AACH,aAVI,MAWA,IAAGzM,SAAS,CAAZ,EAAc;AACf,oBAAI8M,SAAShF,UAAU9F,cAAV,CAAyB,WAAS0J,WAAlC,CAAb;AACAoB,uBAAO3L,MAAP,GAAgB,IAAhB;AACA2L,uBAAO3E,WAAP,CAAmB6D,SAASC,GAA5B,EAAgCD,SAASE,GAAzC;AACAY,uBAAO7K,YAAP,CAAoBxC,GAAG0C,SAAvB,EAAkCiG,IAAlC,CAAuC,QAAvC;AACA3I,mBAAG8B,EAAH,CAAMC,QAAN,CAAeqE,OAAf,CAAuB,UAAQJ,GAAR,GAAY,aAAnC;AACA,oBAAIgH,MAAK,SAALA,GAAK,GAAU;AACfhN,uBAAG8B,EAAH,CAAMC,QAAN,CAAeqE,OAAf,CAAuB,iBAAvB;AACH,iBAFD;AAGAnB,qBAAKkC,YAAL,CAAkB6F,GAAlB,EAAsB,GAAtB;AACH;AACJ,SAlFD;AAmFA,aAAK7F,YAAL,CAAkBD,KAAlB,EAAwBwF,IAAxB;AACH,KAp0BI;;AAs0BL;AACAJ,yBAAoB,6BAASgB,KAAT,EAAe/M,IAAf,EAAoB;AACpC,YAAI4E,OAAO,EAAX;AACA,aAAKzC,SAAL,CAAeP,IAAf,CAAoBuG,WAApB,CAAgC,CAAhC,EAAkC,CAAlC;AACA,YAAI,KAAKrI,QAAL,CAAcqB,MAAd,KAAyB,KAA7B,EAAoC;AAAG;AACnC,gBAAG4L,UAAU,CAAb,EAAe;AACXnI,qBAAKqH,GAAL,GAAW,CAAC,GAAZ;AACArH,qBAAKsH,GAAL,GAAW,EAAX;AACH,aAHD,MAIK,IAAGa,UAAU,CAAb,EAAe;AAChBnI,qBAAKqH,GAAL,GAAW,CAAC,EAAZ;AACArH,qBAAKsH,GAAL,GAAW,EAAX;AACH,aAHI,MAIA,IAAGa,UAAU,CAAb,EAAe;AAChBnI,qBAAKqH,GAAL,GAAW,GAAX;AACArH,qBAAKsH,GAAL,GAAW,EAAX;AACH,aAHI,MAIA,IAAGa,UAAU,CAAb,EAAe;AAChBnI,qBAAKqH,GAAL,GAAW,GAAX;AACArH,qBAAKsH,GAAL,GAAW,EAAX;AACH;AACJ,SAjBD,MAkBK,IAAG,KAAKpM,QAAL,CAAcqB,MAAd,KAAyB,IAA5B,EAAiC;AAAG;AACrC,gBAAG4L,UAAU,CAAb,EAAe;AACXnI,qBAAKqH,GAAL,GAAW,CAAC,GAAZ;AACArH,qBAAKsH,GAAL,GAAW,CAAC,GAAZ;AACH,aAHD,MAIK,IAAGa,UAAU,CAAb,EAAe;AAChBnI,qBAAKqH,GAAL,GAAW,GAAX;AACArH,qBAAKsH,GAAL,GAAW,EAAX;AACH,aAHI,MAIA,IAAGa,UAAU,CAAb,EAAe;AAChBnI,qBAAKqH,GAAL,GAAW,CAAC,GAAZ;AACArH,qBAAKsH,GAAL,GAAW,GAAX;AACH,aAHI,MAIA,IAAGa,UAAU,CAAb,EAAe;AAChBnI,qBAAKqH,GAAL,GAAW,CAAC,GAAZ;AACArH,qBAAKsH,GAAL,GAAW,EAAX;AACH;AACJ;AACA,eAAOtH,IAAP;AACJ,KA/2BI;;AAi3BLoI,qBAAgB,yBAASvE,KAAT,EAAe;AAC3B,YAAI/D,OAAO,IAAX;AACA9D,gBAAQC,GAAR,CAAY4H,MAAMwB,MAAN,CAAahF,GAAzB;AACA,YAAIoG,UAAU5L,GAAG8B,EAAH,CAAM+J,YAAN,CAAmBD,OAAjC;AACA,YAAIzG,OAAM,EAAV;AACAA,aAAK2G,SAAL,GAAiBF,OAAjB;AACA,YAAG5C,MAAMwB,MAAN,CAAahC,IAAb,IAAqB,SAAxB,EAAkC;AAC9BxI,eAAG8B,EAAH,CAAM2I,MAAN,CAAaC,IAAb,CAAkB,MAAlB,EAAyBzF,KAAKhE,OAA9B;AACH,SAFD,MAGK,IAAG+H,MAAMwB,MAAN,CAAahC,IAAb,IAAqB,SAAxB,EAAkC;AACnCxI,eAAG8B,EAAH,CAAM2I,MAAN,CAAaC,IAAb,CAAkB,MAAlB,EAAyBzF,KAAKhE,OAA9B;AACH,SAFI,MAGA,IAAG+H,MAAMwB,MAAN,CAAahC,IAAb,IAAqB,OAAxB,EAAgC;AACjCxI,eAAG8B,EAAH,CAAM2I,MAAN,CAAaC,IAAb,CAAkB,IAAlB,EAAuBzF,KAAKhE,OAA5B;AACH,SAFI,MAGA,IAAI+H,MAAMwB,MAAN,CAAahC,IAAb,IAAqB,QAAzB,EAAmC;AACpCxI,eAAG8B,EAAH,CAAM2I,MAAN,CAAaC,IAAb,CAAkB,KAAlB,EAAwBzF,KAAKhE,OAA7B;AACH,SAFI,MAGA,IAAG+H,MAAMwB,MAAN,CAAahC,IAAb,IAAqB,QAAxB,EAAiC;AAClCxI,eAAG8B,EAAH,CAAM2I,MAAN,CAAaC,IAAb,CAAkB,KAAlB,EAAwBzF,KAAKhE,OAA7B;AACH;AACJ,KAt4BI;AAu4BL0F,WAAM,eAASxB,IAAT,EAAc;AAChB,YAAIqI,QAAO,SAAPA,KAAO,GAAU;AACjB,gBAAIF,QAAQtN,GAAG8B,EAAH,CAAMM,SAAN,CAAgB8G,IAA5B;AACA,gBAAIlB,QAAQhI,GAAG8B,EAAH,CAAMM,SAAN,CAAgB4F,KAA5B;AACA,gBAAIyF,YAAYzN,GAAG8B,EAAH,CAAMM,SAAN,CAAgByE,oBAAhB,CAAqCyG,KAArC,CAAhB;AACA,gBAAII,aAAa1N,GAAG8B,EAAH,CAAMM,SAAN,CAAgB2E,mBAAhB,CAAoC0G,SAApC,EAA8C,KAA9C,CAAjB;AACA,gBAAI9G,QAAQ,KAAKjE,SAAL,CAAeiE,KAAf,CAAqB+G,UAArB,CAAZ;AACA/G,kBAAMjF,MAAN,GAAe,IAAf;AACAiF,kBAAMnE,YAAN,CAAmBxC,GAAG0C,SAAtB,EAAiCiG,IAAjC,CAAsC,OAAtC;AACH,SARD;AASA,aAAKxB,YAAL,CAAkBqG,KAAlB,EAAwB,GAAxB;;AAEA,YAAItG,QAAO,SAAPA,KAAO,GAAU;AACjB,gBAAGlH,GAAG8B,EAAH,CAAMmE,OAAN,CAAc0H,MAAd,KAAyBxI,KAAKgD,MAAjC,EAAwC;AACpCnI,mBAAG8B,EAAH,CAAM2I,MAAN,CAAaC,IAAb,CAAkB,aAAlB;AACH;AACJ,SAJD;AAKA,aAAKvD,YAAL,CAAkBD,KAAlB,EAAwB,GAAxB;AACH,KAz5BI;;AA25BL0G,uBAAkB,6BAAU;AACxB5N,WAAGsD,IAAH,CAAQ,iBAAR,EAA2B5B,MAA3B,GAAoC,KAApC;AACH,KA75BI;AA85BLmM,sBAAkB,0BAAU7E,KAAV,EAAiB;AAC/B,YAAI8E,OAAO,IAAX;AACA,YAAI9E,MAAMwB,MAAN,CAAahC,IAAb,IAAqB,YAAzB,EAAuC;AACnC;AACA,iBAAKvB,OAAL,CAAa,KAAb;AACA;AACH,SAJD,MAKK,IAAI+B,MAAMwB,MAAN,CAAahC,IAAb,IAAqB,iBAAzB,EAA4C;AAC7C,gBAAG,KAAKnB,OAAL,CAAa0G,GAAb,CAAiB,CAAjB,EAAoB/J,MAApB,KAA+B,CAAlC,EAAoC;AAChC8J,uBAAO,KAAKzG,OAAL,CAAa0G,GAAb,CAAiB,CAAjB,CAAP;AACH,aAFD,MAGI;AACAD,uBAAO,KAAKzG,OAAL,CAAa0G,GAAb,CAAiB,CAAjB,CAAP;AACH;AACJ,SAPI,MAQA,IAAI/E,MAAMwB,MAAN,CAAahC,IAAb,IAAqB,gBAAzB,EAA2C;AAC5C,gBAAG,KAAKnB,OAAL,CAAa0G,GAAb,CAAiB,CAAjB,EAAoB/J,MAApB,KAA+B,CAAlC,EAAoC;AAChC8J,uBAAO,KAAKzG,OAAL,CAAa0G,GAAb,CAAiB,CAAjB,CAAP;AACH,aAFD,MAGI;AACAD,uBAAO,KAAKzG,OAAL,CAAa0G,GAAb,CAAiB,CAAjB,CAAP;AACH;AACJ,SAPI,MAQA,IAAI/E,MAAMwB,MAAN,CAAahC,IAAb,IAAqB,UAAzB,EAAqC;AACtCsF,mBAAO,KAAKzG,OAAL,CAAa0G,GAAb,CAAiB,CAAjB,CAAP;AACH,SAFI,MAGA,IAAI/E,MAAMwB,MAAN,CAAahC,IAAb,IAAqB,UAAzB,EAAqC;AACtCsF,mBAAO,KAAKzG,OAAL,CAAa0G,GAAb,CAAiB,CAAjB,CAAP;AACH,SAFI,MAGA,IAAI/E,MAAMwB,MAAN,CAAahC,IAAb,IAAqB,UAAzB,EAAqC;AACtCsF,mBAAO,KAAKzG,OAAL,CAAa0G,GAAb,CAAiB,CAAjB,CAAP;AACH,SAFI,MAGA,IAAI/E,MAAMwB,MAAN,CAAahC,IAAb,IAAqB,UAAzB,EAAqC;AACtCsF,mBAAO,KAAKzG,OAAL,CAAa0G,GAAb,CAAiB,CAAjB,CAAP;AACH,SAFI,MAGA,IAAI/E,MAAMwB,MAAN,CAAahC,IAAb,IAAqB,UAAzB,EAAqC;AACtCsF,mBAAO,KAAKzG,OAAL,CAAa0G,GAAb,CAAiB,CAAjB,CAAP;AACH;;AAED,YAAI5I,OAAO;AACPK,iBAAK,KAAK6B,OAAL,CAAa7B,GADX;AAEPuI,iBAAKD;AAFE,SAAX;AAIA9N,WAAG8B,EAAH,CAAM2I,MAAN,CAAaC,IAAb,CAAkB,YAAlB,EAAgCvF,IAAhC;AACAhE,gBAAQC,GAAR,CAAY,mBAAZ;AACA,aAAK6F,OAAL,CAAa,KAAb;AACH,KA58BI;;AA88BL;AACAA,aAAS,iBAAU+G,KAAV,EAAiB;AACtB,YAAI1L,YAAY,KAAKH,IAAL,CAAUI,cAAV,CAAyB,MAAzB,CAAhB;AACAD,kBAAUC,cAAV,CAAyB,SAAzB,EAAoCb,MAApC,GAA6CsM,KAA7C;AACH,KAl9BI;;AAo9BLC,qBAAgB,2BAAU;AACtB,YAAIvC,QAAQ,KAAKvJ,IAAL,CAAUI,cAAV,CAAyB,OAAzB,CAAZ;AACAmJ,cAAMhK,MAAN,GAAe,KAAf;AACH,KAv9BI;;AAy9BLwM,mBAAc,yBAAU;AACpB,YAAInC,WAAW,KAAK5J,IAAL,CAAUI,cAAV,CAAyB,UAAzB,CAAf;AACAwJ,iBAASrK,MAAT,GAAkB,KAAlB;AACH;;AA59BI,CAAT","file":"sspgame.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\scripts\\sspgame","sourcesContent":["cc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        gameRoot:{\r\n            default:null,\r\n            type:cc.Node\r\n        },\r\n        \r\n        prepareRoot:{\r\n            default:null,\r\n            type:cc.Node   \r\n        },\r\n        SSPgameAtlas:{\r\n            default:null,\r\n            type:cc.SpriteAtlas\r\n        },\r\n        SSPTeXiaoAtlas:{\r\n            default:null,\r\n            type:cc.SpriteAtlas\r\n        },\r\n        AnimationNode:{\r\n            default:null,\r\n            type:cc.Node\r\n        },\r\n        _mySSPArr:[],\r\n        _selectedSSP:null,\r\n        _playEFX:null,\r\n        paiData:null,\r\n    },\r\n\r\n    onLoad: function () {\r\n        console.log(\"sspGame onLoad begin\");\r\n        window.sspGame = this;\r\n\r\n        this.addComponent(\"sspRoom\");\r\n        this.addComponent(\"Chat\");\r\n        this.addComponent(\"sspFolds\");\r\n        this.addComponent(\"SSPReplayCtrl\");\r\n        this.addComponent(\"ReConnect\")\r\n        this.addComponent(\"Voice\");\r\n        this.addComponent(\"UserInfoShow\");\r\n        this.addComponent(\"PopupMgr\");\r\n        this.addComponent(\"SSPPengGangs\");\r\n        this.addComponent(\"SSPGameOver\");\r\n        this.addComponent(\"SSPGameResult\");\r\n\r\n        this.initView();\r\n        this.initEventHandlers();\r\n        \r\n        this.gameRoot.active = false;\r\n        this.prepareRoot.active = true;\r\n\r\n        this.gameSeatsCom.onGameBeign(this._mySSPArr);\r\n\r\n        //初始化吃的数组 by xsz\r\n        this.chiTargetPai;\r\n        cc.vv.audioMgr.playBGM(\"bgFight.mp3\");\r\n        cc.vv.utils.addEscEvent(this.node);\r\n        cc.vv.sspNetMgr.voiceConversion = 1;\r\n    },\r\n\r\n    initView:function(){\r\n        //搜索需要的子节点\r\n        this.node.active = true;\r\n        var gameChild = this.node.getChildByName(\"game\");\r\n\r\n        this.gameSeatsCom = gameChild.getComponent('sspGameSeats');\r\n        this.gameSeatsCom.start();\r\n        this.Animation = this.AnimationNode.getComponent('SSPAnimation');\r\n        \r\n        this._sspcount = gameChild.getChildByName('sspcount').getComponent(cc.Label);\r\n        this._sspcount.string = cc.vv.sspNetMgr.numOfSSP;\r\n        this._gamecount = gameChild.getChildByName('gamecount').getComponent(cc.Label);\r\n        this._gamecount.string = \"\" + cc.vv.sspNetMgr.numOfGames + \"/\" + cc.vv.sspNetMgr.maxNumOfGames;\r\n\r\n        var myselfChild = gameChild.getChildByName(\"myself\");\r\n        var myholds = myselfChild.getChildByName(\"holds\");\r\n\r\n        this._chupaidrag = gameChild.getChildByName('chupaidrag');\r\n        this._chupaidrag.active = false;\r\n        this._playEFX = this.node.getChildByName(\"Animation\");\r\n        this._tishi = cc.find(\"Canvas/game/myself/tishi\");\r\n        this.hidden_tishi();\r\n        this._tuoguan = cc.find(\"Canvas/game/myself/tuoguan\");\r\n        this.hidden_tuoguan();\r\n        \r\n        var realwidth = cc.director.getVisibleSize().width;\r\n        for(var i = 0; i < myholds.children.length; ++i){\r\n            var sprite = myholds.children[i].getComponent(cc.Sprite);\r\n            this._mySSPArr.push(sprite);\r\n            sprite.spriteFrame = null;\r\n            this.initDragStuffs(sprite.node);\r\n        }\r\n        myholds.scaleX *= realwidth/1280;\r\n        myholds.scaleY *= realwidth/1280;  \r\n        \r\n        var opts = gameChild.getChildByName(\"ops\");\r\n        this._options = opts;\r\n        \r\n        this._setting = this.node.getChildByName(\"setting\");\r\n        this._btnMianban = this._setting.getChildByName(\"btn_mianban\");\r\n        var newNode = this._setting.getChildByName(\"New Node\");\r\n        this._btnHelp = newNode.getChildByName(\"public-bangzhu\");\r\n        this._btnBack = newNode.getChildByName(\"btnBack\");\r\n        this.addBtnHandler(this._btnMianban);\r\n        this.addBtnHandler(this._btnBack);\r\n        this.addBtnHandler(this._btnHelp);\r\n        for (var i = 0; i < this._setting.children.length; i++) {\r\n            if (i != 1) {\r\n                this._setting.children[i].active = false;\r\n            }\r\n        }\r\n    },\r\n\r\n    initEventHandlers:function(){\r\n        cc.vv.sspNetMgr.dataEventHandler = this.node;\r\n        \r\n        //初始化事件监听器\r\n        var self = this;\r\n\r\n        this.node.on('expression_push', function (data) {   //发表情\r\n            self.expression(data);\r\n        });\r\n        this.node.on('game_holds',function(data){\r\n            self.gameSeatsCom.onGameHolds(self._mySSPArr,self.Animation);\r\n        });\r\n        this.node.on('ssp_count',function(data){\r\n            self._sspcount.string = cc.vv.sspNetMgr.numOfSSP;\r\n        });\r\n        this.node.on('game_num',function(data){\r\n            self._gamecount.string = \"\" + cc.vv.sspNetMgr.numOfGames + \"/\" + cc.vv.sspNetMgr.maxNumOfGames;\r\n        });\r\n        this.node.on('game_begin',function(data){\r\n            self.gameSeatsCom.onGameBeign(self._mySSPArr);\r\n        });\r\n        this.node.on('apply_join_notify',function(data){\r\n            self.applyJoin(data.detail);\r\n        });\r\n        this.node.on('game_action',function(data){\r\n            var data = data.detail;\r\n            console.log('game_action');\r\n            self.paiData = data.pai;\r\n            self.gameSeatsCom.showAction(data);\r\n        });\r\n        this.node.on('tishi_notify',function(){\r\n            console.log('tishi_notify');\r\n            self.tishi();\r\n        });\r\n        this.node.on('chupai_tishi_notify',function(){\r\n            console.log('chupai_tishi_notify');\r\n            self.chupaiTishi();//出牌提示\r\n        });\r\n        this.node.on('game_mopai',function(data){\r\n            self.gameSeatsCom.hideChupai();\r\n            var data = data.detail;\r\n            self.gameSeatsCom.showMopai(data);\r\n            \r\n        });\r\n        this.node.on('game_chupai_notify',function(data){\r\n            self.hidden_tishi();\r\n            var seatData = data.detail.seatData;\r\n            var seatIndex = data.detail.seatIndex;\r\n            var pai = data.detail.pai;\r\n\r\n            var sex = \"nan\";\r\n            if(cc.vv.userMgr.sex == 1){ //男\r\n                sex = \"nan\";\r\n            }\r\n            else if(cc.vv.userMgr.sex == 2){ //女\r\n                sex = \"nv\";\r\n            }\r\n            var voiceConversion = \"PTH\";\r\n            if(cc.vv.sspNetMgr.voiceConversion == 0){ //福州话\r\n                voiceConversion = \"FZH\";\r\n            }\r\n            else if(cc.vv.sspNetMgr.voiceConversion == 1){ //普通话\r\n                voiceConversion = \"PTH\";\r\n            }\r\n            var voice = pai.value;\r\n\r\n            if(pai.type === 0 || pai.type === 3){//红色黄色为帅 兵\r\n                if(pai.value === 1){\r\n                    voice = \"1shuai\"\r\n                }\r\n                else if(pai.value === 7){\r\n                    voice = \"7bin\"\r\n                }\r\n            }\r\n            if(pai.type === 1 || pai.type === 2){//绿色白色为将 卒\r\n                if(pai.value === 1){\r\n                    voice = \"1jiang\"\r\n                }\r\n                else if(pai.value === 7){\r\n                    voice = \"7zu\"\r\n                }\r\n            }\r\n            cc.vv.audioMgr.playSFX(\"sspMusic/\"+voiceConversion+\"/\"+sex+\"/\"+voice+\".mp3\");\r\n\r\n            //如果是自己，则刷新手牌\r\n            if(seatData.seatindex == cc.vv.sspNetMgr.seatIndex){\r\n                self.gameSeatsCom.initSSP(self._mySSPArr);              \r\n            }\r\n            else{\r\n                seatData.chupaiNum++;\r\n                self.gameSeatsCom.initOtherSSP(seatData);\r\n            }\r\n            \r\n            self.gameSeatsCom.showChupai();\r\n        });\r\n        this.node.on('guo_notify',function(data){\r\n            self.gameSeatsCom.hideOptions();\r\n            var data = data.detail;\r\n            self.mopai(data);\r\n            cc.vv.audioMgr.playSFX(\"give.mp3\");\r\n        });\r\n        this.node.on('hideGuo_notify',function(data){\r\n            self.gameSeatsCom.hideOptions();;\r\n        });\r\n        this.node.on('peng_notify',function(data){    \r\n            self.gameSeatsCom.hideChupai();\r\n            \r\n            var seatData = data.detail;\r\n            if(seatData.seatindex == cc.vv.sspNetMgr.seatIndex){\r\n                self.gameSeatsCom.initSSP(self._mySSPArr);               \r\n            }\r\n            else{\r\n                self.gameSeatsCom.initOtherSSP(seatData);\r\n            }\r\n            var localIndex = cc.vv.sspNetMgr.getLocalIndexByIndex(seatData.seatindex);\r\n            var showIndex = cc.vv.sspNetMgr.getShowIndexByIndex(localIndex);\r\n            self.playAnimation(\"peng\",showIndex,\"peng\");\r\n            cc.vv.audioMgr.playSFX(\"nv/peng.mp3\");\r\n            self.gameSeatsCom.hideOptions();\r\n        });\r\n        \r\n        this.node.on('liangPai_notify', function (data) {\r\n            self.showChi(false);\r\n            var data = data.detail;\r\n            if(data.type != \"dan\"){\r\n                self.gameSeatsCom.hideChupai();\r\n            }\r\n            else{\r\n                var mySch =function(){ \r\n                    self.gameSeatsCom.hideChupai();\r\n                }\r\n                self.scheduleOnce(mySch,1.0);\r\n            }\r\n            var seatData = data.seatData;\r\n            if (seatData.seatindex == cc.vv.sspNetMgr.seatIndex) {\r\n                self.gameSeatsCom.initSSP(self._mySSPArr); \r\n            }\r\n            else {\r\n                self.gameSeatsCom.initOtherSSP(seatData);\r\n            }\r\n            var localIndex = cc.vv.sspNetMgr.getLocalIndexByIndex(seatData.seatindex);\r\n            var showIndex = cc.vv.sspNetMgr.getShowIndexByIndex(localIndex);\r\n\r\n            var sex = \"nan\";\r\n            if(cc.vv.userMgr.sex == 1){ //男\r\n                sex = \"nan\";\r\n            }\r\n            else if(cc.vv.userMgr.sex == 2){ //女\r\n                sex = \"nv\";\r\n            }\r\n            var voiceConversion = \"PTH\";\r\n            if(cc.vv.sspNetMgr.voiceConversion == 0){ //福州话\r\n                voiceConversion = \"FZH\";\r\n            }\r\n            else if(cc.vv.sspNetMgr.voiceConversion == 1){ //普通话\r\n                voiceConversion = \"PTH\";\r\n            }\r\n\r\n            if(data.type === \"chi\"){\r\n                self.playAnimation(\"chi\",showIndex,\"chi\");\r\n                cc.vv.audioMgr.playSFX(\"sspMusic/\"+voiceConversion+\"/\"+sex+\"/chi.mp3\");\r\n            }\r\n            else if(data.type === \"peng\"){\r\n                self.playAnimation(\"peng\",showIndex,\"peng\");\r\n                cc.vv.audioMgr.playSFX(\"sspMusic/\"+voiceConversion+\"/\"+sex+\"/peng.mp3\");\r\n            }\r\n            else if(data.type === \"gang\"){\r\n                self.playAnimation(\"yinlong\",showIndex,\"jinlong\");\r\n                cc.vv.audioMgr.playSFX(\"sspMusic/\"+voiceConversion+\"/\"+sex+\"/gang.mp3\");\r\n            }\r\n            \r\n            self.gameSeatsCom.hideOptions();\r\n            self.hidden_tishi();\r\n        });\r\n        this.node.on('game_sync',function(data){\r\n            self.gameRoot.active = true;\r\n            self.prepareRoot.active = false;\r\n            self.hidden_tuoguan();\r\n            self.gameSeatsCom.onGameBeign(self._mySSPArr);\r\n        });\r\n        this.node.on('liangPaiJinlong_notify', function (data) {\r\n            var data = data.detail;\r\n            var seatData = data.seatData;\r\n            if (seatData.seatindex == cc.vv.sspNetMgr.seatIndex) {\r\n                self.gameSeatsCom.initSSP(self._mySSPArr); \r\n            }\r\n            else {\r\n                self.gameSeatsCom.initOtherSSP(seatData);\r\n            }\r\n            var localIndex = cc.vv.sspNetMgr.getLocalIndexByIndex(seatData.seatindex);\r\n            var showIndex = cc.vv.sspNetMgr.getShowIndexByIndex(localIndex);\r\n\r\n            self.playAnimation(\"jinlong\",showIndex,\"jinlong\");\r\n            cc.vv.audioMgr.playSFX(\"nv/gang.mp3\");\r\n            \r\n        });\r\n        this.node.on('chi_notify', function (data) {\r\n            var data = data.detail;\r\n            //判断手牌是否能左吃中吃右吃\r\n            self.gameSeatsCom.CheckCanChi(data);\r\n            self.chiData = data;\r\n            self.showChi(true);\r\n        });\r\n        this.node.on('game_tuoGuan_push', function (data) {\r\n            self._tuoguan.active = true;\r\n        });\r\n        this.node.on('3lianSheng', function (data) {\r\n            var data = data.detail;\r\n            var localIndex = cc.vv.sspNetMgr.getLocalIndexByIndex(data);\r\n            var showIndex = cc.vv.sspNetMgr.getShowIndexByIndex(localIndex);\r\n            var mySch =function(){ \r\n                self.playAnimation(\"sanliangsheng\",showIndex,\"liangsheng\");\r\n            }\r\n            self.scheduleOnce(mySch,1.0);\r\n        });\r\n        this.node.on('5lianSheng', function (data) {\r\n            var data = data.detail;\r\n            var localIndex = cc.vv.sspNetMgr.getLocalIndexByIndex(data);\r\n            var showIndex = cc.vv.sspNetMgr.getShowIndexByIndex(localIndex);\r\n            var mySch =function(){ \r\n                self.playAnimation(\"wuliangsheng\",showIndex,\"liangsheng\");\r\n            }\r\n            self.scheduleOnce(mySch,1.0);\r\n        });\r\n        this.node.on('8lianSheng', function (data) {\r\n            var data = data.detail;\r\n            var localIndex = cc.vv.sspNetMgr.getLocalIndexByIndex(data);\r\n            var showIndex = cc.vv.sspNetMgr.getShowIndexByIndex(localIndex);\r\n            var mySch =function(){ \r\n                self.playAnimation(\"baliangsheng\",showIndex,\"liangsheng\");\r\n            }\r\n            self.scheduleOnce(mySch,1.0);\r\n        });\r\n        this.node.on('hideChi', function (data) {\r\n            self.gameSeatsCom.hideChi();//隐藏吃按钮\r\n        });\r\n        this.node.on('gang_notify',function(data){\r\n            self.gameSeatsCom.hideChupai();\r\n            var data = data.detail;\r\n            var seatData = data.seatData;\r\n            var gangtype = data.gangtype;\r\n            if(seatData.seatindex == cc.vv.sspNetMgr.seatIndex){\r\n                self.gameSeatsCom.initSSP(self._mySSPArr);                 \r\n            }\r\n            else{\r\n                self.gameSeatsCom.initOtherSSP(seatData);\r\n            }\r\n        });\r\n\r\n        this.node.on('game_chupai',function(data){\r\n            data = data.detail;\r\n        });\r\n\r\n        this.node.on('fold_notify',function(data){\r\n            var mySch =function(){ \r\n                self.gameSeatsCom.hideChupai();\r\n            }\r\n            self.scheduleOnce(mySch,0.8);\r\n        });\r\n\r\n        this.node.on('limit_login',function(data){\r\n            cc.vv.sspNetMgr.roomId = null;\r\n            cc.vv.alert.show(\"返回大厅\",\"您的账号在异地登录！\",function(){\r\n                cc.vv.wc.show('正在返回游戏大厅');\r\n                cc.director.loadScene(\"hall\");\r\n            },false);\r\n        });\r\n\r\n        this.node.on('game_over',function(data){\r\n            var mySch =function(){ \r\n                self.gameRoot.active = false;\r\n                self.prepareRoot.active = true;\r\n                var notice = self.prepareRoot.getChildByName('notice');\r\n                var yaoqing = self.prepareRoot.getChildByName('yaoqing');\r\n                var btnReady = self.prepareRoot.getChildByName('btnReady');\r\n                notice.active = false;\r\n                yaoqing.active = false;\r\n                btnReady.active = true;\r\n             }\r\n            self.scheduleOnce(mySch,2);\r\n        });\r\n        this.node.on('hupai',function(data){\r\n            var data = data.detail;\r\n            var seats = cc.vv.sspNetMgr.seats;\r\n            var huIndex = null;\r\n            var huType = null;\r\n            for(var i = 0; i < seats.length; ++i){\r\n                if (seats[i].userid === 0) {\r\n                    continue;\r\n                }\r\n                var userData = data[i];\r\n                if(userData && userData.type){\r\n                    huIndex = i;\r\n                    huType = userData.type;\r\n                }\r\n            }\r\n            if(!huIndex && huIndex !== 0){\r\n                huIndex = data.seatindex;\r\n            }\r\n            var localIndex = cc.vv.sspNetMgr.getLocalIndexByIndex(huIndex);\r\n            var showIndex = cc.vv.sspNetMgr.getShowIndexByIndex(localIndex);\r\n            var animation = self.node.getChildByName(\"Animation\");\r\n\r\n            var sex = \"nan\";\r\n            if(cc.vv.userMgr.sex == 1){ //男\r\n                sex = \"nan\";\r\n            }\r\n            else if(cc.vv.userMgr.sex == 2){ //女\r\n                sex = \"nv\";\r\n            }\r\n            var voiceConversion = \"PTH\";\r\n            if(cc.vv.sspNetMgr.voiceConversion == 0){ //福州话\r\n                voiceConversion = \"FZH\";\r\n            }\r\n            else if(cc.vv.sspNetMgr.voiceConversion == 1){ //普通话\r\n                voiceConversion = \"PTH\";\r\n            }\r\n\r\n            if(huType === 'daHu'){\r\n                self.playAnimation(\"dahu\",showIndex,\"dahu\");\r\n                cc.vv.audioMgr.playSFX(\"sspMusic/\"+voiceConversion+\"/\"+sex+\"/dahu.mp3\");\r\n            }\r\n            else if(huType === 'diHu'){\r\n                self.playAnimation(\"dihu\",showIndex,\"dihu\");\r\n                cc.vv.audioMgr.playSFX(\"sspMusic/\"+voiceConversion+\"/\"+sex+\"/dihu.mp3\");\r\n            }\r\n            else if(huType === 'tianHu'){\r\n                self.playAnimation(\"tianhu\",showIndex,\"tianhu\");\r\n                cc.vv.audioMgr.playSFX(\"sspMusic/\"+voiceConversion+\"/\"+sex+\"/tianhu.mp3\");\r\n            }\r\n            else if(huType === 'yifanHu'){\r\n                self.playAnimation(\"yifanhu\",showIndex,\"yifanhu\");\r\n                cc.vv.audioMgr.playSFX(\"sspMusic/\"+voiceConversion+\"/\"+sex+\"/yifanhu.mp3\");\r\n            }\r\n            else if(huType !== 'draw'){\r\n                cc.vv.audioMgr.playSFX(\"nv/hu.mp3\");\r\n                //self.playEFX(\"hu\",showIndex);\r\n                self.playAnimation(\"hu\",showIndex,\"hupai\");\r\n            }\r\n        });\r\n    },\r\n    tishi:function(){\r\n        this._tishi.active = true;\r\n        this._tishi.getComponent(cc.Sprite).spriteFrame = this.SSPgameAtlas.getSpriteFrame(\"tishi1\");//等待其他玩家出牌\r\n    },\r\n    hidden_tishi:function(){\r\n        this._tishi.active = false;\r\n    },\r\n    hidden_tuoguan:function(){\r\n        this._tuoguan.active = false;\r\n    },\r\n    chupaiTishi:function(){\r\n        this._tishi.active = true;\r\n        this._tishi.getComponent(cc.Sprite).spriteFrame = this.SSPgameAtlas.getSpriteFrame(\"tishi2\");//请出牌\r\n    },\r\n    playEFX:function(name,seatIndex){\r\n        this._playEFX.active = true;\r\n        var eff = this._playEFX.getChildByName(name);\r\n        if (seatIndex === 0) {\r\n            eff.setPosition(0,-200);\r\n        }\r\n        else if (seatIndex === 1) {\r\n            eff.setPosition(350,0);\r\n        }\r\n        else if (seatIndex === 2) {\r\n            eff.setPosition(0,200);\r\n        }\r\n        else if (seatIndex === 3) {\r\n            eff.setPosition(-350,0);\r\n        }\r\n        eff.active = true;\r\n        eff.getComponent(cc.Animation).play();        \r\n    },\r\n    playAnimation:function(name,seatIndex,playName){\r\n        var animation = this.node.getChildByName(\"Animation\");\r\n        var animate = animation.getChildByName(name);\r\n        if (seatIndex === 0) {\r\n            animation.setPosition(0,-200);\r\n        }\r\n        else if (seatIndex === 1) {\r\n            animation.setPosition(350,0);\r\n        }\r\n        else if (seatIndex === 2) {\r\n            animation.setPosition(0,200);\r\n        }\r\n        else if (seatIndex === 3) {\r\n            animation.setPosition(-350,0);\r\n        }\r\n        animate.active = true;\r\n        animate.getComponent(cc.Animation).play(playName);     \r\n    },\r\n    initDragStuffs: function (node) {\r\n        node.on(cc.Node.EventType.TOUCH_START, function (event) {\r\n            console.log(\"cc.Node.EventType.TOUCH_START\");\r\n            if (!cc.vv.sspNetMgr.canTouch) {\r\n                return;\r\n            };\r\n            if (cc.vv.sspNetMgr.turn != cc.vv.sspNetMgr.seatIndex) {\r\n                return;\r\n            }\r\n            node.interactable = node.getComponent(cc.Button).interactable;\r\n            if (!node.interactable) {\r\n                return;\r\n            }\r\n            node.opacity = 255;\r\n            this._chupaidrag.active = false;\r\n            this._chupaidrag.getComponent(cc.Sprite).spriteFrame = node.getComponent(cc.Sprite).spriteFrame;\r\n            this._chupaidrag.x = event.getLocationX() - cc.director.getVisibleSize().width / 2;\r\n            this._chupaidrag.y = event.getLocationY() - cc.director.getVisibleSize().height / 2;\r\n        }.bind(this));\r\n\r\n        node.on(cc.Node.EventType.TOUCH_MOVE, function (event) {\r\n            console.log(\"cc.Node.EventType.TOUCH_MOVE\");\r\n            if (cc.vv.sspNetMgr.turn != cc.vv.sspNetMgr.seatIndex) {\r\n                return;\r\n            }\r\n            if (!node.interactable) {\r\n                return;\r\n            }\r\n            if (Math.abs(event.getDeltaX()) + Math.abs(event.getDeltaY()) < 0.5) {\r\n                return;\r\n            }\r\n            this._chupaidrag.active = true;\r\n            node.opacity = 200;\r\n            this._chupaidrag.opacity = 255;\r\n            this._chupaidrag.scaleX = 1;\r\n            this._chupaidrag.scaleY = 1;\r\n            this._chupaidrag.x = event.getLocationX() - cc.director.getVisibleSize().width / 2;\r\n            this._chupaidrag.y = event.getLocationY() - cc.director.getVisibleSize().height / 2;\r\n            node.y = 0;\r\n        }.bind(this));\r\n\r\n        node.on(cc.Node.EventType.TOUCH_END, function (event) {\r\n            if (cc.vv.sspNetMgr.turn != cc.vv.sspNetMgr.seatIndex) {\r\n                return;\r\n            }\r\n            if (!node.interactable) {\r\n                return;\r\n            }\r\n            console.log(\"cc.Node.EventType.TOUCH_END\");\r\n            this._chupaidrag.active = false;\r\n            node.opacity = 255;\r\n            if (event.getLocationY() >= 200) {\r\n                this.shoot(node.sspId);\r\n            }\r\n        }.bind(this));\r\n\r\n        node.on(cc.Node.EventType.TOUCH_CANCEL, function (event) {\r\n            if (cc.vv.sspNetMgr.turn != cc.vv.sspNetMgr.seatIndex) {\r\n                return;\r\n            }\r\n            if (!node.interactable) {\r\n                return;\r\n            }\r\n            console.log(\"cc.Node.EventType.TOUCH_CANCEL\");\r\n            this._chupaidrag.active = false;\r\n            node.opacity = 255;\r\n            if (event.getLocationY() >= 200) {\r\n                this.shoot(node.sspId);\r\n            } else if (event.getLocationY() >= 150) {\r\n                \r\n            }\r\n        }.bind(this));\r\n    },\r\n    onSSPClicked:function(event){\r\n        if(cc.vv.sspNetMgr.isHuanSanZhang){\r\n            this.node.emit(\"mj_clicked\",event.target);\r\n            return;\r\n        }\r\n        \r\n        //如果不是自己的轮子，则忽略\r\n        if(cc.vv.sspNetMgr.turn != cc.vv.sspNetMgr.seatIndex){\r\n            console.log(\"not your turn.\" + cc.vv.sspNetMgr.turn);\r\n            return;\r\n        }\r\n        \r\n        for(var i = 0; i < this._mySSPArr.length; ++i){\r\n            if(event.target == this._mySSPArr[i].node){\r\n                //如果是再次点击，则出牌\r\n                if(event.target == this._selectedSSP){\r\n                    this.shoot(this._selectedSSP.sspId); \r\n                    this._selectedSSP.y = 0;\r\n                    this._selectedSSP = null;\r\n                    return;\r\n                }\r\n                if(this._selectedSSP != null){\r\n                    this._selectedSSP.y = 0;\r\n                }\r\n                event.target.y = 15;\r\n                this._selectedSSP = event.target;\r\n                return;\r\n            }\r\n        }\r\n    },\r\n    //出牌\r\n    shoot:function(pai){\r\n        if(pai == null){\r\n            return;\r\n        }\r\n        cc.vv.sspNet.send('chupai',pai);\r\n    },\r\n    onBtnSettingsClicked:function(){\r\n        cc.vv.popupMgr.showSettings();   \r\n    },\r\n\r\n    //添加按钮事件\r\n    addBtnHandler:function(btn){\r\n        this.addClickEvent(btn,this.node,\"sspgame\",\"onBtnClicked\");\r\n    },\r\n    addClickEvent:function(node,target,component,handler){\r\n        var eventHandler = new cc.Component.EventHandler();\r\n        eventHandler.target = target;\r\n        eventHandler.component = component;\r\n        eventHandler.handler = handler;\r\n\r\n        var clickEvents = node.getComponent(cc.Button).clickEvents;\r\n        clickEvents.push(eventHandler);\r\n    },\r\n    onBtnClicked:function(event){\r\n        var gameChild = this.node.getChildByName(\"game\");\r\n        if(event.target.name == \"btn_mianban\"){\r\n            for (var i = 0; i < this._setting.children.length; i++) {\r\n                if (i != 1) {\r\n                    this._setting.children[i].active = !this._setting.children[i].active;\r\n                }\r\n            }\r\n        }\r\n        else if (event.target.name == \"New_Node\") {\r\n            for (var i = 0; i < this._setting.children.length; i++) {\r\n                if (i != 1) {\r\n                    this._setting.children[i].active = false;\r\n                }\r\n            }\r\n        }\r\n        else if(event.target.name == \"btnDissolve\"){\r\n            var string = \"解散房间不扣房卡，是否确定解散？\";\r\n            if(cc.vv.userMgr.control.value != 1 && cc.sys.os == cc.sys.OS_IOS){ //苹果隐藏\r\n                string = \"是否确定解散？\";\r\n            }\r\n            cc.vv.alert.show(\"解散房间\",string,function(){\r\n                cc.vv.sspNet.send(\"dispress\");\r\n            },true);\r\n        }\r\n        else if (event.target.name == \"btnBack\" && !gameChild.active) {\r\n            cc.vv.alert.show(\"返回大厅\",\"返回大厅房间仍会保留，快去邀请大伙来玩吧！\",function(){\r\n                cc.vv.sspNet.send('backToHall');\r\n                cc.vv.wc.show('正在返回游戏大厅');\r\n                cc.director.loadScene(\"hall\"); \r\n            },true);\r\n        }\r\n        else if(event.target.name == \"btn_settings\"){\r\n            cc.vv.popupMgr.showSettings();\r\n        }\r\n        else if(event.target.name == \"public-bangzhu\") {\r\n            var wanfa = this.node.getChildByName(\"wanfa\");\r\n            wanfa.active = true;\r\n        }\r\n        else if(event.target.name == \"btnReady\"){\r\n            console.log(\"onBtnReady\");\r\n            cc.vv.sspNet.send('ready');\r\n        }\r\n        else if (event.target.name == \"quxiaotuoguan\") {//取消托管\r\n            this.hidden_tuoguan();\r\n            cc.vv.sspNet.send(\"closeTuoGuan\");\r\n        }\r\n    },\r\n    onBtnExpression:function(event){ //表情事件\r\n        var _userId = cc.vv.userinfoShow._userId;\r\n        var data= {};\r\n        data.receiveId = _userId;\r\n        if(event.target.name == \"zhadan\"){\r\n            data.type = 0;\r\n        }\r\n        else if(event.target.name == \"dangao\"){\r\n            data.type = 1;\r\n        }\r\n        else if(event.target.name == \"dianzan\"){\r\n            data.type = 2;\r\n        }\r\n        else if(event.target.name == \"feiwen\"){\r\n            data.type = 3;\r\n        }\r\n        else if(event.target.name == \"songhua\"){\r\n            data.type = 4;\r\n        }\r\n        else if(event.target.name == \"fanqie\"){\r\n            data.type = 5;\r\n        }\r\n        var userinfo = cc.find(\"Canvas/userinfo\");\r\n        userinfo.active = false;\r\n        cc.vv.sspNet.send(\"expression\",data);\r\n    },\r\n    expression:function(data){    //表情\r\n        var self = this;\r\n        var data = data.detail;\r\n\r\n        for(var i = 0; i < cc.vv.sspNetMgr.seats.length; ++i){\r\n            if(cc.vv.sspNetMgr.seats[i].userid === data.sendId){\r\n                var sendIdindex = cc.vv.sspNetMgr.getLocalIndexByIndex(i);  //发送人的位置\r\n                if(this.gameRoot.active === true){  //游戏已开始\r\n                    sendIdindex = cc.vv.sspNetMgr.getShowIndexByIndex(sendIdindex);\r\n                }\r\n            }\r\n            if(cc.vv.sspNetMgr.seats[i].userid === data.receiveId){\r\n                var receiveIdindex = cc.vv.sspNetMgr.getLocalIndexByIndex(i);  //发送人的位置\r\n                if(this.gameRoot.active === true){  //游戏已开始\r\n                    receiveIdindex = cc.vv.sspNetMgr.getShowIndexByIndex(receiveIdindex);\r\n                }\r\n            }\r\n        }\r\n        var type = data.type;\r\n\r\n        var LiWu = cc.find(\"Canvas/liwu\"+sendIdindex+\"/liwu\"+type);\r\n        var LiWu0 = cc.find(\"Canvas/liwu/liwu\");\r\n        LiWu.active = true;\r\n\r\n        var startPoint = this.setBiaoqingPosition(sendIdindex,type);//出发点\r\n        var endPoint = this.setBiaoqingPosition(receiveIdindex,type);//结束点\r\n        LiWu.setPosition(startPoint.Row,startPoint.Col);\r\n        var time = 0;\r\n        if (this.gameRoot.active === false) {  //游戏未开始\r\n            time = 0.5;\r\n        }\r\n        else if(this.gameRoot.active === true){  //游戏已开始\r\n            if(sendIdindex === 0 && receiveIdindex === 3){\r\n                time = 0.2;\r\n            }\r\n            else if(sendIdindex === 3 && receiveIdindex === 0){\r\n                time = 0.2;\r\n            }\r\n            else{\r\n                time = 0.5;\r\n            }\r\n        }\r\n        var actionBy = cc.moveTo(time, cc.p(endPoint.Row,endPoint.Col));\r\n        LiWu.runAction(actionBy);\r\n        \r\n        var mySch =function(){ \r\n            LiWu.active = false;\r\n            var animation = this.node.getChildByName(\"Animation\");\r\n            var sex = \"M\";\r\n            if(cc.vv.userMgr.sex == 1){ //男\r\n                sex = \"M\";\r\n            }\r\n            else if(cc.vv.userMgr.sex == 2){ //女\r\n                sex = \"F\";\r\n            }\r\n\r\n\r\n            if(type === 0){\r\n                var zhadan = animation.getChildByName('zhadan'+sendIdindex);\r\n                zhadan.active = true;\r\n                zhadan.setPosition(endPoint.Row,endPoint.Col);\r\n                zhadan.getComponent(cc.Animation).play('zhadan');\r\n                cc.vv.audioMgr.playSFX(\"liwu/\"+sex+\"_zhadan.mp3\");\r\n\r\n                var aud =function(){ \r\n                    cc.vv.audioMgr.playSFX(\"liwu/zhadan.mp3\");\r\n                }\r\n                self.scheduleOnce(aud,1.0);\r\n            }\r\n            else if(type === 1){\r\n                var dangao = animation.getChildByName('dangao'+sendIdindex);\r\n                dangao.active = true;\r\n                dangao.setPosition(endPoint.Row,endPoint.Col);\r\n                dangao.getComponent(cc.Animation).play('dangao');\r\n                cc.vv.audioMgr.playSFX(\"liwu/\"+sex+\"_xianhua.mp3\");\r\n\r\n                var aud =function(){ \r\n                    cc.vv.audioMgr.playSFX(\"liwu/kiss_dangao.mp3\");\r\n                }\r\n                self.scheduleOnce(aud,1.0);\r\n            }\r\n            else if(type === 2){\r\n                var dianzan = animation.getChildByName('dianzan'+sendIdindex);\r\n                dianzan.active = true;\r\n                dianzan.setPosition(endPoint.Row,endPoint.Col);\r\n                dianzan.getComponent(cc.Animation).play('dianzan');\r\n                cc.vv.audioMgr.playSFX(\"liwu/\"+sex+\"_dianzan.mp3\");\r\n\r\n                var aud =function(){ \r\n                    cc.vv.audioMgr.playSFX(\"liwu/hua_dianzan.mp3\");\r\n                }\r\n                self.scheduleOnce(aud,1.0);\r\n            }\r\n            else if(type === 3){\r\n                var feiwen = animation.getChildByName('feiwen'+sendIdindex);\r\n                feiwen.active = true;\r\n                feiwen.setPosition(endPoint.Row,endPoint.Col);\r\n                feiwen.getComponent(cc.Animation).play('feiwen');\r\n                cc.vv.audioMgr.playSFX(\"liwu/\"+sex+\"_kiss.mp3\");\r\n\r\n                var aud =function(){ \r\n                    cc.vv.audioMgr.playSFX(\"liwu/kiss_dangao.mp3\");\r\n                }\r\n                self.scheduleOnce(aud,1.0);\r\n            }\r\n            else if(type === 4){\r\n                var songhua = animation.getChildByName('songhua'+sendIdindex);\r\n                songhua.active = true;\r\n                songhua.setPosition(endPoint.Row,endPoint.Col);\r\n                songhua.getComponent(cc.Animation).play('songhua');\r\n                cc.vv.audioMgr.playSFX(\"liwu/\"+sex+\"_xianhua.mp3\");\r\n                var aud =function(){ \r\n                    cc.vv.audioMgr.playSFX(\"liwu/hua_dianzan.mp3\");\r\n                }\r\n                self.scheduleOnce(aud,1.0);\r\n            }\r\n            else if(type === 5){\r\n                var fanqie = animation.getChildByName('fanqie'+sendIdindex);\r\n                fanqie.active = true;\r\n                fanqie.setPosition(endPoint.Row,endPoint.Col);\r\n                fanqie.getComponent(cc.Animation).play('fanqie');\r\n                cc.vv.audioMgr.playSFX(\"liwu/\"+sex+\"_fanqie.mp3\");\r\n                var aud =function(){ \r\n                    cc.vv.audioMgr.playSFX(\"liwu/fanqie.mp3\");\r\n                }\r\n                self.scheduleOnce(aud,1.0);\r\n            }\r\n        }\r\n        this.scheduleOnce(mySch,time);\r\n    },\r\n\r\n    //改变表情位置\r\n    setBiaoqingPosition:function(index,type){\r\n        var data = {};\r\n        this.Animation.node.setPosition(0,0);\r\n        if (this.gameRoot.active === false) {  //游戏未开始\r\n            if(index === 0){\r\n                data.Row = -340;\r\n                data.Col = 28;\r\n            }\r\n            else if(index === 1){\r\n                data.Row = -92;\r\n                data.Col = 30;\r\n            }\r\n            else if(index === 2){\r\n                data.Row = 161;\r\n                data.Col = 24;\r\n            }\r\n            else if(index === 3){\r\n                data.Row = 390;\r\n                data.Col = 22;\r\n            }            \r\n        }\r\n        else if(this.gameRoot.active === true){  //游戏已开始\r\n            if(index === 0){                \r\n                data.Row = -552;\r\n                data.Col = -119;\r\n            }\r\n            else if(index === 1){\r\n                data.Row = 537;\r\n                data.Col = 50;\r\n            }\r\n            else if(index === 2){\r\n                data.Row = -322;\r\n                data.Col = 217;\r\n            }\r\n            else if(index === 3){\r\n                data.Row = -560;\r\n                data.Col = 30;\r\n            }\r\n        }\r\n         return data;\r\n    },\r\n\r\n    onOptionClicked:function(event){\r\n        var self = this;\r\n        console.log(event.target.pai);\r\n        var _userId = cc.vv.userinfoShow._userId;\r\n        var data= {};\r\n        data.receiveId = _userId;\r\n        if(event.target.name == \"btnPeng\"){\r\n            cc.vv.sspNet.send(\"peng\",self.paiData);\r\n        }\r\n        else if(event.target.name == \"btnGang\"){\r\n            cc.vv.sspNet.send(\"gang\",self.paiData);\r\n        }\r\n        else if(event.target.name == \"btnHu\"){\r\n            cc.vv.sspNet.send(\"hu\",self.paiData);\r\n        }\r\n        else if (event.target.name == \"btnChi\") {\r\n            cc.vv.sspNet.send(\"chi\",self.paiData);\r\n        }\r\n        else if(event.target.name == \"btnGuo\"){\r\n            cc.vv.sspNet.send(\"guo\",self.paiData);\r\n        }\r\n    },\r\n    mopai:function(data){\r\n        var Mopai =function(){ \r\n            var index = cc.vv.sspNetMgr.turn;\r\n            var seats = cc.vv.sspNetMgr.seats;\r\n            var tempIndex = cc.vv.sspNetMgr.getLocalIndexByIndex(index);\r\n            var arrowIndex = cc.vv.sspNetMgr.getShowIndexByIndex(tempIndex,false);\r\n            var mopai = this.Animation.mopai[arrowIndex];\r\n            mopai.active = true;\r\n            mopai.getComponent(cc.Animation).play('mopai');\r\n        }\r\n        this.scheduleOnce(Mopai,1.0);\r\n\r\n        var mySch =function(){ \r\n            if(cc.vv.userMgr.userId === data.userid){\r\n                cc.vv.sspNet.send(\"noticeMopai\");\r\n            }\r\n        }\r\n        this.scheduleOnce(mySch,2.0);\r\n    },\r\n\r\n    onBtnHideWebShare:function(){\r\n        cc.find(\"Canvas/WebShare\").active = false;\r\n    },\r\n    ClickBtnChiEvent: function (event) {\r\n        var Data = null;\r\n        if (event.target.name == \"New Layout\") {\r\n            //隐藏吃的界面\r\n            this.showChi(false);\r\n            return;\r\n        }\r\n        else if (event.target.name == \"leftBtn_dikuang\") {\r\n            if(this.chiData.arr[0].length === 2){\r\n                Data = this.chiData.arr[0];\r\n            }\r\n            else{\r\n                Data = this.chiData.arr[1];\r\n            }\r\n        }\r\n        else if (event.target.name == \"midBtn_dikuang\") {\r\n            if(this.chiData.arr[0].length === 3){\r\n                Data = this.chiData.arr[0];\r\n            }\r\n            else{\r\n                Data = this.chiData.arr[1];\r\n            }\r\n        }\r\n        else if (event.target.name == \"dikuang0\") {\r\n            Data = this.chiData.arr[0];\r\n        }\r\n        else if (event.target.name == \"dikuang1\") {\r\n            Data = this.chiData.arr[1];\r\n        }\r\n        else if (event.target.name == \"dikuang2\") {\r\n            Data = this.chiData.arr[2];\r\n        }\r\n        else if (event.target.name == \"dikuang3\") {\r\n            Data = this.chiData.arr[3];\r\n        }\r\n        else if (event.target.name == \"dikuang4\") {\r\n            Data = this.chiData.arr[4];\r\n        }\r\n\r\n        var data = {\r\n            pai: this.chiData.pai,\r\n            arr: Data\r\n        };\r\n        cc.vv.sspNet.send(\"confirmChi\", data);\r\n        console.log(\"ClickBtnChiEvent:\");\r\n        this.showChi(false);\r\n    },\r\n\r\n    //吃的节点是否显示\r\n    showChi: function (bShow) {\r\n        var gameChild = this.node.getChildByName(\"game\")\r\n        gameChild.getChildByName(\"ChiNode\").active = bShow\r\n    },\r\n\r\n    onBtnCloseWanfa:function(){\r\n        var wanfa = this.node.getChildByName(\"wanfa\");\r\n        wanfa.active = false;\r\n    },\r\n\r\n    onBtnUserinfo:function(){\r\n        var userinfo = this.node.getChildByName('userinfo');\r\n        userinfo.active = false;\r\n    },\r\n\r\n\r\n});\r\n"]}