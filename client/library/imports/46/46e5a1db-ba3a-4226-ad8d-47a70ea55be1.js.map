{"version":3,"sources":["..\\..\\..\\..\\..\\assets\\scripts\\sssgame/assets\\scripts\\sssgame\\myPai.js"],"names":["cc","Class","extends","Component","properties","baiBianPaiAtlas","default","type","SpriteAtlas","onLoad","initDt","arrPai","i","name","paiNode","node","getChildByName","push","setInfo","console","log","vv","sssNetMgr","seats","index","seatIndex","data","holds","length","len","sortPai","myPaiData","paiCom","getComponent","active","getMyPaiData","setMyPaiData","arrPaiData","sort","a","b","value"],"mappings":";;;;;;AAAAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAC,yBAAgB;AACZC,qBAAQ,IADI;AAEZC,kBAAKP,GAAGQ;AAFI;AAXR,KAHP;;AAoBL;AACAC,YAAQ,kBAAY,CACnB,CAtBI;AAuBLC,YAAO,kBAAU;AACb,aAAKC,MAAL,GAAc,EAAd;AACA,aAAI,IAAIC,IAAI,CAAZ,EAAeA,KAAK,EAApB,EAAwBA,GAAxB,EAA4B;AACxB,gBAAIC,OAAO,QAAQD,CAAnB;AACA,gBAAIE,UAAU,KAAKC,IAAL,CAAUC,cAAV,CAAyBH,IAAzB,CAAd;AACA,iBAAKF,MAAL,CAAYM,IAAZ,CAAiBH,OAAjB;AACH;AACJ,KA9BI;AA+BLI,aAAQ,mBAAU;AACdC,gBAAQC,GAAR,CAAY,eAAZ;AACA,YAAG,CAACpB,GAAGqB,EAAH,CAAMC,SAAN,CAAgBC,KAApB,EAA0B;AACtB;AACH;AACD,YAAIC,QAAQxB,GAAGqB,EAAH,CAAMC,SAAN,CAAgBG,SAA5B;AACA,YAAIC,OAAO1B,GAAGqB,EAAH,CAAMC,SAAN,CAAgBC,KAAhB,CAAsBC,KAAtB,EAA6BG,KAAxC;AACA,YAAGD,KAAKE,MAAL,GAAc,CAAjB,EAAmB;AACf,mBAAO,KAAP;AACH;AACD,YAAIC,MAAM,KAAKlB,MAAL,CAAYiB,MAAtB;;AAEAT,gBAAQC,GAAR,CAAY,eAAaM,KAAKE,MAA9B;AACA,aAAKE,OAAL,CAAaJ,IAAb;AACA,aAAKK,SAAL,GAAiB,EAAjB;AACA,aAAI,IAAInB,IAAI,CAAZ,EAAeA,IAAIiB,GAAnB,EAAwBjB,GAAxB,EAA4B;AACxB,gBAAIoB,SAAS,KAAKrB,MAAL,CAAYC,CAAZ,EAAeqB,YAAf,CAA4B,KAA5B,CAAb;AACAd,oBAAQC,GAAR,CAAY,SAAOR,CAAP,GAAW,IAAX,GAAkBc,KAAKd,CAAL,CAA9B;AACAoB,mBAAOd,OAAP,CAAeQ,KAAKd,CAAL,CAAf;AACA,iBAAKmB,SAAL,CAAed,IAAf,CAAoBS,KAAKd,CAAL,CAApB;AACA,iBAAKD,MAAL,CAAYC,CAAZ,EAAesB,MAAf,GAAwB,IAAxB;AACH;AACDf,gBAAQC,GAAR,CAAY,oBAAZ;AACA,eAAO,IAAP;AACH,KAvDI;;AAyDLe,kBAAa,wBAAU;AACnB,eAAO,KAAKJ,SAAZ;AACH,KA3DI;;AA6DLK,kBAAa,sBAASC,UAAT,EAAoB;AAC7B,aAAKN,SAAL,GAAiB,EAAjB;AACA,aAAI,IAAInB,IAAI,CAAZ,EAAeA,IAAIyB,WAAWT,MAA9B,EAAsChB,GAAtC,EAA0C;AACtC,iBAAKmB,SAAL,CAAed,IAAf,CAAoBoB,WAAWzB,CAAX,CAApB;AACH;AACJ,KAlEI;;AAoELkB,aAAQ,iBAASnB,MAAT,EAAgB;AACpB,YAAGA,MAAH,EAAU;AACNA,mBAAO2B,IAAP,CAAY,UAASC,CAAT,EAAWC,CAAX,EAAa;AACrB,uBAAOA,EAAEC,KAAF,GAAUF,EAAEE,KAAnB;AACH,aAFD;AAGH;AACJ;AACD;AACA;;AAEA;AA9EK,CAAT","file":"myPai.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\scripts\\sssgame","sourcesContent":["cc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        // foo: {\r\n        //    default: null,      // The default value will be used only when the component attaching\r\n        //                           to a node for the first time\r\n        //    url: cc.Texture2D,  // optional, default is typeof default\r\n        //    serializable: true, // optional, default is true\r\n        //    visible: true,      // optional, default is true\r\n        //    displayName: 'Foo', // optional\r\n        //    readonly: false,    // optional, default is false\r\n        // },\r\n        // ...\r\n        baiBianPaiAtlas:{\r\n            default:null,\r\n            type:cc.SpriteAtlas,\r\n        },\r\n    },\r\n\r\n    // use this for initialization\r\n    onLoad: function () {\r\n    },\r\n    initDt:function(){\r\n        this.arrPai = [];\r\n        for(var i = 1; i <= 13; i++){\r\n            var name = 'pai' + i;\r\n            var paiNode = this.node.getChildByName(name);\r\n            this.arrPai.push(paiNode);\r\n        };\r\n    },\r\n    setInfo:function(){\r\n        console.log('myPai.setInfo');\r\n        if(!cc.vv.sssNetMgr.seats){\r\n            return;\r\n        }\r\n        var index = cc.vv.sssNetMgr.seatIndex;\r\n        var data = cc.vv.sssNetMgr.seats[index].holds;\r\n        if(data.length < 1){\r\n            return false;\r\n        }\r\n        var len = this.arrPai.length;\r\n        \r\n        console.log('data.len: '+data.length);\r\n        this.sortPai(data);\r\n        this.myPaiData = [];\r\n        for(var i = 0; i < len; i++){\r\n            var paiCom = this.arrPai[i].getComponent('pai');\r\n            console.log('data'+i + ': ' + data[i]);\r\n            paiCom.setInfo(data[i]);\r\n            this.myPaiData.push(data[i]);\r\n            this.arrPai[i].active = true;\r\n        }\r\n        console.log('myPai.setInfo over');\r\n        return true;\r\n    },\r\n\r\n    getMyPaiData:function(){\r\n        return this.myPaiData;\r\n    },\r\n\r\n    setMyPaiData:function(arrPaiData){\r\n        this.myPaiData = [];\r\n        for(var i = 0; i < arrPaiData.length; i++){\r\n            this.myPaiData.push(arrPaiData[i]);\r\n        }\r\n    },\r\n\r\n    sortPai:function(arrPai){\r\n        if(arrPai){\r\n            arrPai.sort(function(a,b){\r\n                return b.value - a.value;\r\n            });\r\n        }\r\n    },\r\n    // called every frame, uncomment this function to activate update callback\r\n    // update: function (dt) {\r\n\r\n    // },\r\n});\r\n"]}