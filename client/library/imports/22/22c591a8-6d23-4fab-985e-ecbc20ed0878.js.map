{"version":3,"sources":["..\\..\\..\\..\\..\\assets\\scripts\\sssgame/assets\\scripts\\sssgame\\shezhipai.js"],"names":["cc","Class","extends","Component","properties","tdNode","type","Node","default","zdNode","wdNode","onLoad","emitter","vv","paiObjs","tdPai","zdPai","wdPai","i","name","paiNode","getChildByName","pai","push","Compare","require","reset","node","parent","active","length","com","getComponent","setNullInfo","hildBtn","onBtnOk","data","tdArr","zdArr","wdArr","paiCom","getIsSetInfo","paiDt","value","console","log","arrTDType","getType","arrZDType","arrWDType","tdMax","MaxNum","zdMax","result","compareSameType","sssNet","send","arrPai","max","onBtnAllCancel","onBtnCancelTD","onBtnCancelZD","onBtnCancelWD","audioMgr","playSFX","touchCom","cancelTD","cancelZD","cancelWD","onBtnQuickSwing","btnCancel","btnOk","arrPai1","arrPai2","analyseData1","analysePai","analyseData2","tpInfo1","tongPai","tpInfo2","sort","a","b","count","sanPai1","sanPai","sanPai2","resultValue","tpLen1","tpLen2","comparDX","spLen1","spLen2","len","index","tongPaiTmp","tLen","bTongPai","j","value1","value2"],"mappings":"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","file":"shezhipai.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\scripts\\sssgame","sourcesContent":["cc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        // foo: {\r\n        //    default: null,      // The default value will be used only when the component attaching\r\n        //                           to a node for the first time\r\n        //    url: cc.Texture2D,  // optional, default is typeof default\r\n        //    serializable: true, // optional, default is true\r\n        //    visible: true,      // optional, default is true\r\n        //    displayName: 'Foo', // optional\r\n        //    readonly: false,    // optional, default is false\r\n        // },\r\n        // ...\r\n        tdNode:{\r\n            type:cc.Node,\r\n            default:null\r\n        },\r\n        zdNode:{\r\n            type:cc.Node,\r\n            default:null\r\n        },\r\n        wdNode:{\r\n            type:cc.Node,\r\n            default:null\r\n        }\r\n    },\r\n\r\n    // use this for initialization\r\n    onLoad: function () {\r\n        this.emitter = cc.vv.emitter;\r\n        this.paiObjs = {}\r\n        this.tdPai = [];\r\n        this.zdPai = [];\r\n        this.wdPai = [];\r\n        for(var i = 1; i <= 3; i++){\r\n            var name = 'paiNode'+i;\r\n            var paiNode = this.tdNode.getChildByName(name);\r\n            var pai = paiNode.getChildByName('pai');\r\n            this.tdPai.push(pai);\r\n        }\r\n        for(var i = 1; i <= 5; i++){\r\n            var name = 'paiNode'+i;\r\n            var paiNode = this.zdNode.getChildByName(name);\r\n            var pai = paiNode.getChildByName('pai');\r\n            this.zdPai.push(pai);\r\n        }\r\n        for(var i = 1; i <= 5; i++){\r\n            var name = 'paiNode'+i;\r\n            var paiNode = this.wdNode.getChildByName(name);\r\n            var pai = paiNode.getChildByName('pai');\r\n            this.wdPai.push(pai);\r\n        }\r\n\r\n        this.Compare = require(\"Compare\");\r\n    },\r\n\r\n    reset:function(){\r\n        this.node.parent.active = false;\r\n        if(this.wdPai){\r\n            for(let i = 0;i<this.wdPai.length;i++){\r\n                var com = this.wdPai[i].getComponent('pai');\r\n                com.setNullInfo();\r\n            }\r\n        }\r\n        if(this.tdPai){\r\n            for(let i = 0;i<this.tdPai.length;i++){\r\n                var com = this.tdPai[i].getComponent('pai');\r\n                com.setNullInfo();\r\n            }\r\n        }\r\n        if(this.zdPai){\r\n            for(let i = 0;i<this.zdPai.length;i++){\r\n                var com = this.zdPai[i].getComponent('pai');\r\n                com.setNullInfo();\r\n            }\r\n        }\r\n        this.hildBtn();\r\n    },\r\n\r\n    onBtnOk:function(){\r\n        var data = [];\r\n        var tdArr = [];\r\n        var zdArr = [];\r\n        var wdArr = [];\r\n        for (var i = 0; i < this.tdPai.length; i++) {\r\n            var paiCom = this.tdPai[i].getComponent('pai');\r\n            if(paiCom.getIsSetInfo()){\r\n                var paiDt = {};\r\n                paiDt.type = paiCom.paiDt.type;\r\n                paiDt.value = paiCom.paiDt.value;\r\n                tdArr.push(paiDt);\r\n            }\r\n        }\r\n        for (var i = 0; i < this.zdPai.length; i++) {\r\n            var paiCom = this.zdPai[i].getComponent('pai');\r\n            if(paiCom.getIsSetInfo()){\r\n                var paiDt = {};\r\n                paiDt.type = paiCom.paiDt.type;\r\n                paiDt.value = paiCom.paiDt.value;\r\n                zdArr.push(paiDt);\r\n            }\r\n            \r\n        }\r\n        for (var i = 0; i < this.wdPai.length; i++) {\r\n            var paiCom = this.wdPai[i].getComponent('pai');\r\n            if(paiCom.getIsSetInfo()){\r\n                var paiDt = {};\r\n                paiDt.type = paiCom.paiDt.type;\r\n                paiDt.value = paiCom.paiDt.value;\r\n                wdArr.push(paiDt);\r\n            }\r\n            \r\n        }\r\n        if(wdArr.length < 5 || zdArr.length < 5 || tdArr.length < 3){\r\n            //不可以出牌\r\n            console.log(\"手牌需要满足13张\");\r\n            return;\r\n        }\r\n        //获取牌型\r\n        var arrTDType = this.Compare.getType(tdArr);\r\n        var arrZDType = this.Compare.getType(zdArr);\r\n        var arrWDType = this.Compare.getType(wdArr);\r\n\r\n        if(arrTDType[0] > arrZDType[0] || arrZDType[0] > arrWDType[0]){\r\n            //不可以出牌\r\n            console.log(\"必须要头道xiao于中道xiao于尾道\");\r\n            return;\r\n        }\r\n\r\n        //倒水\r\n        if(arrTDType[0] == arrZDType[0]){\r\n            if(arrTDType[0] == 1){ //乌龙单独处理\r\n                var tdMax = this.MaxNum(tdArr);\r\n                var zdMax = this.MaxNum(zdArr);\r\n                if(tdMax.value > zdMax.value){\r\n                    return;\r\n                }\r\n            }\r\n            var result = this.Compare.compareSameType(tdArr, zdArr,arrTDType[0]);\r\n            if(result > 0){\r\n                return;\r\n            }\r\n        }\r\n        if(arrZDType[0] == arrWDType[0]){\r\n            var result = this.Compare.compareSameType(zdArr, wdArr,arrZDType[0]);\r\n            if(result > 0){\r\n                return;\r\n            }\r\n        }\r\n\r\n        data.push(tdArr);\r\n        data.push(zdArr);\r\n        data.push(wdArr);\r\n        cc.vv.sssNet.send('compare',data);\r\n \r\n        \r\n        this.reset();\r\n        \r\n    },\r\n\r\n    MaxNum:function(arrPai){\r\n        var max = arrPai[0];\r\n        for(var i = 1;i < arrPai.length;i++){\r\n            if(arrPai[i]>max){\r\n                max = arrPai[i];\r\n            }\r\n        }\r\n        return max;\r\n    },\r\n\r\n    onBtnAllCancel:function(){\r\n        this.onBtnCancelTD();\r\n        this.onBtnCancelZD();\r\n        this.onBtnCancelWD();\r\n    },\r\n\r\n    onBtnCancelTD:function(){\r\n        cc.vv.audioMgr.playSFX(\"sssMusic/fangpai.mp3\");\r\n        var touchCom = this.node.parent.getComponent(\"touch\");\r\n        touchCom.cancelTD();\r\n        this.hildBtn();\r\n    },\r\n\r\n    onBtnCancelZD:function(){\r\n        cc.vv.audioMgr.playSFX(\"sssMusic/fangpai.mp3\");\r\n        var touchCom = this.node.parent.getComponent(\"touch\");\r\n        touchCom.cancelZD();\r\n        this.hildBtn();\r\n    },\r\n\r\n    onBtnCancelWD:function(){\r\n        cc.vv.audioMgr.playSFX(\"sssMusic/fangpai.mp3\");\r\n        var touchCom = this.node.parent.getComponent(\"touch\");\r\n        touchCom.cancelWD();\r\n        this.hildBtn();\r\n    },\r\n\r\n    //快速摆牌\r\n    onBtnQuickSwing:function(){\r\n        cc.vv.sssNet.send('quick_swing_request');\r\n    },\r\n\r\n    hildBtn:function(){\r\n        var btnCancel = this.node.getChildByName(\"btn_Cancel\");\r\n        var btnOk = this.node.getChildByName(\"btn_Ok\");\r\n        btnCancel.active = false;\r\n        btnOk.active = false;\r\n    },\r\n\r\n    //同类型比较大小\r\n    compareSameType:function(arrPai1, arrPai2,type){\r\n        if(type === 6){\t//同花单独处理\r\n            for(let i = 0;i<arrPai1.length;i++){\r\n                if(arrPai1[i].value > arrPai2[i].value){\r\n                    return 1;\r\n                }\r\n                else if(arrPai1[i].value < arrPai2[i].value){\r\n                    return -1;\r\n                }\r\n            }\r\n            return 0;\r\n        }\r\n        var analyseData1 = this.analysePai(arrPai1);\r\n        var analyseData2 = this.analysePai(arrPai2);\r\n        var tpInfo1 = analyseData1.tongPai;\r\n        var tpInfo2 = analyseData2.tongPai;\r\n        tpInfo1.sort(function(a, b){return (b.count - a.count)});\r\n        tpInfo2.sort(function(a, b){return (b.count - a.count)});\r\n        var sanPai1 = analyseData1.sanPai;\r\n        var sanPai2 = analyseData2.sanPai;\r\n        var resultValue = 0;\r\n        var tpLen1 = tpInfo1.length;\r\n        var tpLen2 = tpInfo2.length;\r\n        if(tpLen1 === tpLen2){\r\n            for (var i = 0; i < tpLen1; i++) {\r\n                resultValue = this.comparDX(tpInfo1[i].value, tpInfo2[i].value);\r\n                if (0 !== resultValue) {\r\n                    return resultValue;\r\n                }\r\n            }\r\n        }\r\n        \r\n        var spLen1 = sanPai1.length;\r\n        var spLen2 = sanPai2.length;\r\n        if(spLen1 === spLen2){\r\n            for (var i = 0; i < spLen1; i++) {\r\n                resultValue = this.comparDX(sanPai1[i].value, sanPai2[i].value);\r\n                if (0 !== resultValue) {\r\n                    return resultValue;\r\n                }\r\n            }\r\n        }\r\n        return 0;\r\n    },\r\n\r\n    analysePai:function(arrPai){\r\n        var len = arrPai.length;\r\n        var data = {};\r\n        data.sanPai = [];\r\n        data.tongPai = [];\r\n        //同牌信息统计\r\n        var index = 0;\r\n        var count = 1;\r\n        for(var i = 0; i < len; ++i){\r\n            if(i >= len - 1){\r\n                if(count > 1){\r\n                    var tongPaiTmp= {};\r\n                    tongPaiTmp.value = arrPai[index].value;\r\n                    tongPaiTmp.count = count;\r\n                    data.tongPai.push(tongPaiTmp);\r\n                }\r\n                break;\r\n            }\r\n            if(arrPai[index].value ===  arrPai[i+1].value){\r\n                ++count;\r\n            }\r\n            else{\r\n                if(count > 1){\r\n                    var tongPaiTmp= {};\r\n                    tongPaiTmp.value = arrPai[index].value;\r\n                    tongPaiTmp.count = count;\r\n                    data.tongPai.push(tongPaiTmp);\r\n                }\r\n                index = i+1;\r\n                count = 1;\r\n            }\r\n        }\r\n        //散牌\r\n        for(var i = 0; i < len; ++i){\r\n            var tLen = data.tongPai.length;\r\n            var bTongPai = false;\r\n            for(var j = 0; j < tLen; ++j){\r\n                if(arrPai[i].value === data.tongPai[j].value){\r\n                    bTongPai = true;\r\n                    break;\r\n                }\r\n            }\r\n            if(!bTongPai){\r\n                data.sanPai.push(arrPai[i]);\r\n            }\r\n        }\r\n        return data;\r\n    },\r\n\r\n    comparDX:function(value1, value2){\r\n        if(value1 > value2){\r\n            return 1;\r\n        }\r\n        else if(value1 === value2){\r\n            return 0;\r\n        }\r\n        else{\r\n            return -1;\r\n        }\r\n    },\r\n});\r\n"]}