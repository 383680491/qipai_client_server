{"version":3,"sources":["..\\..\\..\\..\\..\\assets\\scripts\\sssgame/assets\\scripts\\sssgame\\sssgame.js"],"names":["PaiType","require","cc","Class","extends","Component","properties","canvas","type","Node","default","prepare","shezhiPaiNode","NorSeatsNode","myPaiNode","paiAtlas","SpriteAtlas","BBpaiAtlas","paiTexiao","shuzi","setType","gameStartNode","AnimationNode","gameOverNode","sssGameResultNode","setZhuangNode","btnMgrNode","settingNode","_timeLabel","_voiceMsgQueue","_lastPlayingSeat","_playingSeat","_lastPlayTime","_gamecount","onLoad","window","sssGame","addComponent","initView","initCanvas","initSheZhiPai","initGameStart","initGameOver","initSeats","initMyPai","initHandler","initSetType","initBtnMgr","Compare","totalData","onRefreshSeat","vv","userMgr","control","value","sys","os","OS_IOS","find","active","getComponent","Label","string","sssNetMgr","maxNumOfGames","_min","_second","_isExit","isNative","isMobile","cvs","Canvas","fitHeight","fitWidth","director","loadScene","gameStartPaiCom","game","getChildByName","gameSeatsCom","Animation","gameOverCom","sssGameResult","shezhiPaiCom","seatsNode","seatsCom","myPaiCom","initDt","_btnMianban","newNode","btnBack","i","children","length","btnReady","bthYaoqing","btnDissolve","seatIndex","emitter","on","onGameHolds","bind","selfReady","otherReady","showMaPai","setResultData","resetGame","removeHandler","setGameNum","setOverData","setTotalResult","quickSwing","playerOutCardNotify","outMaxPai","setChat","setQuickChat","setEmoji","setVoice","setLastTime","offline","expression","setlixianTime","setdissolutionTime","limitLogin","off","resetGameSeats","reset","zjId","zjbiaoshi","data","setBtnReadyActive","selfSeats","getSelfData","userId","userid","isChuPai","setPlayerInfo","numOfGames","seat","isOffline","online","index","getLocalIndex","seatindex","seatComs","setOffline","unschedule","setkaishi","setAnimation","setHolds","self","wanfa","zjID","fapaiAnimate","console","log","setInfo","mapai","pai","Sprite","arrType","paiName","maPaiData","spriteFrame","getSpriteFrame","getType","audioMgr","playSFX","animation","kaishi","play","seq","sequence","delayTime","callFunc","runAction","start","scheduleOnce","resetReady","refreshSeats","onResetAllSeat","resetALLSeat","setPlayerReady","bActive","gameNormol","emptyChatBubble","hiddenPai","setZhuang","seatData","seats","nameNode","nameLabel","imgLoader","name","tag","setUserID","zhuang","overData","showOver","setAllScoreResult","showTotalResult","showResult","idx","getSeatIndexByID","sender","localIdx","chat","content","info","getQuickChatInfo","sound","emoji","push","playVoice","shift","localIndex","voiceMsg","msgInfo","JSON","parse","url","msg","voiceMgr","playFromUrl","Date","now","time","onNameBtnClick","event","target","sssNet","send","onBtnClick","alert","show","wc","popupMgr","showSettings","SSSwanfa","localStorage","setItem","roomId","browserType","anysdkMgr","getAccess_token","OS_ANDROID","agent","anysdk","agentManager","share_plugin","getSharePlugin","setListener","onShareResult","shareUrl","userinfo","_userId","userinfoShow","receiveId","code","ShareResultCode","kShareSuccess","kShareFail","kShareCancel","kShareNetworkError","onBtnHideWebShare","title","text","imagePath","to","map","mediaType","shareTo","thumbImage","jsb","fileUtils","getWritablePath","share","prepareCom","lastTime","setCountdown","_time","min","sec","t","Math","ceil","floor","update","dt","minutes","_lastMinute","date","h","getHours","m","getMinutes","onPlayerOver","resumeAll","onDestroy","stop"],"mappings":"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","file":"sssgame.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\scripts\\sssgame","sourcesContent":["var PaiType = require(\"define\").PaiType;\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        // foo: {\r\n        //    default: null,      // The default value will be used only when the component attaching\r\n        //                           to a node for the first time\r\n        //    url: cc.Texture2D,  // optional, default is typeof default\r\n        //    serializable: true, // optional, default is true\r\n        //    visible: true,      // optional, default is true\r\n        //    displayName: 'Foo', // optional\r\n        //    readonly: false,    // optional, default is false\r\n        // },\r\n        // ...\r\n        canvas:{\r\n            type:cc.Node,\r\n            default:null\r\n        },\r\n        prepare:{\r\n            type:cc.Node,\r\n            default:null\r\n        },\r\n        shezhiPaiNode:{\r\n            type:cc.Node,\r\n            default:null\r\n        },\r\n        NorSeatsNode:{\r\n            type:cc.Node,\r\n            default:null\r\n        },\r\n        myPaiNode:{\r\n            type:cc.Node,\r\n            default:null\r\n        },\r\n        paiAtlas:{\r\n            default:null,\r\n            type:cc.SpriteAtlas\r\n        },\r\n        BBpaiAtlas:{\r\n            default:null,\r\n            type:cc.SpriteAtlas\r\n        },\r\n        paiTexiao:{\r\n            default:null,\r\n            type:cc.SpriteAtlas\r\n        },\r\n        shuzi:{\r\n            default:null,\r\n            type:cc.SpriteAtlas\r\n        },\r\n        setType:{\r\n            default:null,\r\n            type:cc.Node\r\n        },\r\n        gameStartNode:{\r\n            default:null,\r\n            type:cc.Node\r\n        },\r\n        AnimationNode:{\r\n            default:null,\r\n            type:cc.Node\r\n        },\r\n        gameOverNode:{\r\n            default:null,\r\n            type:cc.Node\r\n        },\r\n        sssGameResultNode:{\r\n            default:null,\r\n            type:cc.Node\r\n        },\r\n        setZhuangNode:{\r\n            default:null,\r\n            type:cc.Node\r\n        },\r\n        btnMgrNode:{\r\n            default:null,\r\n            type:cc.Node\r\n        },\r\n        settingNode:{\r\n            default:null,\r\n            type:cc.Node\r\n        },\r\n        _timeLabel:null,\r\n        _voiceMsgQueue:[],\r\n        _lastPlayingSeat:null,\r\n        _playingSeat:null,\r\n        _lastPlayTime:null,\r\n        _gamecount:null,\r\n    },\r\n\r\n    // use this for initialization\r\n    onLoad: function () {\r\n        window.sssGame = this;\r\n        this.addComponent(\"UserInfoShow\");\r\n        this.initView();\r\n        this.initCanvas();\r\n        this.initSheZhiPai();\r\n        this.initGameStart();\r\n        this.initGameOver();\r\n        this.initSeats();\r\n        this.initMyPai();\r\n        this.initHandler();\r\n        this.initSetType();\r\n        this.initBtnMgr();\r\n\r\n        //解散房间脚本\r\n        this.addComponent(\"PopupMgr\");\r\n\r\n        //断线重连脚本\r\n        this.addComponent('ReConnect');\r\n\r\n        this.addComponent(\"Status\");\r\n\r\n        this.Compare = require(\"Compare\");\r\n\r\n        this.totalData = null;\r\n\r\n        this.onRefreshSeat();\r\n\r\n        if(cc.vv.userMgr.control.value != 1 && cc.sys.os == cc.sys.OS_IOS){ //苹果隐藏\r\n            cc.find(\"Canvas/btnMgr/bthYaoqing\").active = false;\r\n            cc.find(\"Canvas/game_result/btn_wxfx\").active = false;\r\n            cc.find(\"Canvas/userinfo/diamond\").active = false;\r\n            cc.find(\"Canvas/userinfo/money\").active = false;\r\n        }\r\n    },\r\n    initView:function(){\r\n        this._timeLabel = cc.find(\"Canvas/infobar/time\").getComponent(cc.Label);\r\n        this._gamecount = cc.find(\"Canvas/gameStart/gamecount\").getComponent(cc.Label);\r\n        this._gamecount.string = \"  \" + \"1\" + \"/\" + cc.vv.sssNetMgr.maxNumOfGames + \"局\";\r\n        this._min = cc.find(\"Canvas/notice/minute\").getComponent(cc.Label);\r\n        this._second = cc.find(\"Canvas/notice/second\").getComponent(cc.Label);\r\n        this._isExit = 0;\r\n    },\r\n    initCanvas:function(){\r\n        if(!cc.sys.isNative && cc.sys.isMobile){\r\n            this.cvs = this.canvas.getComponent(cc.Canvas);\r\n            this.cvs.fitHeight = true;\r\n            this.cvs.fitWidth = true;\r\n        }\r\n        if(!cc.vv){\r\n            cc.director.loadScene(\"loading\");\r\n            return;\r\n        }\r\n    },\r\n    initGameStart:function(){\r\n        this.gameStartNode.active = true;\r\n        this.gameStartPaiCom = this.gameStartNode.getComponent('gameStart');\r\n        this.gameStartPaiCom.game = this;\r\n        this.gameStartNode.getChildByName('gameSeats').active = true;\r\n        this.gameSeatsCom = this.gameStartNode.getChildByName('gameSeats').getComponent('gameSeats'); \r\n        this.Animation = this.AnimationNode.getComponent('Animation');\r\n    },\r\n    initGameOver:function(){\r\n        this.gameOverCom = this.gameOverNode.getComponent('game_over');\r\n        this.sssGameResult = this.sssGameResultNode.getComponent('sssGameResult');\r\n    },\r\n    initSheZhiPai:function(){\r\n        this.shezhiPaiCom = this.shezhiPaiNode.getComponent('shezhipai');\r\n        this.shezhiPaiCom.game = this;\r\n    },\r\n    initSeats:function(){\r\n        this.seatsNode = this.NorSeatsNode;\r\n        this.seatsNode.active = true;\r\n        this.seatsCom = this.seatsNode.getComponent('seats');\r\n        this.seatsCom.game = this;\r\n    },\r\n    initMyPai:function(){\r\n        this.myPaiCom = this.myPaiNode.getComponent('myPai');\r\n        this.myPaiCom.initDt();\r\n        this.myPaiCom.game = this;\r\n    },\r\n    initBtnMgr:function(){\r\n        this._btnMianban = this.settingNode.getChildByName(\"btn_mianban\");\r\n        var newNode = this.settingNode.getChildByName(\"New Node\");\r\n        this.btnBack = newNode.getChildByName(\"btnBack\");\r\n        for (var i = 0; i < this.settingNode.children.length; i++) {\r\n            if (i != 1) {\r\n                this.settingNode.children[i].active = false;\r\n            }\r\n        }\r\n        this.btnReady = this.btnMgrNode.getChildByName('btnReady');\r\n        this.bthYaoqing = this.btnMgrNode.getChildByName('bthYaoqing');\r\n        this.btnDissolve = this.btnMgrNode.getChildByName('btnDissolve');\r\n        if (cc.vv.sssNetMgr.seatIndex !== 0) {\r\n            this.btnDissolve.active = false;\r\n        }\r\n        if(cc.vv.userMgr.control.value == 0){\r\n            this.bthYaoqing.active = false;\r\n        }\r\n    },\r\n    initHandler:function(){\r\n        this.emitter = cc.vv.emitter;\r\n        this.emitter.on('game_holds', this.onGameHolds.bind(this));\r\n        this.emitter.on('refresh_seat', this.onRefreshSeat.bind(this));\r\n        this.emitter.on('self_ready', this.selfReady.bind(this));\r\n        this.emitter.on('other_ready', this.otherReady.bind(this));\r\n        this.emitter.on('game_mapai', this.showMaPai.bind(this));\r\n        this.emitter.on('compare_result', this.setResultData.bind(this));\r\n        this.emitter.on('game_begin', this.resetGame.bind(this));\r\n        this.emitter.on('remove_handler', this.removeHandler.bind(this));\r\n        this.emitter.on('game_num_notify', this.setGameNum.bind(this));\r\n\t    this.emitter.on('game_over_Notify', this.setOverData.bind(this));\r\n\t    this.emitter.on('game_result_Notify', this.setTotalResult.bind(this));\r\n        this.emitter.on('quick_swing_notify', this.quickSwing.bind(this));\r\n        this.emitter.on('player_outCard_notify', this.playerOutCardNotify.bind(this));\r\n\t    this.emitter.on('out_maxPai_Notify', this.outMaxPai.bind(this));\r\n        this.emitter.on('chat_push', this.setChat.bind(this));\r\n        this.emitter.on('quick_chat_push', this.setQuickChat.bind(this));\r\n        this.emitter.on('emoji_push', this.setEmoji.bind(this));\r\n        this.emitter.on('voice_msg', this.setVoice.bind(this));\r\n        this.emitter.on('set_lastTime', this.setLastTime.bind(this));\r\n        this.emitter.on('user_state_offline', this.offline.bind(this));\r\n        this.emitter.on('expression_notify', this.expression.bind(this));\r\n        this.emitter.on('set_lixianTime', this.setlixianTime.bind(this));\r\n        this.emitter.on('set_dissolutionTime', this.setdissolutionTime.bind(this));\r\n        this.emitter.on('limit_login', this.limitLogin.bind(this));\r\n    },\r\n    removeHandler:function(){\r\n        this.emitter.off('game_holds');\r\n        this.emitter.off('refresh_seat');\r\n        this.emitter.off('self_ready');\r\n        this.emitter.off('other_ready');\r\n        this.emitter.off('game_mapai');\r\n        this.emitter.off('compare_result');\r\n        this.emitter.off('game_begin');\r\n        this.emitter.off('remove_handler');\r\n        this.emitter.off('game_num_notify');\r\n        this.emitter.off('game_over_Notify');\r\n        this.emitter.off('quick_swing_notify');\r\n\t    this.emitter.off('game_result_Notify');\r\n        this.emitter.off('player_outCard_notify');\r\n\t    this.emitter.off('out_maxPai_Notify');\r\n        this.emitter.off('chat_push');\r\n        this.emitter.off('quick_chat_push');\r\n        this.emitter.off('emoji_push');\r\n        this.emitter.off('voice_msg');\r\n        this.emitter.off('set_lastTime');\r\n        this.emitter.off('user_state_offline');\r\n        this.emitter.off('expression_notify');\r\n        this.emitter.off('set_lixianTime');\r\n        this.emitter.off('set_dissolutionTime');\r\n        this.emitter.off('limit_login');\r\n    },\r\n    //将游戏刷新，游戏重新开始\r\n    resetGame:function(){\r\n        cc.find(\"Canvas/notice\").active = false;\r\n        this.onRefreshSeat();\r\n        this.gameStartPaiCom.resetGameSeats();\r\n        this.prepare.getComponent('touch').reset();\r\n        if(this.zjId){\r\n            this.zjbiaoshi(this.zjId);\r\n        }\r\n    },\r\n\r\n    playerOutCardNotify:function(data){\r\n        cc.find(\"Canvas/notice\").active = false;\r\n        cc.find(\"Canvas/btnMgr/btnDissolve\").active = false;\r\n        this.setBtnReadyActive(false);\r\n        var selfSeats = cc.vv.sssNetMgr.getSelfData();\r\n        for (var i = 0; i < data.length; i++) {\r\n            if(data[i].userId === selfSeats.userid && data[i].isChuPai == true){\r\n                this.seatsNode.active = true;\r\n            }\r\n        }\r\n        this.seatsCom.setPlayerInfo(data);\r\n    },\r\n\r\n    setGameNum:function(data){\r\n        this._gamecount.string = \"  \" + cc.vv.sssNetMgr.numOfGames + \"/\" + cc.vv.sssNetMgr.maxNumOfGames + \"局\";\r\n    },\r\n\r\n    offline:function(data){\r\n        var seat = data;\r\n        var isOffline = !seat.online;\r\n        var index = cc.vv.sssNetMgr.getLocalIndex(seat.seatindex);\r\n        this.seatsCom.seatComs[index].setOffline(isOffline);\r\n        this.gameSeatsCom.seatComs[index].setOffline(isOffline);\r\n    },\r\n\r\n    expression:function(data){       //表情\r\n        this.gameStartPaiCom.expression(data);\r\n    },\r\n\r\n    outMaxPai:function(){\r\n        this.seatsNode.active = true;        \r\n        this.shezhiPaiCom.reset();\r\n\r\n        this.unschedule(this.setkaishi);\r\n        this.unschedule(this.setAnimation);\r\n        this.unschedule(this.setHolds);\r\n    },\r\n\r\n    onGameHolds:function(){\r\n        cc.find(\"Canvas/notice\").active = false;\r\n        this.setBtnReadyActive(false);\r\n        this.btnDissolve.active = false;\r\n        this.onRefreshSeat();\r\n        var self = this;\r\n\r\n        if(cc.vv.sssNetMgr.wanfa === 1 && cc.vv.sssNetMgr.zjID){\r\n            this.zjbiaoshi(cc.vv.sssNetMgr.zjID);\r\n        }\r\n\r\n        this.setAnimation =function(){\r\n            //发牌动画\r\n            self.seatsCom.fapaiAnimate();\r\n        }\r\n        \r\n        this.setHolds =function(){\r\n            console.log('onGameHolds');\r\n            self.seatsCom.reset();\r\n            if(!self.myPaiCom.setInfo()){\r\n                return;\r\n            }\r\n            var mapai = cc.find(\"Canvas/prepare/shezhipai/mapai\");\r\n            mapai.active = false;\r\n            if(cc.vv.sssNetMgr.wanfa === 3){  //马牌\r\n                mapai.active = true;\r\n                var paiAtlas = window.sssGame.paiAtlas;\r\n                var pai = cc.find(\"Canvas/prepare/shezhipai/mapai/pai\").getComponent(cc.Sprite);\r\n                var arrType = [\"hua\",\"tao\",\"xin\",\"fangkuai\"];\r\n                var paiName = arrType[cc.vv.sssNetMgr.maPaiData.type] + cc.vv.sssNetMgr.maPaiData.value;\r\n                var spriteFrame = paiAtlas.getSpriteFrame(paiName);\r\n                pai.spriteFrame = spriteFrame;\r\n            }\r\n            self.prepare.active = true;\r\n            self.seatsNode.active = false;       \r\n            self.setType.getType();\r\n            cc.vv.audioMgr.playSFX(\"sssMusic/qingchupai.mp3\");\r\n        }\r\n\r\n        this.setkaishi =function(){\r\n            var animation = this.Animation.kaishi.getComponent(cc.Animation);\r\n            this.Animation.kaishi.getComponent(cc.Animation).play('kaishi');\r\n            if(cc.vv.sssNetMgr.wanfa === 2 || cc.vv.sssNetMgr.wanfa === 3){\r\n                var seq = cc.sequence(cc.delayTime(1.0),cc.callFunc(this.setAnimation),cc.delayTime(4.0),cc.callFunc(this.setHolds));\r\n            }\r\n            else{\r\n                var seq = cc.sequence(cc.delayTime(1.0),cc.callFunc(this.setAnimation),cc.delayTime(2.0),cc.callFunc(this.setHolds));\r\n            }\r\n            \r\n            this.Animation.kaishi.active = true;\r\n            this.Animation.kaishi.runAction(seq);\r\n            \r\n            this.seatsCom.start();\r\n        }\r\n        \r\n        this.scheduleOnce(this.setkaishi,1.0);\r\n        this.resetReady();\r\n    },\r\n\r\n    onRefreshSeat:function(){\r\n        this.seatsCom.refreshSeats();\r\n        this.gameSeatsCom.refreshSeats();\r\n    },\r\n\r\n    onResetAllSeat:function() {\r\n        this.seatsCom.resetALLSeat();\r\n        this.gameSeatsCom.resetALLSeat();\r\n    },\r\n    \r\n    initSetType:function(){\r\n        this.setType = this.setType.getComponent('setType');\r\n        this.setType.game = this;\r\n    },\r\n\r\n    selfReady:function(data){\r\n        console.log(\"selfReady\");\r\n        this.setBtnReadyActive(false);\r\n        var userId = data.userid;\r\n        this.seatsCom.setPlayerReady(userId);\r\n        this.gameSeatsCom.setPlayerReady(userId);    \r\n    },\r\n\r\n    otherReady:function(data){\r\n        console.log(\"selfReady\");\r\n        var userId = data.userid;\r\n        this.seatsCom.setPlayerReady(userId);\r\n        this.gameSeatsCom.setPlayerReady(userId);\r\n    },\r\n\r\n    resetReady:function() {\r\n        this.seatsCom.resetReady();\r\n        this.gameSeatsCom.resetReady();\r\n    },\r\n\r\n    setBtnReadyActive:function(bActive){\r\n        this.btnReady.active = bActive;\r\n        this.bthYaoqing.active = bActive;\r\n        this.btnDissolve.active = false;\r\n        if(cc.vv.userMgr.control.value == 0){\r\n            this.bthYaoqing.active = false;\r\n        }\r\n    },\r\n\r\n    showMaPai:function(){\r\n        console.log(\"setMaPai\");\r\n    },\r\n\r\n    setResultData:function(data){\r\n        cc.find(\"Canvas/notice\").active = false;\r\n        this.btnDissolve.active = false;\r\n        console.log('setResultData : '+ data);\r\n        if(this.seatsNode){\r\n            this.seatsNode.active = false;\r\n        }\r\n        if(this.gameStartNode){\r\n            this.gameStartNode.active = true;\r\n        }\r\n        this.setBtnReadyActive(false);\r\n\r\n        this.gameStartPaiCom.gameNormol(data);\r\n        this.seatsCom.emptyChatBubble();\r\n        this.gameOverCom.hiddenPai(true);//显示牌\r\n    },\r\n    \r\n    setZhuang:function(){\r\n        this.setZhuangNode.active = true;\r\n        var seatData = cc.vv.sssNetMgr.seats;\r\n        for (var i = 0; i < 4; i++) {\r\n            var nameNode = this.setZhuangNode.getChildByName(\"name\"+i);\r\n            var nameLabel = nameNode.getChildByName(\"Label\").getComponent(cc.Label);\r\n            seatData[i].imgLoader = nameNode.getComponent(\"ImageLoader\");\r\n            nameLabel.string = seatData[i].name;\r\n            nameNode.tag = seatData[i].userid;\r\n            if(seatData[i].imgLoader && seatData[i].userid){\r\n                seatData[i].imgLoader.setUserID(seatData[i].userid);\r\n            }\r\n        }\r\n    },\r\n    zjbiaoshi:function(data){ //庄家标识\r\n        this.zjId = data;\r\n        var self = this;\r\n        var seatData = cc.vv.sssNetMgr.seats;\r\n        for (var i = 0; i < seatData.length; i++) {\r\n            if(seatData[i].userid === data){\r\n                var index = cc.vv.sssNetMgr.getLocalIndex(seatData[i].seatindex);\r\n                self.seatsCom.seatComs[index].zhuang.active = true;\r\n                self.gameSeatsCom.seatComs[index].zhuang.active = true;\r\n            }\r\n        }\r\n    },\r\n\r\n    //单局结算\r\n    setOverData:function(data){\r\n        this.btnDissolve.active = false;\r\n        console.log('setOverData: '+ data);\r\n        this.overData = data;\r\n    },\r\n    \r\n    showOver:function(){\r\n        if(this.overData){\r\n            this.setBtnReadyActive(false);\r\n            this.gameOverNode.active = true;\r\n            this.gameOverCom.showOver(this.overData);\r\n            this.gameSeatsCom.setAllScoreResult(this.overData);\r\n            this.seatsCom.setAllScoreResult(this.overData);\r\n            this.btnReady.active = true;//显示准备按钮\r\n            this.seatsCom.reset();\r\n        }\r\n    },\r\n\r\n    //总局结算\r\n    setTotalResult:function(data){\r\n        this.btnDissolve.active = false;\r\n        console.log('setTotalResult: '+ data);\r\n        this.totalData = data;\r\n        if(cc.vv.sssNetMgr.numOfGames < cc.vv.sssNetMgr.maxNumOfGames){\r\n            this.showTotalResult();\r\n        }\r\n    },\r\n\r\n    showTotalResult:function(){\r\n        if(this.totalData){\r\n            this.gameOverNode.active = false;\r\n            this.sssGameResultNode.active = true;\r\n            this.sssGameResult.showResult(this.totalData);\r\n            return true;\r\n        }\r\n        else{\r\n            return false;\r\n        }\r\n    },\r\n\r\n    setChat:function(data){\r\n        var self = this;\r\n        var idx = cc.vv.sssNetMgr.getSeatIndexByID(data.sender);\r\n        var localIdx = cc.vv.sssNetMgr.getLocalIndex(idx);\r\n        self.seatsCom.seatComs[localIdx].chat(data.content);\r\n        self.gameSeatsCom.seatComs[localIdx].chat(data.content);\r\n    },\r\n\r\n    setQuickChat:function(data){\r\n        var self = this;\r\n        var idx = cc.vv.sssNetMgr.getSeatIndexByID(data.sender);\r\n        var localIdx = cc.vv.sssNetMgr.getLocalIndex(idx);\r\n            \r\n        var index = data.content;\r\n        var info = cc.vv.chat.getQuickChatInfo(index);\r\n        self.seatsCom.seatComs[localIdx].chat(info.content);\r\n        self.gameSeatsCom.seatComs[localIdx].chat(info.content);\r\n            \r\n        cc.vv.audioMgr.playSFX(info.sound);\r\n    },\r\n\r\n    setEmoji:function(data){\r\n        var self = this;\r\n        var idx = cc.vv.sssNetMgr.getSeatIndexByID(data.sender);\r\n        var localIdx = cc.vv.sssNetMgr.getLocalIndex(idx);\r\n        console.log(data);\r\n        self.seatsCom.seatComs[localIdx].emoji(data.content);\r\n        self.gameSeatsCom.seatComs[localIdx].emoji(data.content);\r\n    },\r\n\r\n    setVoice:function(data){\r\n        var self = this;\r\n        self._voiceMsgQueue.push(data);\r\n        self.playVoice();\r\n    },\r\n\r\n    playVoice:function(){\r\n        if(this._playingSeat == null && this._voiceMsgQueue.length){\r\n            console.log(\"playVoice2\");\r\n            var data = this._voiceMsgQueue.shift();\r\n            var idx = cc.vv.sssNetMgr.getSeatIndexByID(data.sender);\r\n            var localIndex = cc.vv.sssNetMgr.getLocalIndex(idx);\r\n            this._playingSeat = localIndex;\r\n            this.seatsCom.seatComs[localIndex].voiceMsg(true);\r\n            this.gameSeatsCom.seatComs[localIndex].voiceMsg(true);\r\n            \r\n            var msgInfo = JSON.parse(data.content);\r\n            var url = msgInfo.msg;\r\n            cc.vv.voiceMgr.playFromUrl(url);\r\n            this._lastPlayTime = Date.now() + msgInfo.time;\r\n        }\r\n    },\r\n\t\r\n    //快速摆牌\r\n    quickSwing:function(data){\r\n        this.prepare.getComponent('touch').quickSwing(data);\r\n        cc.vv.audioMgr.playSFX(\"sssMusic/fangpai.mp3\");\r\n    },\r\n    \r\n    onNameBtnClick:function(event){\r\n        console.log(\"onNameBtnClick event.target.tag:\"+event.target.tag);\r\n        var userId = event.target.tag;\r\n        cc.vv.sssNet.send(\"assign_zj\",userId);\r\n        this.setZhuangNode.active = false;\r\n    },\r\n\r\n    onBtnClick:function(event){\r\n        var self = this;\r\n        if(event.target.name == \"btn_mianban\"){\r\n            for (var i = 0; i < this.settingNode.children.length; i++) {\r\n                if (i != 1) {\r\n                    this.settingNode.children[i].active = !this.settingNode.children[i].active;\r\n                }\r\n            }\r\n        }\r\n        else if (event.target.name == \"btnBack\") {\r\n            cc.vv.alert.show(\"返回大厅\",\"返回大厅房间仍会保留，快去邀请大伙来玩吧！\",function(){\r\n                cc.vv.wc.show('正在返回游戏大厅');\r\n                cc.vv.sssNet.send('backToHall');\r\n                self.removeHandler();\r\n                cc.director.loadScene(\"hall\");    \r\n            },true);\r\n        }\r\n        else if(event.target.name == \"btnDissolve\"){\r\n            var string = \"解散房间不扣房卡，是否确定解散？\";\r\n            if(cc.vv.userMgr.control.value != 1 && cc.sys.os == cc.sys.OS_IOS){ //苹果隐藏\r\n                string = \"是否确定解散？\";\r\n            }\r\n            cc.vv.alert.show(\"解散房间\",string,function(){\r\n                cc.vv.sssNet.send(\"dispress\");\r\n            },true);\r\n        }\r\n        else if(event.target.name == \"btnReady\"){\r\n            console.log(\"onBtnReady\");\r\n            cc.vv.sssNet.send('ready');\r\n        }\r\n        else if(event.target.name == \"btnSetting\"){\r\n            cc.vv.popupMgr.showSettings();\r\n        }\r\n        else if(event.target.name == \"public-bangzhu\"){\r\n            var wanfa = cc.find(\"Canvas/wanfa\");\r\n            wanfa.active = true;\r\n        }\r\n        else if(event.target.name == \"btn_wanfa_close\"){\r\n            var wanfa = cc.find(\"Canvas/wanfa\");\r\n            wanfa.active = false;\r\n        }\r\n        else if(event.target.name == \"bthYaoqing\"){\r\n                //分享至微信\r\n            //微信分享监听\r\n            console.log('分享至微信: ');\r\n            var SSSwanfa = \"普通场\";\r\n            if(cc.vv.sssNetMgr.wanfa === 0){\r\n                SSSwanfa = \"普通场\";\r\n            }\r\n            else if(cc.vv.sssNetMgr.wanfa === 3){\r\n                SSSwanfa = \"马牌\";\r\n            }\r\n\r\n            //保存SSS房间信息\r\n            cc.sys.localStorage.setItem(\"SSS_wanfa\",cc.vv.sssNetMgr.wanfa);\r\n            cc.sys.localStorage.setItem(\"SSS_roomId\",cc.vv.sssNetMgr.roomId);\r\n            \r\n            //微信浏览器----公众号登录 \r\n            if(cc.sys.browserType == \"mqqbrowser\" || \"wechat\" == cc.sys.browserType){\r\n                console.log(\"H5分享好友\");\r\n                cc.find(\"Canvas/WebShare\").active = true;\r\n                cc.vv.anysdkMgr.getAccess_token(\"小伙子，我在十三水\"+\"(\"+SSSwanfa+\")\"+\"【\"+cc.vv.sssNetMgr.roomId+\"】开好了房间，快来大战三百回合\",cc.vv.sssNetMgr.roomId);\r\n            }\r\n            else if(cc.sys.os == cc.sys.OS_ANDROID || cc.sys.os == cc.sys.OS_IOS){\r\n                var agent = anysdk.agentManager;\r\n                this.share_plugin = agent.getSharePlugin();\r\n                this.share_plugin.setListener(this.onShareResult, this);\r\n                this.shareUrl(\"斗斗福建十三水\",\"小伙子，我在十三水\"+\"(\"+SSSwanfa+\")\"+\"【\"+cc.vv.sssNetMgr.roomId+\"】开好了房间，快来大战三百回合\",\r\n                \"http://game.doudouyule.wang/?roomId=\"+cc.vv.sssNetMgr.roomId,\r\n                \"http://game.doudouyule.wang/icon.png\",\"0\");//标题 内容 URL 图片路径 发送至\r\n            }\r\n            //其它浏览器----二维码扫码登录 \r\n            else{\r\n                console.log(\"H5分享好友\");\r\n                cc.find(\"Canvas/WebShare\").active = true;\r\n                cc.vv.anysdkMgr.getAccess_token(\"小伙子，我在十三水\"+\"(\"+SSSwanfa+\")\"+\"【\"+cc.vv.sssNetMgr.roomId+\"】开好了房间，快来大战三百回合\",cc.vv.sssNetMgr.roomId);\r\n            }\r\n        }\r\n        else if(event.target.name == \"New_Node\"){\r\n            for (var i = 0; i < this.settingNode.children.length; i++) {\r\n                if (i != 1) {\r\n                    this.settingNode.children[i].active = !this.settingNode.children[i].active;\r\n                }\r\n            }\r\n        }\r\n        else if(event.target.name == \"New Layout\"){\r\n            var userinfo = cc.find(\"Canvas/userinfo\");\r\n            userinfo.active = false;\r\n        }\r\n        else if(event.target.name == \"zhadan\"){\r\n            var userinfo = cc.find(\"Canvas/userinfo\");\r\n            var _userId = cc.vv.userinfoShow._userId;\r\n            userinfo.active = false;\r\n            var data= {};\r\n            data.type = 0;\r\n            data.receiveId = _userId;\r\n            cc.vv.sssNet.send(\"expression\",data);\r\n        }\r\n        else if(event.target.name == \"dangao\"){\r\n            var userinfo = cc.find(\"Canvas/userinfo\");\r\n            var _userId = cc.vv.userinfoShow._userId;\r\n            userinfo.active = false;\r\n            var data= {};\r\n            data.type = 1;\r\n            data.receiveId = _userId;\r\n            cc.vv.sssNet.send(\"expression\",data);\r\n        }\r\n        else if(event.target.name == \"dianzan\"){\r\n            var userinfo = cc.find(\"Canvas/userinfo\");\r\n            var _userId = cc.vv.userinfoShow._userId;\r\n            userinfo.active = false;\r\n            var data= {};\r\n            data.type = 2;\r\n            data.receiveId = _userId;\r\n            cc.vv.sssNet.send(\"expression\",data);\r\n        }\r\n        else if(event.target.name == \"feiwen\"){\r\n            var userinfo = cc.find(\"Canvas/userinfo\");\r\n            var _userId = cc.vv.userinfoShow._userId;\r\n            userinfo.active = false;\r\n            var data= {};\r\n            data.type = 3;\r\n            data.receiveId = _userId;\r\n            cc.vv.sssNet.send(\"expression\",data);\r\n        }\r\n        else if(event.target.name == \"songhua\"){\r\n            var userinfo = cc.find(\"Canvas/userinfo\");\r\n            var _userId = cc.vv.userinfoShow._userId;\r\n            userinfo.active = false;\r\n            var data= {};\r\n            data.type = 4;\r\n            data.receiveId = _userId;\r\n            cc.vv.sssNet.send(\"expression\",data);\r\n        }\r\n        else if(event.target.name == \"fanqie\"){\r\n            var userinfo = cc.find(\"Canvas/userinfo\");\r\n            var _userId = cc.vv.userinfoShow._userId;\r\n            userinfo.active = false;\r\n            var data= {};\r\n            data.type = 5;\r\n            data.receiveId = _userId;\r\n            cc.vv.sssNet.send(\"expression\",data);\r\n        }\r\n    },\r\n\r\n    //分享事件\r\n    onShareResult:function(code, msg){\r\n    cc.log(\"share result, resultcode:\"+code+\", msg: \"+msg);\r\n    switch ( code ) {\r\n        case anysdk.ShareResultCode.kShareSuccess:\r\n            //do something\r\n            console.log('分享成功');\r\n            break;\r\n        case anysdk.ShareResultCode.kShareFail:\r\n            //do something\r\n            console.log('分享失败');\r\n            break;\r\n        case anysdk.ShareResultCode.kShareCancel:\r\n            //do something\r\n            console.log('分享取消');\r\n            break;\r\n        case anysdk.ShareResultCode.kShareNetworkError:\r\n            //do something\r\n            console.log('分享错误');\r\n            break;\r\n        }\r\n    },\r\n    onBtnHideWebShare:function(){\r\n        cc.find(\"Canvas/WebShare\").active = false;\r\n    },\r\n    //分享URL\r\n    shareUrl:function(title,text,url,imagePath,to){\r\n        console.log('分享URL: ');\r\n        console.log('title: ' + title);\r\n        console.log('text: ' + text);\r\n        console.log('url: ' + url);\r\n        console.log('imagePath: ' + imagePath);\r\n        console.log('to: ' + to);\r\n        var map ={\r\n            title : title,//标题\r\n            text  : text,//文本\r\n            url   : url,//链接\r\n            mediaType : '2',//分享类型\r\n            shareTo : to,//分享至 0 聊天 1 朋友圈 2 收藏\r\n            imagePath : imagePath,//图片路径\r\n            thumbImage: jsb.fileUtils.getWritablePath() +'icon.png'//苹果用\r\n        }\r\n        this.share_plugin.share(map);\r\n    },\r\n\r\n    setLastTime:function(data){\r\n        var prepareCom = this.prepare.getComponent('touch');\r\n        var lastTime= data / 1000;\r\n        prepareCom.setCountdown(lastTime);\r\n    },\r\n\r\n    setdissolutionTime:function(data){\r\n        this._time= data / 1000;\r\n        if(this._time > 0){\r\n            var min = null;\r\n            var sec = null;\r\n            var t = Math.ceil(this._time);\r\n            min = Math.floor(t / 60);\r\n            sec = Math.floor(t % 60);\r\n            this._min.string = min;\r\n            this._second.string = sec;\r\n            \r\n        }\r\n        else if (this._time <=0) {\r\n            this._isExit++;\r\n            if (this._isExit === 1) {\r\n                cc.vv.sssNet.send(\"dispress\");\r\n            }\r\n        }\r\n    },\r\n\r\n    setlixianTime:function(data){  //改变离线时间\r\n        var userId = data.userId;//离线人的ID\r\n        var lastTime= 99;//离线人的剩余时间\r\n\r\n        var self = this;\r\n        var seatData = cc.vv.sssNetMgr.seats;\r\n        if(seatData){\r\n            for (var i = 0; i < seatData.length; i++) {\r\n                if(seatData[i].userid === 0){\r\n                    continue;\r\n                }\r\n                if(seatData[i].userid === userId){\r\n                    var index = cc.vv.sssNetMgr.getLocalIndex(seatData[i].seatindex);\r\n                    self.seatsCom.seatComs[index].setCountdown(lastTime);\r\n                    self.gameSeatsCom.seatComs[index].setCountdown(lastTime);\r\n                }\r\n            }\r\n        }\r\n    },\r\n\r\n    limitLogin:function(data){\r\n        var self = this;\r\n        cc.vv.sssNetMgr.roomId = null;\r\n        cc.vv.alert.show(\"返回大厅\",\"您的账号在异地登录！\",function(){\r\n            cc.vv.wc.show('正在返回游戏大厅');\r\n            self.removeHandler();\r\n            cc.director.loadScene(\"hall\"); \r\n        },false);\r\n    },\r\n    // called every frame, uncomment this function to activate update callback\r\n    // update: function (dt) {\r\n\r\n    // },\r\n    update: function (dt) {\r\n        var minutes = Math.floor(Date.now()/1000/60);\r\n        if(this._lastMinute != minutes){\r\n            this._lastMinute = minutes;\r\n            var date = new Date();\r\n            var h = date.getHours();\r\n            h = h < 10? \"0\"+h:h;\r\n            \r\n            var m = date.getMinutes();\r\n            m = m < 10? \"0\"+m:m;\r\n            this._timeLabel.string = \"\" + h + \":\" + m;             \r\n        }\r\n        \r\n        \r\n        if(this._lastPlayTime != null){\r\n            if(Date.now() > this._lastPlayTime + 200){\r\n                this.onPlayerOver();\r\n                this._lastPlayTime = null;    \r\n            }\r\n        }\r\n        else{\r\n            this.playVoice();\r\n        }\r\n\r\n        \r\n},\r\n    \r\n        \r\n    onPlayerOver:function(){\r\n        cc.vv.audioMgr.resumeAll();\r\n        console.log(\"onPlayCallback:\" + this._playingSeat);\r\n        var localIndex = this._playingSeat;\r\n        this._playingSeat = null;\r\n        this.seatsCom.seatComs[localIndex].voiceMsg(false);\r\n        this.gameSeatsCom.seatComs[localIndex].voiceMsg(false);\r\n    },\r\n    \r\n    onDestroy:function(){\r\n        cc.vv.voiceMgr.stop();\r\n//        cc.vv.voiceMgr.onPlayCallback = null;\r\n    }\r\n});\r\n\r\n\r\n"]}