{"version":3,"sources":["..\\..\\..\\..\\..\\assets\\scripts\\sssgame/assets\\scripts\\sssgame\\Compare.js"],"names":["PaiType","require","Compare","Index","b_obtainType","isSort","arrPai","len","length","bSort","i","value","sortPai","j","temp","getTypePai","Type","same","result","YD","getDuiZi","ED","getLiangDui","ST","getSanTiao","SZ","getShunZi","TH","getTongHua","HL","getHuLu","TZ","getTieZhi","THS","WT","getWuTong","bSame","arrResultPai","arrTemp","DZdeleteType","push","analyseData","analysePai","tongPai","arrTongPai","arrDuiZi","x","TypePai0","TypePai1","m","TypePai","remainingPai","b_same","STdeleteType","Total","arrSanTiao","TongHuaPai","k","bTongHua","arrTemp0","SZdeleteType","arrShunZi","shunziLen","Math","abs","type","Data","getSZ","THdeleteType","arrHeitao","arrHongtao","arrMeihua","arrFangkuai","y","head","getTH","arrHuLu","HLAdjust","a","P","data","HLdeleteType","TZdeleteType","arrTieZhi","WTdeleteType","arrWuTong","getType","sort","b","arrResultType","isSGCS","sanCount","siCount","count","isSTST","isSSZ","sanPai","paiValue","paiLen","tpLen","spLen","WL","index","console","log","tongPaiTmp","Atype","tLen","bTongPai","bExist","compareSameType","arrPai1","arrPai2","analyseData1","analyseData2","tpInfo1","tpInfo2","sanPai1","sanPai2","resultValue","tpLen1","tpLen2","comparDX","spLen1","spLen2","value1","value2","module","exports"],"mappings":"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","file":"Compare.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\scripts\\sssgame","sourcesContent":["var PaiType = require(\"define\").PaiType;\r\nvar Compare = {}\r\n\r\nCompare.Index = -1;\r\nCompare.b_obtainType = false;//是否获取其他类型\r\n\r\n\r\nvar isSort = function(arrPai){\r\n    var len = arrPai.length;\r\n    var bSort = true;\r\n    for (var i = 0; i < len - 1; i++) {\r\n        if(arrPai[i].value < arrPai[i+1].value){\r\n            return false;\r\n        }\r\n    }\r\n    return true;\r\n};\r\n//排序\r\nCompare.sortPai = function(arrPai){\r\n    var len = arrPai.length;\r\n    if (len <= 1) {\r\n        return;\r\n    }\r\n    for (var i = 0; i < len; i++) {\r\n        for (var j = i; j < len; j++) {\r\n            if(arrPai[i].value < arrPai[j].value){\r\n                var temp = arrPai[i];\r\n                arrPai[i] = arrPai[j];\r\n                arrPai[j] = temp;\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\n//取类型牌\r\nCompare.getTypePai= function(arrPai,Type,same){\r\n    var result = [];\r\n    switch(Type){\r\n        case PaiType.YD:\r\n            result = Compare.getDuiZi(arrPai,same);\r\n            return result;\r\n            break;\r\n        case PaiType.ED:\r\n            result = Compare.getLiangDui(arrPai,same);\r\n            return result;\r\n            break;\r\n        case PaiType.ST:\r\n            result = Compare.getSanTiao(arrPai,same);\r\n            return result;\r\n            break;\r\n        case PaiType.SZ:\r\n            result = Compare.getShunZi(arrPai,same,false);\r\n            return result;\r\n            break;\r\n        case PaiType.TH:\r\n            result = Compare.getTongHua(arrPai,same);\r\n            return result;\r\n            break;\r\n        case PaiType.HL:\r\n            result = Compare.getHuLu(arrPai,same);\r\n            return result;\r\n            break;\r\n        case PaiType.TZ:\r\n            result = Compare.getTieZhi(arrPai,same);\r\n            return result;\r\n            break;\r\n        case PaiType.THS:\r\n            result = Compare.getShunZi(arrPai,same,true);\r\n            return result;\r\n            break;\r\n        case PaiType.WT:\r\n            result = Compare.getWuTong(arrPai,same);\r\n            return result;\r\n            break;\r\n        default:\r\n            return result;\r\n    }\r\n};\r\n\r\n//对子\r\nCompare.getDuiZi = function(arrPai,bSame){\r\n    var arrResultPai = [];\r\n    if(Compare.b_obtainType){  //需要取其他类型\r\n        Compare.b_obtainType = false;\r\n        var arrTemp = [];\r\n        arrTemp = Compare.DZdeleteType(arrPai);\r\n        if(arrTemp){\r\n            arrResultPai.push(arrTemp);\r\n        }\r\n    }\r\n    var analyseData = analysePai(arrPai);\r\n    var tongPai = analyseData.arrTongPai;\r\n    var Index = 0;\r\n    for (var i = 0; i < tongPai.length; i++) {\r\n        var arrDuiZi = [];\r\n        arrDuiZi.push(tongPai[i][0]);\r\n        arrDuiZi.push(tongPai[i][1]);\r\n        arrResultPai.push(arrDuiZi);\r\n    }\r\n    if(bSame){\r\n        Compare.Index++;\r\n    }\r\n    else{\r\n        Compare.Index = 0;\r\n    }\r\n    Index = Compare.Index%tongPai.length;\r\n    return arrResultPai[Index];\r\n};\r\n//对子去掉一个最大的其他类型 再取\r\nCompare.DZdeleteType = function(arrPai){\r\n    for(var x = 10;x > 3;x--){\r\n        var TypePai0 = Compare.getTypePai(arrPai,x,false);\r\n        var TypePai1 = Compare.getTypePai(arrPai,x,true);\r\n        for(var m = 0; m < 2;m++){\r\n            if(m === 0){\r\n                var TypePai = TypePai0;\r\n            }\r\n            else if(m === 1){\r\n                var TypePai = TypePai1;\r\n            }\r\n            if(TypePai){\r\n                var remainingPai = [];//剩下的牌\r\n                for(var i = 0;i < arrPai.length;i++){\r\n                    var b_same = false;\r\n                    for(var j = 0;j < TypePai.length;j++){\r\n                        if(arrPai[i] === TypePai[j]){\r\n                            delete TypePai[j];\r\n                            b_same = true;\r\n                            break;\r\n                        }\r\n                    }\r\n                    if(!b_same){\r\n                        remainingPai.push(arrPai[i]);\r\n                    }\r\n                }\r\n\r\n                if(!remainingPai){\r\n                    return null;\r\n                }\r\n\r\n                var analyseData = analysePai(remainingPai);\r\n                var tongPai = analyseData.arrTongPai;\r\n                var Index = 0;\r\n                var arrResultPai = [];\r\n                if(tongPai.length > 0){\r\n                    var arrDuiZi = [];\r\n                    arrDuiZi.push(tongPai[0][0]);\r\n                    arrDuiZi.push(tongPai[0][1]);\r\n                    return arrDuiZi;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    return null;\r\n};\r\n//两对\r\nCompare.getLiangDui = function(arrPai,bSame){\r\n    var arrResultPai = [];\r\n    var analyseData = analysePai(arrPai);\r\n    var tongPai = analyseData.arrTongPai;\r\n    var Index = 0;\r\n    for (var i = 0; i < tongPai.length; i++) {\r\n        var arrDuiZi = [];\r\n        arrDuiZi.push(tongPai[i][0]);\r\n        arrDuiZi.push(tongPai[i][1]);\r\n        arrResultPai.push(arrDuiZi);\r\n    }\r\n    if(bSame){\r\n        Compare.Index++;\r\n    }\r\n    else{\r\n        Compare.Index = 0;\r\n    }\r\n    Index = Compare.Index%tongPai.length;\r\n    return arrResultPai[Index];\r\n};\r\n//三条\r\nCompare.getSanTiao = function(arrPai,bSame){\r\n    var arrResultPai = [];\r\n    if(Compare.b_obtainType){  //需要取其他类型\r\n        Compare.b_obtainType = false;\r\n        var arrTemp = [];\r\n        arrTemp = Compare.STdeleteType(arrPai);\r\n        if(arrTemp){\r\n            arrResultPai.push(arrTemp);\r\n            Total++;\r\n        }\r\n    }\r\n    var analyseData = analysePai(arrPai);\r\n    var tongPai = analyseData.arrTongPai;\r\n    var Index = 0;\r\n    var Total = 0;\r\n    for (var i = 0; i < tongPai.length; i++) {\r\n        var arrSanTiao = [];\r\n        if(tongPai[i].length === 3){\r\n            arrSanTiao.push(tongPai[i][0]);\r\n            arrSanTiao.push(tongPai[i][1]);\r\n            arrSanTiao.push(tongPai[i][2]);\r\n            arrResultPai.push(arrSanTiao);\r\n            Total++;\r\n        }\r\n        else if(tongPai[i].length > 3){ //同牌大于3张 \r\n            var TongHuaPai = Compare.getTongHua(arrPai,false);\r\n            arrSanTiao.push(tongPai[i][0]);\r\n            arrSanTiao.push(tongPai[i][1]);\r\n            arrSanTiao.push(tongPai[i][2]);\r\n            if(TongHuaPai){\r\n                for(let m = 0;m < TongHuaPai.length;m++){\r\n                    for(let k = 0;k < arrSanTiao.length;k++){\r\n                        if(TongHuaPai[m] === arrSanTiao[k]){\r\n                            arrSanTiao[k] = tongPai[i][3];\r\n                        }\r\n                    }  \r\n                }\r\n            }\r\n        }\r\n    }\r\n    if(bSame){\r\n        Compare.Index++;\r\n    }\r\n    else{\r\n        Compare.Index = 0;\r\n    }\r\n    Index = Compare.Index%Total;\r\n    return arrResultPai[Index];\r\n};\r\n//三条去掉一个最大的其他类型 再取\r\nCompare.STdeleteType = function(arrPai){\r\n    for(var x = 10;x > 4;x--){\r\n        var TypePai0 = Compare.getTypePai(arrPai,x,false);\r\n        var TypePai1 = Compare.getTypePai(arrPai,x,true);\r\n        for(var m = 0; m < 2;m++){\r\n            if(m === 0){\r\n                var TypePai = TypePai0;\r\n            }\r\n            else if(m === 1){\r\n                var TypePai = TypePai1;\r\n            }\r\n            if(TypePai){\r\n                var remainingPai = [];//剩下的牌\r\n                for(var i = 0;i < arrPai.length;i++){\r\n                    var b_same = false;\r\n                    for(var j = 0;j < TypePai.length;j++){\r\n                        if(arrPai[i] === TypePai[j]){\r\n                            delete TypePai[j];\r\n                            b_same = true;\r\n                            break;\r\n                        }\r\n                    }\r\n                    if(!b_same){\r\n                        remainingPai.push(arrPai[i]);\r\n                    }\r\n                }\r\n\r\n                if(!remainingPai){\r\n                    return null;\r\n                }\r\n\r\n                var analyseData = analysePai(remainingPai);\r\n                var tongPai = analyseData.arrTongPai;\r\n                var Index = 0;\r\n                var Total = 0;\r\n                for (var i = 0; i < tongPai.length; i++) {\r\n                    var arrSanTiao = [];\r\n                    if(tongPai[i].length === 3){\r\n                        arrSanTiao.push(tongPai[i][0]);\r\n                        arrSanTiao.push(tongPai[i][1]);\r\n                        arrSanTiao.push(tongPai[i][2]);\r\n                        return arrSanTiao;\r\n                    }\r\n                    else if(tongPai[i].length > 3){ //同牌大于3张 \r\n                        var TongHuaPai = Compare.getTongHua(arrPai,false);\r\n                        arrSanTiao.push(tongPai[i][0]);\r\n                        arrSanTiao.push(tongPai[i][1]);\r\n                        arrSanTiao.push(tongPai[i][2]);\r\n                        if(TongHuaPai){\r\n                            for(var m = 0;m < TongHuaPai.length;m++){\r\n                                for(var k = 0;k < arrSanTiao.length;k++){\r\n                                    if(TongHuaPai[m] === arrSanTiao[k]){\r\n                                        arrSanTiao[k] = tongPai[i][3];\r\n                                    }\r\n                                }  \r\n                            }\r\n                        }\r\n                        return arrSanTiao;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    return null;\r\n};\r\n\r\n//顺子\r\nCompare.getShunZi = function(arrPai,bSame,bTongHua){\r\n    var arrResultPai = [];\r\n    if(Compare.b_obtainType){  //需要取其他类型\r\n        Compare.b_obtainType = false;\r\n        var arrTemp0 = [];\r\n        arrTemp0 = Compare.SZdeleteType(arrPai,bTongHua);\r\n        if(arrTemp0){\r\n            arrResultPai.push(arrTemp0);\r\n            Total++;\r\n        }\r\n    }\r\n    var analyseData = analysePai(arrPai);\r\n    var Index = 0;\r\n    var Total = 0;\r\n\r\n    for(var i = 0;i<arrPai.length;i++){\r\n        var arrShunZi = [];\r\n        var shunziLen = 1;\r\n        arrShunZi.push(arrPai[i]);    //把第一张先存进去\r\n        for(var j = i;j < arrPai.length;j++){\r\n            if(Math.abs(arrPai[j].value - arrShunZi[arrShunZi.length-1].value) === 1){\r\n                if (bTongHua) {\r\n                    if (arrShunZi[0].type === arrPai[j].type) {\r\n                        arrShunZi.push(arrPai[j]);\r\n                    }\r\n                }\r\n                else{\r\n                    arrShunZi.push(arrPai[j]);\r\n                }\r\n                if(arrShunZi[0].value === 5 && arrShunZi.length === 4){   //12345顺子\r\n                    for(var k = 0;k < arrPai.length;k++){\r\n                        if(arrPai[k].value == 14){\r\n                            if(bTongHua){\r\n                                if(arrShunZi[0].type === arrPai[k].type){\r\n                                    arrShunZi.push(arrPai[k]);\r\n                                    break;\r\n                                }\r\n                            }\r\n                            else{\r\n                                arrShunZi.push(arrPai[k]);\r\n                                break;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                if(arrShunZi.length >= 5){\r\n                    if(!arrTemp0 && arrResultPai[0] && arrShunZi[0].value === 5 && arrShunZi[4].value === 14 && arrResultPai[0][0].value === 14){ //第零项为10 11 12 13 1 顺子  调整12345的位置\r\n                        var Data = arrResultPai[1];\r\n                        arrResultPai[1] = arrShunZi;\r\n                        arrResultPai.push(Data);\r\n                        Total++;\r\n                        break;\r\n                    }\r\n                    else if(!arrTemp0 && arrResultPai[0] && arrShunZi[0].value === 5 && arrShunZi[4].value === 14){\r\n                        var Data = arrResultPai[0];\r\n                        arrResultPai[0] = arrShunZi;\r\n                        arrResultPai.push(Data);\r\n                        Total++;\r\n                        break;\r\n                    }\r\n                    arrResultPai.push(arrShunZi);\r\n                    Total++;\r\n                    break;\r\n                }\r\n            }\r\n            if(arrPai[j].value - arrShunZi[arrShunZi.length-1].value > 1){\r\n                arrShunZi = [];\r\n                break;\r\n            }\r\n        }\r\n    }\r\n    if(bSame){\r\n        Compare.Index++;\r\n    }\r\n    else{\r\n        Compare.Index = 0;\r\n    }\r\n    Index = Compare.Index%Total;\r\n    return arrResultPai[Index];\r\n};\r\n//顺子去掉一个最大的其他类型 再取\r\nCompare.SZdeleteType = function(arrPai,bTongHua){\r\n    for(var x = 10;x > 3;x--){\r\n        if(bTongHua){\r\n            if(x === 9){\r\n                continue;\r\n            }\r\n        }\r\n        else if(!bTongHua){\r\n            if(x === 5){\r\n                continue;\r\n            }\r\n        }\r\n        var TypePai0 = Compare.getTypePai(arrPai,x,false);\r\n        var TypePai1 = Compare.getTypePai(arrPai,x,true);\r\n        for(var m = 0; m < 2;m++){\r\n            if(m === 0){\r\n                var TypePai = TypePai0;\r\n            }\r\n            else if(m === 1){\r\n                var TypePai = TypePai1;\r\n            }\r\n            if(TypePai){\r\n                var arrTemp = Compare.getSZ(arrPai,TypePai,bTongHua);\r\n                if(arrTemp){\r\n                    return arrTemp;\r\n                }\r\n            }\r\n        }\r\n    }   \r\n    return null;\r\n};\r\nCompare.getSZ = function(arrPai,TypePai,bTongHua){ //剩餘牌取順子\r\n    var remainingPai = [];//剩下的牌\r\n    for(let i = 0;i < arrPai.length;i++){\r\n        var b_same = false;\r\n        for(let j = 0;j < TypePai.length;j++){\r\n            if(arrPai[i] === TypePai[j]){\r\n                delete TypePai[j];\r\n                b_same = true;\r\n                break;\r\n            }\r\n        }\r\n        if(!b_same){\r\n            remainingPai.push(arrPai[i]);\r\n        }\r\n    }\r\n\r\n    if(!remainingPai){\r\n        return null;\r\n    }\r\n\r\n    var analyseData = analysePai(remainingPai);\r\n    var Index = 0;\r\n    var Total = 0;\r\n\r\n    for(let i = 0;i<remainingPai.length;i++){\r\n        var arrShunZi = [];\r\n        var shunziLen = 1;\r\n        arrShunZi.push(remainingPai[i]);    //把第一张先存进去\r\n        for(let j = i;j < remainingPai.length;j++){\r\n            if(Math.abs(remainingPai[j].value - arrShunZi[arrShunZi.length-1].value) === 1){\r\n                if (bTongHua) {\r\n                    if (arrShunZi[0].type === remainingPai[j].type) {\r\n                        arrShunZi.push(remainingPai[j]);\r\n                    }\r\n                }\r\n                else{\r\n                    arrShunZi.push(remainingPai[j]);\r\n                }\r\n                if(arrShunZi[0].value === 5 && arrShunZi.length === 4){   //12345顺子\r\n                    for(let k = 0;k < remainingPai.length;k++){\r\n                        if(remainingPai[k].value == 14){\r\n                            if(bTongHua){\r\n                                if(arrShunZi[0].type === remainingPai[k].type){\r\n                                    arrShunZi.push(remainingPai[k]);\r\n                                    break;\r\n                                }\r\n                            }\r\n                            else{\r\n                                arrShunZi.push(remainingPai[k]);\r\n                                break;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                if(arrShunZi.length >= 5){\r\n                    return arrShunZi;\r\n                    break;\r\n                }\r\n            }\r\n            if(remainingPai[j].value - arrShunZi[arrShunZi.length-1].value > 1){\r\n                arrShunZi = [];\r\n                break;\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\n//同花\r\nCompare.getTongHua = function(arrPai,bSame){\r\n    var arrResultPai = [];\r\n    if(Compare.b_obtainType){  //需要取其他类型\r\n        Compare.b_obtainType = false;\r\n        var arrTemp0 = [];\r\n        arrTemp0 = Compare.THdeleteType(arrPai);\r\n        if(arrTemp0){\r\n            arrResultPai.push(arrTemp0);\r\n            Total++;\r\n        }\r\n    }\r\n    var Index = 0;\r\n    var Total = 0;\r\n    var len = arrPai.length;\r\n    var arrHeitao = [];\r\n    var arrHongtao = [];\r\n    var arrMeihua = [];\r\n    var arrFangkuai = [];\r\n    for(let i = 0; i < len; i++){\r\n        if(arrPai[i].type === 1){\r\n            arrHeitao.push(arrPai[i]);\r\n        }\r\n        if(arrPai[i].type === 2){\r\n            arrHongtao.push(arrPai[i]);\r\n        }\r\n        if(arrPai[i].type === 0){\r\n            arrMeihua.push(arrPai[i]);\r\n        }\r\n        if(arrPai[i].type === 3){\r\n            arrFangkuai.push(arrPai[i]);\r\n        }\r\n    }\r\n\r\n    if(arrHeitao.length > 4){\r\n        for(let i = 0;i < arrHeitao.length - 4;i++){\r\n            var arrTemp = [];\r\n            for(let j = 0;j<5;j++){\r\n                arrTemp.push(arrHeitao[j + i]);\r\n            }\r\n            arrResultPai.push(arrTemp);\r\n            Total++;\r\n        }\r\n    }\r\n    if(arrHongtao.length > 4){\r\n        for(let i = 0;i < arrHongtao.length - 4;i++){\r\n            var arrTemp = [];\r\n            for(let j = 0;j<5;j++){\r\n                arrTemp.push(arrHongtao[j + i]);\r\n            }\r\n            arrResultPai.push(arrTemp);\r\n            Total++;\r\n        }\r\n    }\r\n    if(arrMeihua.length > 4){\r\n        for(let i = 0;i < arrMeihua.length - 4;i++){\r\n            var arrTemp = [];\r\n            for(let j = 0;j<5;j++){\r\n                arrTemp.push(arrMeihua[j + i]);\r\n            }\r\n            arrResultPai.push(arrTemp);\r\n            Total++;\r\n        }\r\n    }\r\n    if(arrFangkuai.length > 4){\r\n        for(let i = 0;i < arrFangkuai.length - 4;i++){\r\n            var arrTemp = [];\r\n            for(let j = 0;j<5;j++){\r\n                arrTemp.push(arrFangkuai[j + i]);\r\n            }\r\n            arrResultPai.push(arrTemp);\r\n            Total++;\r\n        }\r\n    }\r\n    if(bSame){\r\n        Compare.Index++;\r\n    }\r\n    else{\r\n        Compare.Index = 0;\r\n    }\r\n    Index = Compare.Index%Total;\r\n    if(!arrTemp0 && arrResultPai.length > 1){\r\n        for(let x = 1;x < arrResultPai.length;x++){  //同花最大牌一样\r\n            for(let y = 0;y < arrResultPai[0].length;y++){ \r\n                if(arrResultPai[0][y].value > arrResultPai[x][y].value){\r\n                    break;\r\n                }\r\n                else if(arrResultPai[0][y].value < arrResultPai[x][y].value){\r\n                    var head = arrResultPai[x];\r\n                    arrResultPai[x] = arrResultPai[0];\r\n                    arrResultPai[0] = head;\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return arrResultPai[Index];\r\n};\r\n\r\n//同花去掉一个最大的其他类型 再取\r\nCompare.THdeleteType = function(arrPai){\r\n    for(var x = 10;x > 3;x--){\r\n        if(x === 6){\r\n            continue;\r\n        }\r\n        var TypePai0 = Compare.getTypePai(arrPai,x,false);\r\n        var TypePai1 = Compare.getTypePai(arrPai,x,true);\r\n        for(var m = 0; m < 2;m++){\r\n            if(m === 0){\r\n                var TypePai = TypePai0;\r\n            }\r\n            else if(m === 1){\r\n                var TypePai = TypePai1;\r\n            }\r\n            if(TypePai){\r\n                var arrTemp = Compare.getTH(arrPai,TypePai);\r\n                if(arrTemp){\r\n                    return arrTemp;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return null;\r\n};\r\nCompare.getTH = function(arrPai,TypePai){ //剩餘牌取同花\r\n    var remainingPai = [];//剩下的牌\r\n    for(var i = 0;i < arrPai.length;i++){\r\n        var b_same = false;\r\n        for(var j = 0;j < TypePai.length;j++){\r\n            if(arrPai[i] === TypePai[j]){\r\n                delete TypePai[j];\r\n                b_same = true;\r\n                break;\r\n            }\r\n        }\r\n        if(!b_same){\r\n            remainingPai.push(arrPai[i]);\r\n        }\r\n    }\r\n\r\n    if(!remainingPai){\r\n        return null;\r\n    }\r\n\r\n    var len = remainingPai.length;\r\n    var arrHeitao = [];\r\n    var arrHongtao = [];\r\n    var arrMeihua = [];\r\n    var arrFangkuai = [];\r\n    var arrResultPai = [];\r\n    for(var i = 0; i < len; i++){\r\n        if(remainingPai[i].type === 1){\r\n            arrHeitao.push(remainingPai[i]);\r\n        }\r\n        if(remainingPai[i].type === 2){\r\n            arrHongtao.push(remainingPai[i]);\r\n        }\r\n        if(remainingPai[i].type === 0){\r\n            arrMeihua.push(remainingPai[i]);\r\n        }\r\n        if(remainingPai[i].type === 3){\r\n            arrFangkuai.push(remainingPai[i]);\r\n        }\r\n    }\r\n\r\n    if(arrHeitao.length > 4){\r\n        for(var i = 0;i < arrHeitao.length - 4;i++){\r\n            var arrTemp = [];\r\n            for(var j = 0;j<5;j++){\r\n                arrTemp.push(arrHeitao[j + i]);\r\n            }\r\n            return arrTemp;\r\n        }\r\n    }\r\n    if(arrHongtao.length > 4){\r\n        for(var i = 0;i < arrHongtao.length - 4;i++){\r\n            var arrTemp = [];\r\n            for(var j = 0;j<5;j++){\r\n                arrTemp.push(arrHongtao[j + i]);\r\n            }\r\n            return arrTemp;\r\n        }\r\n    }\r\n    if(arrMeihua.length > 4){\r\n        for(var i = 0;i < arrMeihua.length - 4;i++){\r\n            var arrTemp = [];\r\n            for(var j = 0;j<5;j++){\r\n                arrTemp.push(arrMeihua[j + i]);\r\n            }\r\n            return arrTemp;\r\n        }\r\n    }\r\n    if(arrFangkuai.length > 4){\r\n        for(var i = 0;i < arrFangkuai.length - 4;i++){\r\n            var arrTemp = [];\r\n            for(var j = 0;j<5;j++){\r\n                arrTemp.push(arrFangkuai[j + i]);\r\n            }\r\n            return arrTemp;\r\n        }\r\n    }\r\n};\r\n\r\n//葫芦\r\nCompare.getHuLu = function(arrPai,bSame){\r\n    var arrResultPai = [];\r\n    var analyseData = analysePai(arrPai);\r\n    var arrTongPai = analyseData.arrTongPai;\r\n    var Index = 0;\r\n    var Total = 0;\r\n    var arrHuLu = [];\r\n\r\n    for(var i = 0; i < arrTongPai.length; i++){\r\n        if(arrTongPai[i].length === 3){\r\n            for(var j = 0; j < arrTongPai.length; j++){\r\n                if(i === j){\r\n                    continue;\r\n                }\r\n                arrHuLu.push(arrTongPai[i][0]);\r\n                arrHuLu.push(arrTongPai[i][1]);\r\n                arrHuLu.push(arrTongPai[i][2]);\r\n                if(arrTongPai[j].length > 1){\r\n                    if(arrTongPai[j].length === 3){\r\n                        j++;\r\n                        if(!arrTongPai[j]){\r\n                            j--;\r\n                        }\r\n                        if(i === j && arrTongPai[j+1]){\r\n                            j++;\r\n                        }\r\n                        else if(i === j && !arrTongPai[j+1]){\r\n                            j--;\r\n                        }\r\n                    }\r\n                    arrHuLu.push(arrTongPai[j][0]);\r\n                    arrHuLu.push(arrTongPai[j][1]);\r\n                    arrResultPai.push(arrHuLu);\r\n                    Total++;\r\n                }\r\n                arrHuLu = [];\r\n            }\r\n        }\r\n        else if(arrTongPai[i].length > 3){ //同牌大于3张 \r\n            for(var j = 0; j < arrTongPai.length; j++){\r\n                if(i === j){\r\n                    continue;\r\n                }\r\n                var TongHuaPai = Compare.getTongHua(arrPai,false);\r\n                arrHuLu.push(arrTongPai[i][0]);\r\n                arrHuLu.push(arrTongPai[i][1]);\r\n                arrHuLu.push(arrTongPai[i][2]);\r\n                if(TongHuaPai){\r\n                    for(let m = 0;m < TongHuaPai.length;m++){\r\n                        for(let k = 0;k < arrHuLu.length;k++){\r\n                            if(TongHuaPai[m] === arrHuLu[k]){\r\n                                arrHuLu[k] = arrTongPai[i][3];\r\n                            }\r\n                        }\r\n                        \r\n                    }\r\n                }\r\n                if(arrTongPai[j].length > 1){\r\n                    arrHuLu.push(arrTongPai[j][0]);\r\n                    arrHuLu.push(arrTongPai[j][1]);\r\n                    arrResultPai.push(arrHuLu);\r\n                    Total++;\r\n                }\r\n                arrHuLu = [];\r\n            }\r\n        }\r\n    }\r\n    if(bSame){\r\n        Compare.Index++;\r\n    }\r\n    else{\r\n        Compare.Index = 0;\r\n    }\r\n    if(Compare.b_obtainType){  //需要取其他类型\r\n        Compare.b_obtainType = false;\r\n        arrResultPai = Compare.HLAdjust(arrPai,arrResultPai);\r\n        Compare.Index = 0;\r\n    }\r\n    Index = Compare.Index%Total;\r\n    return arrResultPai[Index];\r\n};\r\n//葫芦调整位置\r\nCompare.HLAdjust = function(arrPai,arrResultPai){\r\n        for(var x = 10;x > 3;x--){\r\n            if(x === 7){\r\n                continue;\r\n            }\r\n            for(var a = 0;a < arrResultPai.length;a++){\r\n                var remainingPai = [];// 去掉一个葫芦 剩下的牌\r\n                for(var i = 0;i < arrPai.length;i++){\r\n                    var b_same = false;\r\n                    for(var j = 0;j < arrResultPai[a].length;j++){\r\n                        if(arrPai[i] === arrResultPai[a][j]){\r\n                            b_same = true;\r\n                            break;\r\n                        }\r\n                    }\r\n                    if(!b_same){\r\n                        remainingPai.push(arrPai[i]);\r\n                    }\r\n                }\r\n                if(!remainingPai){\r\n                    return null;\r\n                }\r\n            \r\n                var TypePai0 = Compare.getTypePai(remainingPai,x,false);\r\n                var TypePai1 = Compare.getTypePai(remainingPai,x,true);\r\n                for(var P = 0; P < 2;P++){\r\n                    if(P === 0){\r\n                        var TypePai = TypePai0;\r\n                    }\r\n                    else if(P === 1){\r\n                        var TypePai = TypePai1;\r\n                    }\r\n                    if(TypePai){\r\n                        var data = arrResultPai[0];\r\n                        arrResultPai[0] = arrResultPai[a];\r\n                        arrResultPai[a] = data;\r\n                        return arrResultPai;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return arrResultPai;\r\n};\r\n\r\n//葫芦去掉一个最大的其他类型 再取\r\nCompare.HLdeleteType = function(arrPai){\r\n    for(var x = 10;x > 4;x--){\r\n        if(x === 7){\r\n            continue;\r\n        }\r\n        var TypePai0 = Compare.getTypePai(arrPai,x,false);\r\n        var TypePai1 = Compare.getTypePai(arrPai,x,true);\r\n        for(var P = 0; P < 2;P++){\r\n            if(P === 0){\r\n                var TypePai = TypePai0;\r\n            }\r\n            else if(P === 1){\r\n                var TypePai = TypePai1;\r\n            }\r\n            if(TypePai){\r\n                var remainingPai = [];//剩下的牌\r\n                for(var i = 0;i < arrPai.length;i++){\r\n                    var b_same = false;\r\n                    for(var j = 0;j < TypePai.length;j++){\r\n                        if(arrPai[i] === TypePai[j]){\r\n                            delete TypePai[j];\r\n                            b_same = true;\r\n                            break;\r\n                        }\r\n                    }\r\n                    if(!b_same){\r\n                        remainingPai.push(arrPai[i]);\r\n                    }\r\n                }\r\n\r\n                if(!remainingPai){\r\n                    return null;\r\n                }\r\n\r\n                var analyseData = analysePai(remainingPai);\r\n                var arrTongPai = analyseData.arrTongPai;\r\n                var Index = 0;\r\n                var Total = 0;\r\n                var arrHuLu = [];\r\n\r\n                for(var i = 0; i < arrTongPai.length; i++){\r\n                    if(arrTongPai[i].length === 3){\r\n                        for(var j = 0; j < arrTongPai.length; j++){\r\n                            if(i === j){\r\n                                continue;\r\n                            }\r\n                            arrHuLu.push(arrTongPai[i][0]);\r\n                            arrHuLu.push(arrTongPai[i][1]);\r\n                            arrHuLu.push(arrTongPai[i][2]);\r\n                            if(arrTongPai[j].length > 1){\r\n                                arrHuLu.push(arrTongPai[j][0]);\r\n                                arrHuLu.push(arrTongPai[j][1]);\r\n                                return arrHuLu;\r\n                            }\r\n                            arrHuLu = [];\r\n                        }\r\n                    }\r\n                    else if(arrTongPai[i].length > 3){ //同牌大于3张 \r\n                        for(var j = 0; j < arrTongPai.length; j++){\r\n                            if(i === j){\r\n                                continue;\r\n                            }\r\n                            var TongHuaPai = Compare.getTongHua(arrPai,false);\r\n                            arrHuLu.push(arrTongPai[i][0]);\r\n                            arrHuLu.push(arrTongPai[i][1]);\r\n                            arrHuLu.push(arrTongPai[i][2]);\r\n                            if(TongHuaPai){\r\n                                for(let m = 0;m < TongHuaPai.length;m++){\r\n                                    for(let k = 0;k < arrHuLu.length;k++){\r\n                                        if(TongHuaPai[m] === arrHuLu[k]){\r\n                                            arrHuLu[k] = arrTongPai[i][3];\r\n                                        }\r\n                                    }\r\n                                    \r\n                                }\r\n                            }\r\n                            if(arrTongPai[j].length > 1){\r\n                                arrHuLu.push(arrTongPai[j][0]);\r\n                                arrHuLu.push(arrTongPai[j][1]);\r\n                                return arrHuLu;\r\n                            }\r\n                            arrHuLu = [];\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    return null;\r\n};\r\n\r\n//铁支\r\nCompare.getTieZhi = function(arrPai,bSame){\r\n    var arrResultPai = [];\r\n    if(Compare.b_obtainType){  //需要取其他类型\r\n        Compare.b_obtainType = false;\r\n        var arrTemp = [];\r\n        arrTemp = Compare.TZdeleteType(arrPai);\r\n        if(arrTemp){\r\n            arrResultPai.push(arrTemp);\r\n            Total++;\r\n        }\r\n    }\r\n    var analyseData = analysePai(arrPai);\r\n    var arrTongPai = analyseData.arrTongPai;\r\n    var Index = 0;\r\n    var Total = 0;\r\n    var arrTieZhi = [];\r\n    for(var i = 0; i < arrTongPai.length; i++){\r\n        if(arrTongPai[i].length === 4){\r\n            arrTieZhi.push(arrTongPai[i][0]);\r\n            arrTieZhi.push(arrTongPai[i][1]);\r\n            arrTieZhi.push(arrTongPai[i][2]);\r\n            arrTieZhi.push(arrTongPai[i][3]);\r\n            arrResultPai.push(arrTieZhi);\r\n            Total++;\r\n            arrTieZhi = [];\r\n        }\r\n    }\r\n    if(bSame){\r\n        Compare.Index++;\r\n    }\r\n    else{\r\n        Compare.Index = 0;\r\n    }\r\n    Index = Compare.Index%Total;\r\n    return arrResultPai[Index];\r\n};\r\n//铁支去掉一个最大的其他类型 再取\r\nCompare.TZdeleteType = function(arrPai){\r\n    for(var x = 10;x > 3;x--){\r\n        if(x === 8){\r\n            continue;\r\n        }\r\n        var TypePai0 = Compare.getTypePai(arrPai,x,false);\r\n        var TypePai1 = Compare.getTypePai(arrPai,x,true);\r\n        for(var m = 0; m < 2;m++){\r\n            if(m === 0){\r\n                var TypePai = TypePai0;\r\n            }\r\n            else if(m === 1){\r\n                var TypePai = TypePai1;\r\n            }\r\n            if(TypePai){\r\n                var remainingPai = [];//剩下的牌\r\n                for(var i = 0;i < arrPai.length;i++){\r\n                    var b_same = false;\r\n                    for(var j = 0;j < TypePai.length;j++){\r\n                        if(arrPai[i] === TypePai[j]){\r\n                            delete TypePai[j];\r\n                            b_same = true;\r\n                            break;\r\n                        }\r\n                    }\r\n                    if(!b_same){\r\n                        remainingPai.push(arrPai[i]);\r\n                    }\r\n                }\r\n\r\n                if(!remainingPai){\r\n                    return null;\r\n                }\r\n\r\n                var analyseData = analysePai(remainingPai);\r\n                var arrTongPai = analyseData.arrTongPai;\r\n                var Index = 0;\r\n                var Total = 0;\r\n                var arrTieZhi = [];\r\n                for(var i = 0; i < arrTongPai.length; i++){\r\n                    if(arrTongPai[i].length === 4){\r\n                        arrTieZhi.push(arrTongPai[i][0]);\r\n                        arrTieZhi.push(arrTongPai[i][1]);\r\n                        arrTieZhi.push(arrTongPai[i][2]);\r\n                        arrTieZhi.push(arrTongPai[i][3]);\r\n                        return arrTieZhi;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    return null;\r\n};\r\n\r\n//五同\r\nCompare.getWuTong = function(arrPai,bSame){\r\n    var arrResultPai = [];\r\n    if(Compare.b_obtainType){  //需要取其他类型\r\n        Compare.b_obtainType = false;\r\n        var arrTemp = [];\r\n        arrTemp = Compare.WTdeleteType(arrPai);\r\n        if(arrTemp){\r\n            arrResultPai.push(arrTemp);\r\n            Total++;\r\n        }\r\n    }\r\n    var analyseData = analysePai(arrPai);\r\n    var arrTongPai = analyseData.arrTongPai;\r\n    var Index = 0;\r\n    var Total = 0;\r\n    var arrWuTong = [];\r\n    for(var i = 0; i < arrTongPai.length; i++){\r\n        if(arrTongPai[i].length === 5){\r\n            arrWuTong.push(arrTongPai[i][0]);\r\n            arrWuTong.push(arrTongPai[i][1]);\r\n            arrWuTong.push(arrTongPai[i][2]);\r\n            arrWuTong.push(arrTongPai[i][3]);\r\n            arrWuTong.push(arrTongPai[i][4]);\r\n            arrResultPai.push(arrWuTong);\r\n            Total++;\r\n            arrWuTong = [];\r\n        }\r\n    }\r\n    if(bSame){\r\n        Compare.Index++;\r\n    }\r\n    else{\r\n        Compare.Index = 0;\r\n    }\r\n    Index = Compare.Index%Total;\r\n    return arrResultPai[Index];\r\n};\r\n//五同去掉一个最大的其他类型 再取\r\nCompare.WTdeleteType = function(arrPai){\r\n    for(var x = 10;x > 3;x--){\r\n        if(x === 10){\r\n            continue;\r\n        }\r\n        var TypePai0 = Compare.getTypePai(arrPai,x,false);\r\n        var TypePai1 = Compare.getTypePai(arrPai,x,true);\r\n        for(var m = 0; m < 2;m++){\r\n            if(m === 0){\r\n                var TypePai = TypePai0;\r\n            }\r\n            else if(m === 1){\r\n                var TypePai = TypePai1;\r\n            }\r\n            if(TypePai){\r\n                var remainingPai = [];//剩下的牌\r\n                for(var i = 0;i < arrPai.length;i++){\r\n                    var b_same = false;\r\n                    for(var j = 0;j < TypePai.length;j++){\r\n                        if(arrPai[i] === TypePai[j]){\r\n                            delete TypePai[j];\r\n                            b_same = true;\r\n                            break;\r\n                        }\r\n                    }\r\n                    if(!b_same){\r\n                        remainingPai.push(arrPai[i]);\r\n                    }\r\n                }\r\n\r\n                if(!remainingPai){\r\n                    return null;\r\n                }\r\n\r\n                var analyseData = analysePai(remainingPai);\r\n                var arrTongPai = analyseData.arrTongPai;\r\n                var Index = 0;\r\n                var Total = 0;\r\n                var arrWuTong = [];\r\n                for(var i = 0; i < arrTongPai.length; i++){\r\n                    if(arrTongPai[i].length === 5){\r\n                        arrWuTong.push(arrTongPai[i][0]);\r\n                        arrWuTong.push(arrTongPai[i][1]);\r\n                        arrWuTong.push(arrTongPai[i][2]);\r\n                        arrWuTong.push(arrTongPai[i][3]);\r\n                        arrWuTong.push(arrTongPai[i][4]);\r\n                        return arrWuTong;\r\n                        arrWuTong = [];\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    return null;\r\n};\r\n\r\n//获取牌类型\r\nCompare.getType = function(arrPai){\r\n    arrPai.sort(function(a,b){return (b.value-a.value);})\r\n    \r\n    var arrResultType = [];\r\n    var isSGCS = function(tongPai){\r\n        var sanCount = 0;\r\n        var siCount = 0;\r\n        for (var i = 0; i < tongPai.length; i++) {\r\n            if(tongPai[i].count === 3){\r\n                sanCount++;\r\n            }\r\n            if (siCount) {\r\n                siCount++;\r\n            }\r\n            return (sanCount === 3 && siCount === 1);\r\n        }\r\n    };\r\n    var isSTST = function(tongPai){\r\n        for (var i = 0; i < tongPai.length; i++) {\r\n            if(tongPai[i].count !== 3){\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    };\r\n    var isSSZ = function(){\r\n\r\n    };\r\n    \r\n    var type = 0;\r\n    var analyseData = analysePai(arrPai);\r\n    var tongPai = analyseData.tongPai;\r\n    var sanPai = analyseData.sanPai;\r\n    var paiValue = analyseData.paiValue;\r\n    var paiLen = arrPai.length;\r\n    var tpLen = tongPai.length;\r\n    var spLen = sanPai.length;\r\n\r\n\r\n    if (Compare.getWuTong(arrPai,false)) {\r\n        type = PaiType.WT;\r\n        arrResultType.push(PaiType.WT);\r\n    }\r\n    if (Compare.getShunZi(arrPai,false,true)) {\r\n        type = PaiType.THS;\r\n        arrResultType.push(PaiType.THS);\r\n    }\r\n    if (Compare.getTieZhi(arrPai,false)) {\r\n        type = PaiType.TZ;\r\n        arrResultType.push(PaiType.TZ);\r\n    }\r\n    if (Compare.getHuLu(arrPai,false)) {\r\n        type = PaiType.HL;\r\n        arrResultType.push(PaiType.HL);\r\n    }\r\n    if (Compare.getTongHua(arrPai,false)) {\r\n        type = PaiType.TH;\r\n        arrResultType.push(PaiType.TH);\r\n    }\r\n    if (Compare.getShunZi(arrPai,false,false)) {\r\n        type = PaiType.SZ;\r\n        arrResultType.push(PaiType.SZ);\r\n    }\r\n\r\n    if (Compare.getSanTiao(arrPai,false)) {\r\n        type = PaiType.ST;\r\n        arrResultType.push(PaiType.ST);\r\n    }\r\n\r\n    if (analyseData.tongPai.length > 1) {\r\n        type = PaiType.ED;\r\n        arrResultType.push(PaiType.ED);\r\n    }\r\n    if (analyseData.tongPai.length > 0) {\r\n        type = PaiType.YD;\r\n        arrResultType.push(PaiType.YD);\r\n    }\r\n    else{\r\n        type = PaiType.WL;\r\n        arrResultType.push(PaiType.WL);\r\n    }\r\n    return arrResultType;\r\n};\r\n//\r\nvar analysePai = function(arrPai){\r\n\tvar len = arrPai.length;\r\n\tvar data = {};\r\n\tdata.sanPai = [];\r\n\tdata.tongPai = [];\r\n    data.arrTongPai = [];\r\n    data.paiValue = [];\r\n\t//同牌信息统计\r\n\tvar index = 0;\r\n\tvar count = 1;\r\n    var arrTemp = [];\r\n    console.log('arrPai.lenght : '+len);\r\n\tfor(var i = 0; i < len; ++i){\r\n\t\tif(i >= len - 1){\r\n\t\t\tif(count > 1){\r\n\t\t\t\tvar tongPaiTmp= {};\r\n\t\t\t\ttongPaiTmp.value = arrPai[index].value;\r\n\t\t\t\ttongPaiTmp.count = count;\r\n\t\t\t\tdata.tongPai.push(tongPaiTmp);\r\n\t\t\t}\r\n\t\t\tbreak;\r\n\t\t}\r\n        var Atype = typeof(arrPai[index]);\r\n        if(typeof(arrPai[index]) == 'undefind'){\r\n            console.log('i : '+i);\r\n        }\r\n\r\n        console.log('value : '+arrPai[index].value);\r\n        console.log('i : '+i);\r\n\t\tif(arrPai[index].value ===  arrPai[i+1].value){\r\n\t\t\t++count;\r\n\t\t}\r\n\t\telse{\r\n\t\t\tif(count > 1){\r\n\t\t\t\tvar tongPaiTmp= {};\r\n\t\t\t\ttongPaiTmp.value = arrPai[index].value;\r\n\t\t\t\ttongPaiTmp.count = count;\r\n                data.tongPai.push(tongPaiTmp);\r\n\t\t\t}\r\n\t\t\tindex = i+1;\r\n\t\t\tcount = 1;\r\n\t\t}\t\r\n\t}\r\n\r\n    //同牌数据\r\n    var tLen = data.tongPai.length;\r\n    for(var i = 0;i<tLen;i++){\r\n        for(var j = 0;j<len;j++){\r\n            if(arrPai[j].value === data.tongPai[i].value){\r\n                arrTemp.push(arrPai[j]);\r\n\t\t\t}\r\n        }\r\n        if(arrTemp.length > 0){\r\n            data.arrTongPai.push(arrTemp);\r\n            arrTemp = [];\r\n        }\r\n    }\r\n\t//散牌\r\n\tfor(var i = 0; i < len; ++i){\r\n\t\tvar tLen = data.tongPai.length;\r\n\t\tvar bTongPai = false;\r\n\t\tfor(var j = 0; j < tLen; ++j){\r\n\t\t\tif(arrPai[i].value === data.tongPai[j].value){\r\n\t\t\t\tbTongPai = true;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif(!bTongPai){\r\n\t\t\tdata.sanPai.push(arrPai[i]);\r\n\t\t}\r\n\t}\r\n\r\n    //所有的牌值\r\n    for(var i = 0; i < len;i++){\r\n        var bExist = false; //判断是否存在\r\n        for(var j = 0;j < data.paiValue.length;j++){\r\n            if(data.paiValue[j].value === arrPai[i].value){\r\n                bExist = true;\r\n            }\r\n        }\r\n        if(!bExist){\r\n            data.paiValue.push(arrPai[i]);\r\n        }\r\n    }\r\n\r\n\treturn data;\r\n};\r\n\r\n//同类型比较大小\r\nCompare.compareSameType = function(arrPai1, arrPai2,type){\r\n    if(type === 6){ //同花单独处理\r\n        for(let i = 0;i<arrPai1.length;i++){\r\n            if(arrPai1[i].value > arrPai2[i].value){\r\n                return 1;\r\n            }\r\n            else if(arrPai1[i].value < arrPai2[i].value){\r\n                return -1;\r\n            }\r\n        }\r\n        return 0;\r\n    }\r\n    var analyseData1 = analysePai(arrPai1);\r\n    var analyseData2 = analysePai(arrPai2);\r\n    var tpInfo1 = analyseData1.tongPai;\r\n    var tpInfo2 = analyseData2.tongPai;\r\n    tpInfo1.sort(function(a, b){return (b.count - a.count)});\r\n    tpInfo2.sort(function(a, b){return (b.count - a.count)});\r\n    var sanPai1 = analyseData1.sanPai;\r\n    var sanPai2 = analyseData2.sanPai;\r\n    var resultValue = 0;\r\n    var tpLen1 = tpInfo1.length;\r\n    var tpLen2 = tpInfo2.length;\r\n    if(tpLen1 === tpLen2){\r\n        for (var i = 0; i < tpLen1; i++) {\r\n            resultValue = comparDX(tpInfo1[i].value, tpInfo2[i].value);\r\n            if (0 !== resultValue) {\r\n                return resultValue;\r\n            }\r\n        }\r\n    }\r\n    \r\n    var spLen1 = sanPai1.length;\r\n    var spLen2 = sanPai2.length;\r\n    if(spLen1 === spLen2){\r\n        for (var i = 0; i < spLen1; i++) {\r\n            resultValue = comparDX(sanPai1[i].value, sanPai2[i].value);\r\n            if (0 !== resultValue) {\r\n                return resultValue;\r\n            }\r\n        }\r\n    }\r\n    return 0;\r\n};\r\n\r\nvar comparDX = function(value1, value2){\r\n    if(value1 > value2){\r\n        return 1;\r\n    }\r\n    else if(value1 === value2){\r\n        return 0;\r\n    }\r\n    else{\r\n        return -1;\r\n    }\r\n};\r\nmodule.exports = Compare;"]}